<html>

<!-- Ultimate Game Stash file -->
<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->


<!DOCTYPE html>
<html lang="en" class="homepage">

<head>
  <base href="https://cdn.jsdelivr.net/gh/R74nCom/sandboxels@main/">
	<meta charset="utf-8">
	<title id="titleTag">Sandboxels - Experiment with Pixels</title>
	<meta name="description" content="Relax or experiment with over 500 materials in this falling sand simulator, featuring heat, chemical reactions, density, burning, explosions." id="pageDesc">
	<meta name="keywords" content="falling sand, elements, pixel art, simulator, powder, toy, chemistry, science, educational">
	<meta name="author" content="R74n">
	<meta name="copyright" content="R74n">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="robots" content="all">
	<meta name="contact" content="contact@R74n.com">
	<link rel="canonical" href="https://sandboxels.r74n.com" id="canonicalLink"/>
	
	<!--Favicons-->
	<link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png?v=2">
	<link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png?v=2">
	<link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png?v=2">
	<link rel="manifest" href="manifest.json">
	<link rel="mask-icon" href="icons/safari-pinned-tab.svg?v=2" color="#2167ff">
	<link rel="shortcut icon" href="icons/favicon.ico?v=2">
	<link rel="help" href="https://sandboxels.R74n.com/help">
	<link rel="search" href="https://R74n.com/search/#gsc.tab=0">
	<link rel="license" href="https://sandboxels.R74n.com/license.txt">
	<meta name="msapplication-TileColor" content="#e6d577">
	<meta name="theme-color" content="#000000">

	<!--OpenGraph-->
	<meta property="og:locale" content="en_US">
	<meta property="og:type" content="website">
	<meta property="og:title" content="Sandboxels - Experiment with Pixels">
	<meta property="og:description" content="Relax or experiment with over 500 materials in this falling sand simulator.">
	<meta property="og:url" content="https://sandboxels.r74n.com">
	<meta property="og:site_name" content="Sandboxels">
	<meta property="og:image" content="https://sandboxels.r74n.com/icons/cover-3840x1240px-text.png">
	<meta property="og:image:width" content="3840">
	<meta property="og:image:height" content="1240">
	<meta property="og:image:type" content="image/png">
	<meta property="og:image:alt" content="Magma falling into Water, forming Steam and Basalt. Pixel art style.">

	<!--Twitter-->
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:title" content="Sandboxels - Experiment with Pixels">
	<meta name="twitter:description" content="Relax or experiment with over 500 materials in this falling sand simulator.">
	<meta name="twitter:site:id" content="1436857621827530753">
	<meta name="twitter:image" content="https://sandboxels.r74n.com/icons/cover-3840x1240px-text.png">
	<meta name="twitter:image:alt" content="Magma falling into Water, forming Steam and Basalt. Pixel art style.">
	<meta name="twitter:creator:id" content="1436857621827530753">

	<script> // versioning info
		currentversion = "1.12";
		saveVersion = 5;
		standalone = false;
		standaloneType = null;
	</script>
	<style>
		.setting-span {
			display:block;padding-bottom:0.5em
		}
	</style>
	<!-- Schema -->
	<script type="application/ld+json">
		{
		  "@context": "https://schema.org",
		  "@type": ["VideoGame","MobileApplication","WebApplication"],
		  "gamePlatform":["Web Browser","Windows","macOS"],
		  "image":"https://sandboxels.r74n.com/icons/icon.png",
		  "url": "https://sandboxels.r74n.com",
		  "name":"Sandboxels",
		  "author":"R74n",
		  "creator":"R74n",
		  "description":"Sandboxels is an in-browser falling sand simulator, with mechanics such as heat simulation, electricity, density, chemical reactions, fire, and over 500 unique elements to play with.",
		  "offers":{
			"@type":"Offer",
			"price":"0",
			"priceCurrency":"USD",
			"availability":"https://schema.org/InStock"
		  },
		  "genre": "Falling-sand game",
		  "softwareVersion":"1.11.2",
		  "datePublished":"2021-12-15",
		  "dateCreated":"2021-12-15",
		  "gameTip":"https://sandboxels.r74n.com/controls",
		  "softwareHelp":"https://sandboxels.r74n.com/controls",
		  "releaseNotes":"https://sandboxels.r74n.com/changelog",
		  "screenshot": "https://sandboxels.r74n.com/icons/cover-3840x1240px-text.png",
		  "softwareRequirements": "HTML5",
		  "archivedAt": "https://web.archive.org/web/20230519005427/https://sandboxels.r74n.com/",
		  "copyrightYear": 2021,
		  "copyrightNotice": "©2021-2025. All Rights Reserved. R74n",
		  "license": "https://sandboxels.r74n.com/license.txt",
		  "discussionUrl": ["https://r74n.com/discord/","https://www.reddit.com/r/Sandboxels/","https://steamcommunity.com/app/3664820/discussions/"],
		  "downloadUrl": "https://store.steampowered.com/app/3664820/Sandboxels/",
		  "installUrl": "https://store.steampowered.com/app/3664820/Sandboxels/",
		  "trailer": "https://www.youtube.com/watch?v=TgHnD-KRieM",
		  "educationalUse": "Hands-on lab experiments and learning",
		  "headline": "Sandboxels",
		  "isAccessibleForFree": true,
		  "isFamilyFriendly": true
	}</script>

	<script>
		// replaceAll polyfill
		if (!String.prototype.replaceAll) {String.prototype.replaceAll = function(str, newStr){if (Object.prototype.toString.call(str).toLowerCase() === '[object regexp]') {return this.replace(str, newStr);}return this.replace(new RegExp(str, 'g'), newStr);};}
		// requestFullScreen
		function requestFullScreen(element) { /* Supports most browsers and their versions.*/ var requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen; if (requestMethod) { /*Native full screen.*/ requestMethod.call(element); } else if (typeof window.ActiveXObject !== "undefined") { /*Older IE.*/ var wscript = new ActiveXObject("WScript.Shell"); if (wscript !== null) { wscript.SendKeys("{F11}"); } } }
	</script>

	<script> // PWA things
		// add service worker service-worker.js
		if (typeof navigator !== 'undefined' && !standalone) {
			if ('serviceWorker' in navigator) {
				window.addEventListener('load', function() {
					navigator.serviceWorker.register('/service-worker.js');
				});
			}
		}
	</script>

	<script>
		console.log("%c WELCOME TO R74n ","position: absolute; top: 50%; right: 50%; transform: translate(50%,-50%); font-family: Arial; font-size: 3em; font-weight: 700; color: #00ffff; text-shadow: 1px 1px 1px #14c9c9, 1px 2px 1px #14c9c9, 1px 3px 1px #14c9c9, 1px 4px 1px #14c9c9, 1px 5px 1px #14c9c9, 1px 13px 6px rgba(16,16,16,0.4), 1px 22px 10px rgba(16,16,16,0.2), 1px 25px 35px rgba(16,16,16,0.2), 1px 30px 60px rgba(16,16,16,0.4);padding:10px");
		console.log("Sandboxels is developed by R74n and can be played on the official website: https://sandboxels.R74n.com/");
		console.log("Can't access? Join our Discord: https://R74n.com/discord/");
		console.log("Found this on another website? Let us know!");
		console.log("©2021-" + new Date().getFullYear() + ". All Rights Reserved. https://sandboxels.R74n.com/license.txt");

		isOnSite = location.hostname === "sandboxels.r74n.com";

		// If settings is in localStorage, load it. If not, create an empty object.
		settings = localStorage.getItem("settings") ? JSON.parse(localStorage.getItem("settings")) : {};
		// URL query handling
		var urlParams = new URLSearchParams(window.location.search);
		if (urlParams.has("worldgen")) {
			settings.worldgen = urlParams.get("worldgen");
		}
		if (!settings["unlocked"]) {
			settings["unlocked"] = {};
		}
		function saveSettings() {
			if (currentSaveData.loaded) { return }
			localStorage.setItem("settings", JSON.stringify(settings));
		}

		saveTagsMap = {};
		saveTags = {
			1: "Structure/City",
			2: "Natural/Landscape",
			3: "Machine",
			4: "Destroyable",
			5: "Art",
			6: "Cooking/Food",
			7: "Experiment",
			8: "Weapon",
			9: "Workstation",
			10: "Holiday",
			11: "Modded",
			12: "Challenge",
			13: "Contest",
			14: "Contest Submission",
			15: "Miscellaneous",
			90: "Official",
		}
		
		defaultCooldown = 8;
		behaviors = {
POWDER_OLD: [
	"XX|XX|XX",
	"XX|XX|XX",
	"M2|M1|M2",
],
POWDER: function(pixel) {
	if (pixel.start === pixelTicks) {return}
	if (pixel.charge && elements[pixel.element].behaviorOn) {
		pixelTick(pixel);
		return;
	}
	if (!tryMove(pixel, pixel.x, pixel.y+1)) {
		if (Math.random() < 0.5) {
			if (!tryMove(pixel, pixel.x+1, pixel.y+1)) {
				tryMove(pixel, pixel.x-1, pixel.y+1);
			}
		} else if (!tryMove(pixel, pixel.x-1, pixel.y+1)) {
			tryMove(pixel, pixel.x+1, pixel.y+1);
		}
	}
	doDefaults(pixel);
},
AGPOWDER: [
	"M2|M1|M2",
	"XX|XX|XX",
	"XX|XX|XX",
],
LIQUID_OLD: [
	"XX|XX|XX",
	"M2|XX|M2",
	"M1|M1|M1",
],
LIQUID: function(pixel) {
	if (pixel.start === pixelTicks) {return}
	if (pixel.charge && elements[pixel.element].behaviorOn) {
		pixelTick(pixel);
		return;
	}
	var viscMove = true;
	if (elements[pixel.element].viscosity) {
		viscMove = (Math.random()*100) < 100 / Math.pow(elements[pixel.element].viscosity, 0.25);
	}
	if (!viscMove) {
		var move1Spots = [
			0
		]
	}
	else {
		var move1Spots = [
			1,0,-1
		]
	}
	var moved = false;
	for (var i = 0; i < move1Spots.length; i++) {
		const j = Math.random()*move1Spots.length | 0;
		const coord = move1Spots[j];
		if (tryMove(pixel, pixel.x+coord, pixel.y+1)) { moved = true; break; }
		move1Spots.splice(j, 1);
	}
	if (!moved) {
		if (viscMove) {
			if (Math.random() < 0.5) {
				if (!tryMove(pixel, pixel.x+1, pixel.y)) {
					tryMove(pixel, pixel.x-1, pixel.y);
				}
			} else {
				if (!tryMove(pixel, pixel.x-1, pixel.y)) {
					tryMove(pixel, pixel.x+1, pixel.y);
				}
			}
		}
	}
	doDefaults(pixel);
},
SUPERFLUID_OLD: [
	"XX|XX|XX",
	"XX|XX|M2 AND BO",
	"XX|M1|M2",
],
SUPERFLUID: function(pixel) {
	if (pixel.start === pixelTicks) {return}
	if (pixel.charge && elements[pixel.element].behaviorOn) {
		pixelTick(pixel);
		return;
	}
	if (!tryMove(pixel, pixel.x, pixel.y+1)) {
		// go either left or right depending on pixel.flipX
		var newx = pixel.flipX ? pixel.x-1 : pixel.x+1;
		if (Math.random() < 0.5) {
			if (!tryMove(pixel, newx, pixel.y)) {
				pixel.flipX = !pixel.flipX;
				tryMove(pixel, newx, pixel.y+1);
			}
		}
		else {
			if (!tryMove(pixel, newx, pixel.y+1)) {
				if (!tryMove(pixel, newx, pixel.y)) { pixel.flipX = !pixel.flipX; }
			}
		}
	}
	doDefaults(pixel);
},
LIGHTWEIGHT: [
	"XX|XX|XX",
	"XX|FX%0.25|XX",
	"M2%10|M1%10|M1%10",
],
SLIDE: [
	"XX|XX|XX",
	"XX|XX|M2 AND BO",
	"XX|M1|M1",
],
AGLIQUID: [
	"M1|M1|M1",
	"M2|XX|M2",
	"XX|XX|XX",
],
WALL: [
	"XX|XX|XX",
	"XX|XX|XX",
	"XX|XX|XX",
],
UL_UR: [
	"M1|M1|M1",
	"M2|XX|M2",
	"XX|M2|XX",
],
UL_UR_OPTIMIZED: function(pixel) {
	if (pixel.start === pixelTicks) {return}
	var move1Spots = [0,1,-1]
	var moved = false;
	for (var i = 0; i < move1Spots.length; i++) {
		const j = Math.random()*move1Spots.length | 0;
		const coord = move1Spots[j];
		if (tryMove(pixel, pixel.x+coord, pixel.y-1)) { moved = true; break; }
		else { move1Spots.splice(j, 1);}
	}
	if (!moved && !pixel.del) {
		var move2Spots = [
			[0, 1],
			[1, 0],
			[-1, 0],
		]
		for (var i = 0; i < move2Spots.length; i++) {
			const j = Math.random()*move2Spots.length | 0;
			const coords = move2Spots[j];
			if (tryMove(pixel, pixel.x+coords[0], pixel.y+coords[1])) { break; }
			else if (move2Spots.length > 1) { move2Spots.splice(j, 1); }
		}
	}
	if (pixel.del !== true) {
		doHeat(pixel)
		doAirDensity(pixel);
		doBurning(pixel);
	}
},
GAS_OLD: [
	"M2|M1|M2",
	"M1|XX|M1",
	"M2|M1|M2",
],
GAS: function(pixel) {
	if (pixel.start === pixelTicks) {return}
	if (pixel.charge && elements[pixel.element].behaviorOn) {
		pixelTick(pixel);
		return;
	}
	let move1Spots = adjacentCoords.slice(0);
	var moved = false;
	for (var i = 0; i < move1Spots.length; i++) {
		const j = Math.random()*move1Spots.length | 0;
		const coords = move1Spots[j];
		if (tryMove(pixel, pixel.x+coords[0], pixel.y+coords[1])) { moved = true; break; }
		move1Spots.splice(j, 1);
	}
	if (moved === false) {
		let move2Spots = diagonalCoords.slice(0);
		for (var i = 0; i < move2Spots.length; i++) {
			const j = Math.random()*move2Spots.length | 0;
			const coords = move2Spots[j];
			if (tryMove(pixel, pixel.x+coords[0], pixel.y+coords[1])) { break; }
			move2Spots.splice(j, 1);
		}
	}
	doDefaults(pixel);
},
DGAS_OLD: [
	"M2|M1|M2",
	"M1|DL%5|M1",
	"M2|M1|M2",
],
DGAS: function(pixel) {
	if (Math.random() < 0.05) {
		deletePixel(pixel.x,pixel.y);
		return;
	}
	behaviors.GAS(pixel);
},
SUPPORT: [
	"XX|XX|XX",
	"SP|XX|SP",
	"XX|M1|XX",
],
SUPPORTPOWDER: [
	"XX|XX|XX",
	"SP|XX|SP",
	"M2|M1|M2",
],
DELETE: [
	"XX|DL|XX",
	"DL|XX|DL",
	"XX|DL|XX",
],
FILL: [
	"XX|CL|XX",
	"CL|XX|CL",
	"XX|CL|XX",
],
CLONER: [
	"XX|CF|XX",
	"CF|XX|CF",
	"XX|CF|XX",
],
CLONE_ON_CLICK: function(pixel,element) {
	if (pixel.clone) return;
	if (elements[pixel.element].ignore.indexOf(element) !== -1) return;
	if (elements[element].tool && elements[element].canPlace !== true) return;
	if (elements[element].canPlace === false) return;
	pixel.clone = element;
	if (elements[element].temp !== undefined) pixel.temp = elements[element].temp;
},
STAIN_ON_MIX: function(pixel1,pixel2) {
	if (elements[pixel1.element].id === elements[pixel2.element].id) return;
	if (elements[pixel2.element].isGas) return;
	if (!pixel1.color.match(/^rgb/)) return;
	
	stainPixel(pixel2, RGBToHex(pixel1.color.match(/\d+/g)), 0.05);
	if (Math.random() < 0.05) deletePixel(pixel1.x,pixel1.y);
},
STURDYPOWDER_OLD: [
	"XX|XX|XX",
	"XX|XX|XX",
	"XX|M1|XX",
],
STURDYPOWDER: function(pixel) {
	if (pixel.start === pixelTicks) {return}
	if (pixel.charge && elements[pixel.element].behaviorOn) {
		pixelTick(pixel);
		return;
	}
	tryMove(pixel,pixel.x,pixel.y+1);
	doDefaults(pixel);
},
SELFDELETE: [
	"XX|XX|XX",
	"XX|DL|XX",
	"XX|XX|XX",
],
FOAM: [
	"XX|XX|XX",
	"XX|DL%5|XX",
	"M2%25|M1%25|M2%25",
],
BUBBLE: [
	"XX|XX|XX",
	"XX|DL%0.25 AND FX%1|M1%5",
	"XX|M1%1|M1%2",
],
STICKY: [
	"XX|ST|XX",
	"ST|XX|ST",
	"XX|ST AND M1|XX",
],
MOLTEN: function(pixel) {
	if (Math.random() < 0.025 && isEmpty(pixel.x,pixel.y-1)) {
		createPixel("fire",pixel.x,pixel.y-1);
		pixelMap[pixel.x][pixel.y-1].temp = pixel.temp;
		if (elements[pixel.element].fireColor) {
			pixelMap[pixel.x][pixel.y-1].color = pixelColorPick(pixelMap[pixel.x][pixel.y-1],elements[pixel.element].fireColor);
		}
	}
	behaviors.LIQUID(pixel);
},
MOLTEN_OLD: [
	"XX|CR:fire%2.5|XX",
	"M2|XX|M2",
	"M1|M1|M1",
],
RADPOWDER: [
	"XX|XX|XX",
	"XX|RL:radiation%1|XX",
	"M2|M1|M2",
],
RADMOLTEN: [
	"XX|CR:fire,fire,fire,radiation%4.5|XX",
	"M2 AND CR:radiation%1|XX|M2 AND CR:radiation%1",
	"M1|M1|M1",
],
RADLIQUID: [
	"XX|XX|XX",
	"M2|RL:radiation%2|M2",
	"M1|M1|M1",
],
BOUNCY: function(pixel) {
	if (pixel.bx===undefined) {
		// choose 1, 0, or -1
		pixel.bx = Math.random() < 0.5 ? 1 : Math.random() < 0.5 ? 0 : -1;
		pixel.by = Math.random() < 0.5 ? 1 : Math.random() < 0.5 ? 0 : -1;
		// if both are 0, make one of them 1 or -1
		if (pixel.bx===0 && pixel.by===0) {
			if (Math.random() < 0.5) { pixel.bx = Math.random() < 0.5 ? 1 : -1; }
			else { pixel.by = Math.random() < 0.5 ? 1 : -1; }
		}
	}
	// move and invert direction if hit
	if (!pixel.del && pixel.bx && !tryMove(pixel, pixel.x+pixel.bx, pixel.y)) { pixel.bx = -pixel.bx; }
	if (!pixel.del && pixel.by && !tryMove(pixel, pixel.x, pixel.y+pixel.by)) { pixel.by = -pixel.by; }
},
FEEDPIXEL: function(pixel) {
	if (!pixel.food) { pixel.food = 1 }
	else { pixel.food ++ }
	if (pixel.food > (elements[pixel.element].foodNeed||30)) {

		let released;
		if (elements[pixel.element].egg) {
			released = releaseElement(pixel,elements[pixel.element].egg,1,true);
		}
		else {
			released = releaseElement(pixel,"egg",1,true)
			if (released) {
				released.animal = elements[pixel.element].baby || pixel.element;
				if (elements[pixel.element].eggColor) {
					released.color = pixelColorPick(released,elements[pixel.element].eggColor)
				}
			}
		}
		if (released) {
			pixel.food = 0;
		}
	}
},
KILLPIXEL1: function(pixel) {
	pixel.dead = true;
},
KILLPIXEL2: function(pixel1,pixel2) {
	pixel2.dead = true;
},
FLY: function(pixel, onHit) {
	var nx = pixel.flipX ? -1 : 1;
	var ny = Math.random() < 0.5 ? -1 : 1;
	var hit = false;
	if (!tryMove(pixel, pixel.x+nx, pixel.y+ny)) {
		if (!tryMove(pixel, pixel.x+nx, pixel.y-ny)) {
			if (!tryMove(pixel, pixel.x, pixel.y+ny)) {
				if (!tryMove(pixel, pixel.x, pixel.y-ny)) {hit=[pixel.x, pixel.y-ny]}
			}else {hit=[pixel.x, pixel.y+ny]}
		}else {hit=[pixel.x+nx, pixel.y-ny]}
	}else {hit=[pixel.x+nx, pixel.y+ny]}
	if (hit && onHit) {
		if (!isEmpty(hit[0], hit[1], true)) {
			onHit(pixel, pixelMap[hit[0]][hit[1]]);
		}
		else {onHit(pixel);}
	}
	if (pixel.del) {return}
	if ((!isEmpty(pixel.x+nx,pixel.y) && !(currentSaveData.loopX && onBorderX(pixel.x))) || Math.random() < 0.02) {
		pixel.flipX = !pixel.flipX;
	}
	if (pixel.charge && elements[pixel.element].behaviorOn) {
		pixelTick(pixel)
	}
	doDefaults(pixel);
},
CRAWLER2: function(pixel,onHit,afterMove) {
	var newX = 0; var newY = 0;
	var floorX = 0; var floorY = 0;
	if (pixel.r === undefined) { pixel.r = 0 }
	if (pixel.climb === undefined) { pixel.climb = 0 }
	if (pixel.r === 0) { newX = 1; floorY = 1; }
	else if (pixel.r === 1) { newY = 1; floorX = 1; }
	else if (pixel.r === 2) { newX = -1; floorY = 1; }
	else if (pixel.r === 3) { newY = -1; floorX = 1;}
	
	if (!isEmpty(pixel.x-floorX,pixel.y-floorY)) {
		if (!isEmpty(pixel.x+floorX,pixel.y+floorY) && Math.random() < 0.5) {}
		else {
			floorX = -floorX; floorY = -floorY;
		}
	}

	if (!(isEmpty(pixel.x+floorX,pixel.y+floorY) && tryMove(pixel,pixel.x,pixel.y+1))) { // fall
		pixel.climb++;
		if (!tryMove(pixel,pixel.x+newX,pixel.y+newY) && !tryMove(pixel,pixel.x+newX,pixel.y+newY+(Math.random() < 0.5 ? 1 : -1))) { // hits wall
			pixel.climb = 0;
			if (onHit) { onHit(pixel,newX,newY); }
			if (!isEmpty(pixel.x+newX,pixel.y+newY,true) && pixelMap[pixel.x+newX][pixel.y+newY].element === pixel.element) {
				pixelMap[pixel.x+newX][pixel.y+newY].r = pixel.r;
			}
			else {
				pixel.r = Math.floor(Math.random() * 4);
			}
		}
		else if (pixel.r % 2 === 1) {
			if (tryMove(pixel,pixel.x+floorX,pixel.y)) {
				pixel.r = floorX < 0 ? 2 : 0;
				pixel.climb = 0;
			}
		}
		else if (tryMove(pixel,pixel.x,pixel.y+floorY)) {
			pixel.r = floorY < 0 ? 3 : 1;
			pixel.climb = 0;
		}
		if (afterMove) { afterMove(pixel,newX,newY); }
	}
	else {
		pixel.r = Math.random() < 0.5 ? 0 : 2;
		pixel.climb = 0;
	}
	doDefaults(pixel);
},
CRAWLER: function(pixel) {},
ABSORB: function(pixel,limit=100,rate=0.1) {
	if (pixel.moist === undefined) { pixel.moist = 0 }
	for (var i = 0; i < adjacentCoords.length; i++) {
		var coords = adjacentCoords[i];
		var x = pixel.x + coords[0];
		var y = pixel.y + coords[1];
		if (!isEmpty(x,y,true)) {
			var newPixel = pixelMap[x][y];
			if (newPixel.element === pixel.element) {
				var avg = ((pixel.moist||0) + (newPixel.moist||0))/2;
				pixel.moist = avg;
				newPixel.moist = avg;
			}
			else if (elements[pixel.element].reactions[newPixel.element] && (!elements[pixel.element].reactions[newPixel.element].elem2 || elements[pixel.element].reactions[newPixel.element].tempMin) && (pixel.moist||0) < limit && Math.random() < rate) {
				deletePixel(x,y);
				pixel.moist++;
			}
		}
		else if (pixel.moist >= 1 && pixel.temp > 100 && !outOfBounds(x,y) && Math.random() < 0.1) {
			createPixel("steam",x,y);
			pixel.moist--;
		}
	}
},
RELEASE_MOISTURE: function(pixel) {
	if (pixel.moist === undefined) { pixel.moist = 0 }
	for (var i = 0; i < adjacentCoords.length; i++) {
		var coords = adjacentCoords[i];
		var x = pixel.x + coords[0];
		var y = pixel.y + coords[1];
		if (isEmpty(x,y) && pixel.moist >= 1) {
			createPixel("water",x,y);
			pixel.moist--;
		}
	}
},
DO_TICK: function(pixel) {
	if (elements[pixel.element].tick1) {
		elements[pixel.element].tick1(pixel); return;
	}
	elements[pixel.element].tick(pixel);
},
SEEDRISE: function(pixel) {
	if (Math.random() < 0.02) {
		let x = 0;
		if (Math.random() < 0.25) {
			x += Math.random() < 0.5 ? -1 : 1;
		}
		if (!isEmpty(pixel.x+x,pixel.y-1,true) && eLists.SOIL.includes(pixelMap[pixel.x+x][pixel.y-1].element)) {
			let soil = pixelMap[pixel.x+x][pixel.y-1];
			swapPixels(pixel,soil);
			changePixel(soil,"fiber");
		}
	}
}
		}
		textures = {
		BRICK: [
		"llllrwlllll",
		"rrrrdwlrrrr",
		"dddddwrdddd",
		"wwwwwwwwwww",
		"lrwllllrwll",
		"rdwlrrrdwlr",
		"ddwrddddwrd",
		"wwwwwwwwwww",
		"lllllrwllll",
		"rrrrrdwlrrr",
		"ddddddwrddd",
		"wwwwwwwwwww",
		"lllrwlllrwl",
		"rrrdwlrrdwl",
		"ddddwrdddwr",
		"wwwwwwwwwww"],
		GLASS: [ // solid with streaks
		"gggggggggggg",
		"gggSgggggggg",
		"ggSgggggggsg",
		"gSgggggggsgg",
		"ggggggggsggg",
		"gggggggggggg",
		"gggggggggggg",
		"ggggsggggggg",
		"gggsgggggggg",
		"ggggggggggSg",
		"gggggggggSgg",
		"gggggggggggg",
		]
		}
		renderPresets = {
		HEATGLOW: function(pixel,ctx) {
			drawDefault(ctx,pixel);
			if (!viewInfo[view].colorEffects) { return }
			var max = elements[pixel.element].tempHigh;
			var ratio = ((pixel.temp/max*100)|0)/100;
			if (ratio < 0.2) { return }
			if (ratio > 1) { ratio = 1 }
			ratio -= 0.2;
			drawSquare(ctx,"hsl("+ratio*60+",100%,50%)",pixel.x,pixel.y,undefined,Math.min(ratio,0.85));
		},
		WOODCHAR: function(pixel,ctx) {
			drawDefault(ctx,pixel);
			if (!viewInfo[view].colorEffects) { return }
			var max = 400;
			var ratio = ((pixel.temp/max*100)|0)/100;
			if (ratio < 0.5) { return }
			if (ratio > 1) { ratio = 1 }
			drawSquare(ctx,"#000000",pixel.x,pixel.y,undefined,Math.min(0.8,(ratio-0.5)*0.8));
		},
		PLANTCHAR: function(pixel,ctx) {
			drawDefault(ctx,pixel);
			if (!viewInfo[view].colorEffects) { return }
			var max = 80;
			var ratio = ((pixel.temp/max*100)|0)/100;
			if (ratio < 0.5) { return }
			if (ratio > 1) { ratio = 1 }
			drawSquare(ctx,"#4d4018",pixel.x,pixel.y,undefined,Math.min(0.8,(ratio-0.5)));
		},
		CHARCOALHEAT: function(pixel,ctx) {
			drawDefault(ctx,pixel);
			if (!viewInfo[view].colorEffects) { return }
			var max = 1100;
			var ratio = ((pixel.temp/max*100)|0)/100;
			if (ratio < 0.4) { return }
			if (ratio > 1) { ratio = 1 }
			drawSquare(ctx,"hsl("+ratio*20+",100%,"+Math.min(90,ratio*70)+"%)",pixel.x,pixel.y,undefined,Math.min(0.7,(ratio-0.4)*0.7));
		},
		HUESHIFT: function(pixel,ctx) {
			if (!pixel.origColor && pixel.color.match(/^rgb/)) {
				pixel.origColor = pixel.color.match(/\d+/g);
			}
			if (!pixel.origColor || !viewInfo[view].effects) {
				drawDefault(ctx,pixel);
				return;
			}
			var hsl = RGBToHSL(pixel.origColor);
			hsl[0] += 0.05;
			hsl[0] -= Math.min(30,(pixelTicks-pixel.start)/1.5)/360;
			hsl = "hsl("+hsl[0]*360+","+hsl[1]*100+"%,"+hsl[2]*100+"%)";
			drawPlus(ctx,hsl,pixel.x,pixel.y);
		},
		MOLTEN: function(pixel,ctx) {
			if (!pixel.origColor && pixel.color.match(/^rgb/)) {
				pixel.origColor = pixel.color.match(/\d+/g);
			}
			if (!pixel.origColor || !viewInfo[view].effects) {
				drawDefault(ctx,pixel);
				return;
			}
			var hsl = RGBToHSL(pixel.origColor);
			hsl[0] += (0.025*Math.sin((pixelTicks-pixel.start)*0.033)) - 0.005;
			hsl = "hsl("+hsl[0]*360+","+hsl[1]*100+"%,"+hsl[2]*100+"%)";
			drawSquare(ctx,hsl,pixel.x,pixel.y);
		},
		BORDER: function(pixel,ctx) {
			if (!viewInfo[view].colorEffects) { drawDefault(ctx,pixel); return }
			renderPresets.HEATGLOW(pixel,ctx);
			if (pixel.alpha === 0) return;
			let edge = false;
			for (var i = 0; i < adjacentCoords.length; i++) {
				var coords = adjacentCoords[i];
				var x = pixel.x + coords[0];
				var y = pixel.y + coords[1];
				if (isEmpty(x,y) || (!outOfBounds(x,y) && elements[pixelMap[x][y].element].movable !== elements[pixel.element].movable)) {
					edge = true;
					break;
				}
			}
			if (edge) { drawSquare(ctx,"rgba(255,255,255,"+(pixel.alpha||1)/4+")",pixel.x,pixel.y) }
		},
		LED: function(pixel,ctx) {
			if (!viewInfo[view].colorEffects) { drawDefault(ctx,pixel); return }
			let alpha = (pixel.alpha??1);
			if (!pixel.charge && !pixel.chargeCD) {
				alpha -= 0.75;
				alpha = Math.max(0,alpha);
				if (pixel.emit) pixel.emit = false;
				if (alpha === 0) return;
			}
			else {
				alpha = 1;
				if (!pixel.emit) pixel.emit = true;
			}
			drawSquare(ctx,pixel.color,pixel.x,pixel.y,undefined,alpha);
		}
		}
		eLists = {
			ANIMAL: ["flea","ant","fly","firefly","bee","frog","fish","worm","termite","rat","slug","snail","stink_bug"],
			CLEANANIMAL: ["ant","firefly","bee","frog","fish","tadpole"],
			SEEDS: ["grass_seed","wheat_seed","flower_seed","bamboo_plant","mushroom_spore","corn_seed","potato_seed","cactus","pumpkin_seed"],
			SOIL: ["dirt","mud","sand","wet_sand","clay_soil","clay","mycelium"],
			CRAWLTHRU: ["dirt","sand","clay_soil","gravel","mulch","color_sand","grass"],
			HIVEPLACE: ["wood","tree_branch","evergreen"]
		}
		function eListAdd(listName, itemList) {
			if (!eLists[listName]) { eLists[listName] = []; }
			if (!itemList) { return }
			if (typeof itemList === "string") { itemList = [itemList]; }
			for (var i = 0; i < itemList.length; i++) {
				if (eLists[listName].indexOf(itemList[i]) === -1) {
					eLists[listName].push(itemList[i]);
				}
			}
		}

		airDensity = settings.airdensity || 1.225; // kg/m^3
		airTemp = settings.airtemp || 20; // Celsius
		absoluteZero = settings.abszero || -273.15; // Celsius
		maxPixelCount = settings.maxpixels || 13861;
		function refreshMaxPixels() {
			maxPixelCount = settings.maxpixels || 13861;
			if (settings.limitless) { settings.maxpixels = 0; }
			else { delete settings.maxpixels; }
			if (settings.maxpixels === 0) { maxPixelCount = 999999999999; }
		}
		refreshMaxPixels();

		// Element Properties (OUTDATED)
		// name - display name of the element [optional]
		// color - color of the element's pixel
		// behavior - behavior of the element
		// ignore - elements to ignore in behavior [must be an array]
		// category - category in which the element will show up in
		// density - density of the element [only used for movable elements] (kg/m^3)
		// state - solid, liquid, or gas [only used for movable elements]
		// reactions - instructions for when elements attempt to move onto each other (object)
		// conduct - conductivity of the element (0-1)
		// behaviorOn - behavior to override when powered
		// colorOn - color to change to when powered
		// temp - default temperature of the element (Celsius)
		// tempHigh - highest temperature before state change (Celsius)
		// tempLow - lowest temperature before state change (Celsius)
		// stateHigh - element transformed into when tempHigh is reached
		// stateLow - element transformed into when tempLow is reached
		// viscosity - how slow a liquid will move (higher = slower) (cps)
		// burn - chance of burning per tick (0-100) (%)
		// burnTime - time to burn (ticks)
		// burnInto - element to turn into after burning
		// fireColor - color of the flame given off when burning
		// burning - whether the element is burning on creation
		// charge - charge of the element on creation
		// hardness - chance of resisting damage (0-1)
		elements = {
"heat": {
	color: "#ff0000",
	behavior: [
		"HT:2|HT:2|HT:2",
		"HT:2|HT:2|HT:2",
		"HT:2|HT:2|HT:2",
	],
	tool: function(pixel) {
		if (shiftDown) {pixel.temp += elements.heat.temp+(Math.random()*elements.heat.temp*1.5)*20;}
		else {pixel.temp += elements.heat.temp+(Math.random()*elements.heat.temp*1.5);}
		pixelTempCheck(pixel);
	},
	temp: 2,
	category: "tools",
	insulate:true,
	canPlace: false,
	desc: "Use on pixels to increase temperature."
},
"cool": {
	color: "#0000ff",
	behavior: [
		"CO:2|CO:2|CO:2",
		"CO:2|CO:2|CO:2",
		"CO:2|CO:2|CO:2",
	],
	tool: function(pixel) {
		if (shiftDown) {pixel.temp += elements.cool.temp+(Math.random()*elements.cool.temp*1.5)*20;}
		else {pixel.temp += elements.cool.temp+(Math.random()*elements.cool.temp*1.5);}
		pixelTempCheck(pixel);
	},
	temp: -2,
	category: "tools",
	insulate:true,
	canPlace: false,
	desc: "Use on pixels to decrease temperature."
},
"erase": {
	color: "#fdb5ff",
	behavior: [
		"DL|DL|DL",
		"DL|DL|DL",
		"DL|DL|DL",
	],
	tool: function(pixel) {
		deletePixel(pixel.x,pixel.y);
	},
	category: "tools",
	canPlace: false,
	desc: "Use on pixels to delete them."
},
"drag": {
	color: "#c1cfb6",
	behavior: [
		"XX|XX|XX",
		"XX|XX|SW",
		"XX|XX|XX",
	],
	tool: function(pixel) {
		if (dragStart === null) {
			dragStart = pixelTicks;
			draggingPixels = [];
		}
		if (pixelTicks === dragStart && !pixel.drag && (elements[pixel.element].movable || shiftDown)) {
			pixel.drag = true;
			draggingPixels.push(pixel);
		}
	},
	onMouseUp: function() {
		if (!draggingPixels) { return; }
		for (var i = 0; i < draggingPixels.length; i++) {
			delete draggingPixels[i].drag;
		}
		dragStart = null;
		draggingPixels = null;
	},
	onUnselect: function() {
		elements.drag.onMouseUp();
	},
	perTick: function() {
		if (!draggingPixels) { return; }
		for (var j = 0; j < (shiftDown ? 3 : 1); j++) {
		for (var i = 0; i < draggingPixels.length; i++) {
			var pixel = draggingPixels[i];
			if (pixel.del) { continue }
			const x = pixel.x;
			const y = pixel.y;
			const [mX, mY] = [mousePos.x, mousePos.y];
			const empty = checkForEmptyPixels(x, y);
			let bestVal = Math.sqrt(Math.pow(mX - x, 2) + Math.pow(mY - y, 2));
			let best = null;
			for (const pixelPair of empty) {
				const x_ = x + pixelPair[0];
				const y_ = y + pixelPair[1];
				const c = Math.sqrt(Math.pow(mX - x_, 2) + Math.pow(mY - y_, 2));
				if (c < bestVal) {
					bestVal = c;
					best = pixelPair;
				}
			}
			if (best) {
				tryMove(pixel, x + best[0], y + best[1], undefined, true);
			}
		}
		}
	},
	rotatable: true,
	category: "tools",
	canPlace: false,
	darkText: true,
	desc: "Use on pixels to move them around."
},
"pick": {
	color: ["#fa9b9b","#fae99b","#9bfab7","#9b9dfa"],
	tool: function(pixel){
		let element = pixel.element;
		if (!shiftDown && elements[element].pickElement) {
			element = elements[element].pickElement;
		}
		selectElement(element);
		selectCategory(elements[element].category);
		if (shiftDown) {
			currentElementProp = {};
			for (var key in pixel) { currentElementProp[key] = pixel[key] }
			delete currentElementProp.x;
			delete currentElementProp.y;
		}
		mouseIsDown = false;
	},
	behavior: [
		"CF|CF|CF",
		"CF|DL%5|CF",
		"CF|CF|CF",
	],
	category: "tools",
	maxSize: 0,
	darkText: true,
	canPlace: false,
	desc: "Use on a pixel to select its element."
},
"mix": { //hard-coded
	color: ["#fff4b5","#a6a6a6"],
	behavior: [
		"SW|SW|SW",
		"SW|DL%5|SW",
		"SW|SW|SW",
	],
	tool: function(pixel){},
	category: "tools",
	darkText: true,
	canPlace: false,
	desc: "Use on pixels to randomize their position."
},
"lookup": {
	color: ["#5e807d","#5e807d","#679e99","#5e807d","#5e807d"],
	behavior: behaviors.WALL,
	tool: function(pixel) {
		if (mouseSize === 1) showInfo(pixel.element);
		else if (!lookupTempElements[pixel.element]) lookupTempElements[pixel.element] = true;
	},
	onMouseDown: function() {
		lookupTempElements = {};
	},
	onMouseUp: function() {
		if (Object.keys(lookupTempElements).length === 0) { return; }
		if (Object.keys(lookupTempElements).length === 1) { showInfo(Object.keys(lookupTempElements)[0]) }
		else { showInfo(Object.keys(lookupTempElements).join(",")) }
		lookupTempElements = {};
	},
	category: "tools",
	maxSize: 5,
	canPlace: false,
	desc: "Use on a pixel to display its element info."
},
"shock": {
	color: "#ffff00",
	behavior: [
		"SH|SH|SH",
		"SH|DL%5|SH",
		"SH|SH|SH",
	],
	tool: function(pixel) {
		// One loop that repeats 5 times if shiftDown else 1 time
		var con = elements[pixel.element].conduct;
		if (pixel.temp <= elements[pixel.element].superconductAt) {
			con = 1;
		}
		if (con === undefined) {return}
		for (var j = 0; j < (shiftDown ? 5 : 1); j++) {
			if (Math.random() < con) { // If random number is less than conductivity
				if (!pixel.charge && !pixel.chargeCD) {
					pixel.charge = 1;
					pixel.chargeStart = pixelTicks;
					if (elements[pixel.element].colorOn) {
						pixel.color = pixelColorPick(pixel);
					}
				}
			}
			else if (elements[pixel.element].insulate !== true) { // Otherwise heat the pixel (Resistance simulation)
				pixel.temp += 0.25;
				pixelTempCheck(pixel);
			}
		}
	},
	category: "tools",
	darkText: true,
	canPlace: false,
	desc: "Use on pixels to increase electric charge."
},
"paint": {
	color: ["#c27070","#c29c70","#c2c270","#70c270","#70c2c2","#7070c2","#c270c2"],
	tool: function(pixel) {
		if (!shiftDown) {
			pixel.color = pixelColorPick(pixel,currentColorMap.paint)
		}
		else {
			// convert the hex of currentColor to rgb and set it as a string
			var rgb = currentColorMap.paint.replace("#","").match(/.{1,2}/g);
			for (var i = 0; i < rgb.length; i++) {
				rgb[i] = parseInt(rgb[i],16);
			}
			pixel.color = "rgb(" + rgb.join(",") + ")"
		}
		delete pixel.origColor;
	},
	customColor: true,
	category: "tools",
	canPlace: false,
	desc: "Use on pixels to change color."
},
"sand": {
	color: "#e6d577",
	behavior: behaviors.POWDER,
	reactions: {
		"water":{elem1:"wet_sand",elem2:null},
		"salt_water":{elem1:"wet_sand",elem2:"foam"},
		"sugar_water":{elem1:"wet_sand",elem2:null},
		"seltzer":{elem1:"wet_sand",elem2:null},
		"dirty_water":{elem1:"wet_sand",elem2:null},
		"pool_water":{elem1:"wet_sand",elem2:null},
		"slush":{elem1:"wet_sand",elem2:null},
		"soda":{elem1:"wet_sand",elem2:null},
		"juice":{elem1:"wet_sand",elem2:null},
		"milk":{elem1:"wet_sand",elem2:null},
		"chocolate_milk":{elem1:"wet_sand",elem2:null},
		"fruit_milk":{elem1:"wet_sand",elem2:null},
		"pilk":{elem1:"wet_sand",elem2:null},
		"eggnog":{elem1:"wet_sand",elem2:null},
		"nut_milk":{elem1:"wet_sand",elem2:null},
		"cream":{elem1:"wet_sand",elem2:null},
		"vinegar":{elem1:"wet_sand",elem2:null},
		"blood":{elem1:"wet_sand",elem2:null},
		"vaccine":{elem1:"wet_sand",elem2:null},
		"antibody":{elem1:"wet_sand",elem2:null},
		"infection":{elem1:"wet_sand",elem2:null},
		"poison":{elem1:"wet_sand",elem2:null},
		"antidote":{elem1:"wet_sand",elem2:null},
		"tornado":{elem1:"sandstorm", oneway:true}
	},
	tempHigh: 1700,
	stateHigh: "molten_glass",
	category: "land",
	state: "solid",
	density: 1602
},
"water": {
	color: "#2167ff",
	behavior: behaviors.LIQUID,
	tempHigh: 100,
	stateHigh: "steam",
	tempLow: 0,
	stateLow: "ice",
	category: "liquids",
	heatCapacity: 4.184,
	reactions: {
		"salt": { elem1: "salt_water", elem2: null, temp1:-20 },
		"sugar": { elem1: "sugar_water", elem2: null },
		"honey": { elem1: "sugar_water" },
		"caramel": { elem1: "sugar_water", elem2: null },
		"molasses": { elem1: "sugar_water", chance:0.05 },
		"candy": { elem1: "sugar_water", elem2:"foam", chance:0.005 },
		"dust": { elem1: "dirty_water", elem2: null },
		"ash": { elem1: "dirty_water", elem2: null },
		"cyanide": { elem1: "dirty_water", elem2: null },
		"cyanide_gas": { elem1: "dirty_water", elem2: null },
		"carbon_dioxide": { elem1: "seltzer", elem2: null, oneway:true },
		"sulfur": { elem1: "dirty_water", elem2: null },
		"rat": { elem1: "dirty_water", chance:0.005 },
		"infection": { elem1: "dirty_water", elem2: null },
		"plague": { elem1: "dirty_water", elem2: null },
		"rust": { elem1: "dirty_water", chance:0.005 },
		"lead": { elem1: "dirty_water", chance:0.005 },
		"solder": { elem1: "dirty_water", chance:0.005 },
		"fallout": { elem1: "dirty_water", chance:0.25 },
		"radiation": { elem1: "dirty_water", chance:0.25 },
		"uranium": { elem1: "dirty_water", chance:0.25 },
		"rad_steam": { elem1: "dirty_water", chance:0.02 },
		"rad_glass": { elem1: "dirty_water", chance:0.005 },
		"rad_shard": { elem1: "dirty_water", chance:0.01 },
		"rotten_meat": { elem1: "dirty_water", chance:0.25 },
		"rotten_cheese": { elem1: "dirty_water", chance:0.25 },
		"cancer": { elem1: "dirty_water", chance:0.25 },
		"oil": { elem1: "dirty_water", chance:0.005 },
		"dioxin": { elem1: "dirty_water", chance:0.1 },
		"neutron": { elem1: ["dirty_water","dirty_water","dirty_water","rad_steam"], elem2:null, chance:0.1 },
		"rock": { elem2: "wet_sand", chance: 0.00035 },
		"limestone": { elem2: "wet_sand", chance: 0.00035 },
		"tuff": { elem2: "wet_sand", color2:"#7a6b5c", chance: 0.00035 },
		"ruins": { elem2: "rock", chance: 0.00035 },
		"mudstone": { elem2: "mud", chance: 0.00035 },
		"methane": { elem1:"primordial_soup", elem2:"primordial_soup", tempMin:60, charged:true },
		"ammonia": { elem1:"primordial_soup", elem2:"primordial_soup", tempMin:60, charged:true },
		"fly": { elem2:"dead_bug", chance:0.1, oneway:true },
		"firefly": { elem2:"dead_bug", chance:0.1, oneway:true },
		"bee": { elem2:"dead_bug", chance:0.05, oneway:true },
		"stink_bug": { elem2:"dead_bug", chance:0.1, oneway:true },
		"cured_meat": { elem1:"salt_water", elem2:"meat" },
		"water": { elem2:"bubble", attr2:{"clone":"water"}, chance:0.001, tempMin:85 },
		// electrolysis:
		"aluminum": { elem1:["hydrogen","hydrogen","oxygen"], charged:true, chance:0.0025 },
		"zinc": { elem1:["hydrogen","hydrogen","oxygen"], charged:true, chance:0.015 },
		"steel": { elem1:["hydrogen","hydrogen","oxygen"], charged:true, chance:0.0125 },
		"iron": { elem1:["hydrogen","hydrogen","oxygen"], charged:true, chance:0.0125 },
		"tin": { elem1:["hydrogen","hydrogen","oxygen"], charged:true, chance:0.01 },
		"brass": { elem1:["hydrogen","hydrogen","oxygen"], charged:true, chance:0.001 },
		"bronze": { elem1:["hydrogen","hydrogen","oxygen"], charged:true, chance:0.001 },
		"copper": { elem1:["hydrogen","hydrogen","oxygen"], charged:true, chance:0.0075 },
		"silver": { elem1:["hydrogen","hydrogen","oxygen"], charged:true, chance:0.0075 },
		"gold": { elem1:["hydrogen","hydrogen","oxygen"], charged:true, chance:0.0075 }
	},
	state: "liquid",
	density: 997,
	conduct: 0.02,
	stain: -0.5,
	extinguish: true
},
"salt_water": {
	color: "#4d85ff",
	behavior: behaviors.LIQUID,
	tempHigh: 102,
	stateHigh: ["steam","salt"],
	tempLow: -2,
	stateLowName: "salt_ice",
	category: "liquids",
	reactions: {
		"dust": { elem1: "dirty_water", elem2: null },
		"ash": { elem1: "dirty_water", elem2: null },
		"carbon_dioxide": { elem1: "seltzer", elem2: null },
		"sulfur": { elem1: "dirty_water", elem2: null },
		"cyanide": { elem1: "dirty_water", elem2: null },
		"rat": { elem1: "dirty_water", chance:0.005 },
		"infection": { elem1: "dirty_water", elem2: null },
		"plague": { elem1: "dirty_water", elem2: null },
		"fallout": { elem1: "dirty_water", chance:0.25 },
		"radiation": { elem1: "dirty_water", chance:0.25 },
		"rust": { elem1: "dirty_water", chance:0.005 },
		"lead": { elem1: "dirty_water", chance:0.005 },
		"solder": { elem1: "dirty_water", chance:0.005 },
		"rock": { elem2: "wet_sand", chance: 0.0005 },
		"limestone": { elem2: "wet_sand", chance: 0.0005 },
		"fly": { elem2:"dead_bug", chance:0.1, oneway:true },
		"firefly": { elem2:"dead_bug", chance:0.1, oneway:true },
		"bee": { elem2:"dead_bug", chance:0.05, oneway:true },
		"stink_bug": { elem2:"dead_bug", chance:0.1, oneway:true },
		"cancer": { elem1: "dirty_water", chance:0.25 },
		"oil": { elem1: "dirty_water", chance:0.005 },
		"uranium": { elem1: "dirty_water", chance:0.25 },
		"wet_sand": { oneway:true, chance:0.007, func:function(pixel){
			if (isEmpty(pixel.x,pixel.y-1) || isEmpty(pixel.x,pixel.y-2) || isEmpty(pixel.x,pixel.y-3)) {
				changePixel(pixel,"foam");
				pixel.clone = "salt_water";
			}
		}},
		"salt_water": { elem2:"bubble", attr2:{"clone":"salt_water"}, chance:0.001, tempMin:85 },
		// electrolysis:
		"aluminum": { elem1:["hydrogen","lye","chlorine"], charged:true, chance:0.0025 },
		"zinc": { elem1:["hydrogen","lye","chlorine"], charged:true, chance:0.015 },
		"steel": { elem1:["hydrogen","lye","chlorine"], charged:true, chance:0.0125 },
		"iron": { elem1:["hydrogen","lye","chlorine"], charged:true, chance:0.0125 },
		"tin": { elem1:["hydrogen","lye","chlorine"], charged:true, chance:0.01 },
		"brass": { elem1:["hydrogen","lye","chlorine"], charged:true, chance:0.001 },
		"bronze": { elem1:["hydrogen","lye","chlorine"], charged:true, chance:0.001 },
		"copper": { elem1:["hydrogen","lye","chlorine"], charged:true, chance:0.0075 },
		"silver": { elem1:["hydrogen","lye","chlorine"], charged:true, chance:0.0075 },
		"gold": { elem1:["hydrogen","lye","chlorine"], charged:true, chance:0.0075 }
	},
	state: "liquid",
	density: 1026,
	conduct: 0.1,
	stain: -0.66,
	extinguish: true
},
"sugar_water": {
	color: "#8eaae6",
	behavior: behaviors.LIQUID,
	tempHigh: 105,
	stateHigh: ["steam","sugar"],
	tempLow: -5,
	stateLowName: "sugar_ice",
	category: "liquids",
	reactions: {
		"dust": { elem1: "dirty_water", elem2: null },
		"ash": { elem1: "dirty_water", elem2: null },
		"carbon_dioxide": { elem1: "soda", elem2: null },
		"cyanide": { elem1: "dirty_water", elem2: null },
		"sulfur": { elem1: "dirty_water", elem2: null },
		"charcoal": { elem1: "dirty_water", chance:0.005 },
		"rat": { elem1: "dirty_water", chance:0.005 },
		"infection": { elem1: "dirty_water", elem2: null },
		"plague": { elem1: "dirty_water", elem2: null },
		"fallout": { elem1: "dirty_water", chance:0.25 },
		"radiation": { elem1: "dirty_water", chance:0.25 },
		"rust": { elem1: "dirty_water", chance:0.005 },
		"lead": { elem1: "dirty_water", chance:0.005 },
		"solder": { elem1: "dirty_water", chance:0.005 },
		"rock": { elem2: "wet_sand", chance: 0.0004 },
		"limestone": { elem2: "wet_sand", chance: 0.0004 },
		"fly": { elem2:"dead_bug", chance:0.1, oneway:true },
		"firefly": { elem2:"dead_bug", chance:0.1, oneway:true },
		"bee": { elem2:"dead_bug", chance:0.05, oneway:true },
		"stink_bug": { elem2:"dead_bug", chance:0.1, oneway:true },
		"uranium": { elem1: "dirty_water", chance:0.25 },
		"sugar_water": { elem2:"bubble", attr2:{"clone":"sugar_water"}, chance:0.001, tempMin:85 },
		// electrolysis:
		"aluminum": { elem1:["hydrogen","hydrogen","oxygen","sugar"], charged:true, chance:0.0025 },
		"zinc": { elem1:["hydrogen","hydrogen","oxygen","sugar"], charged:true, chance:0.015 },
		"steel": { elem1:["hydrogen","hydrogen","oxygen","sugar"], charged:true, chance:0.0125 },
		"iron": { elem1:["hydrogen","hydrogen","oxygen","sugar"], charged:true, chance:0.0125 },
		"tin": { elem1:["hydrogen","hydrogen","oxygen","sugar"], charged:true, chance:0.01 },
		"brass": { elem1:["hydrogen","hydrogen","oxygen","sugar"], charged:true, chance:0.001 },
		"bronze": { elem1:["hydrogen","hydrogen","oxygen","sugar"], charged:true, chance:0.001 },
		"copper": { elem1:["hydrogen","hydrogen","oxygen","sugar"], charged:true, chance:0.0075 },
		"silver": { elem1:["hydrogen","hydrogen","oxygen","sugar"], charged:true, chance:0.0075 },
		"gold": { elem1:["hydrogen","hydrogen","oxygen","sugar"], charged:true, chance:0.0075 }
	},
	hidden: true,
	state: "liquid",
	density: 1026,
	conduct: 0.05,
	stain: -0.45,
	extinguish: true
},
"seltzer": {
	color: ["#8eaae6","#82a4ed","#b5c5e8","#8eaae6","#82a4ed"],
	behavior: [
		"XX|CR:foam%3|XX",
		"M2|XX|M2",
		"M2|M1|M2",
	],
	onMix: function(pixel) {
		releaseElement(pixel, "foam", shiftDown)
	},
	tempHigh: 98,
	stateHigh: ["steam","carbon_dioxide"],
	tempLow: 0,
	stateLowName: "seltzer_ice",
	category: "liquids",
	reactions: {
		"rock": { elem2: "wet_sand", chance: 0.0004 },
		"limestone": { elem2: null, chance: 0.0004 },
		"sugar": { elem1: "soda", elem2: "foam" },
		"sugar_water": { elem1: "soda", elem2: "foam" },
		"cyanide": { elem1: "dirty_water", elem2: null },
		"infection": { elem1: "dirty_water", elem2: null },
		"dust": { elem1: "dirty_water", elem2: null },
		"ash": { elem1: "dirty_water", elem2: null },
		"fly": { elem2:"dead_bug", chance:0.1, oneway:true },
		"firefly": { elem2:"dead_bug", chance:0.1, oneway:true },
		"bee": { elem2:"dead_bug", chance:0.05, oneway:true },
		"stink_bug": { elem2:"dead_bug", chance:0.1, oneway:true },
		"plant": { elem1:"water" },
		"evergreen": { elem1:"water" },
		"cactus": { elem1:"water" },
		"algae": { elem1:"water" },
		"kelp": { elem1:"water" },
		"coral": { elem1:"water" },
		"uranium": { elem1: "dirty_water", chance:0.25 },
		"seltzer": { elem2:"bubble", attr2:{"clone":"seltzer"}, chance:0.001, tempMin:85 },
		// electrolysis:
		"aluminum": { elem1:["hydrogen","hydrogen","oxygen","carbon_dioxide"], charged:true, chance:0.0025 },
		"zinc": { elem1:["hydrogen","hydrogen","oxygen","carbon_dioxide"], charged:true, chance:0.015 },
		"steel": { elem1:["hydrogen","hydrogen","oxygen","carbon_dioxide"], charged:true, chance:0.0125 },
		"iron": { elem1:["hydrogen","hydrogen","oxygen","carbon_dioxide"], charged:true, chance:0.0125 },
		"tin": { elem1:["hydrogen","hydrogen","oxygen","carbon_dioxide"], charged:true, chance:0.01 },
		"lead": { elem1:["hydrogen","hydrogen","oxygen","carbon_dioxide"], charged:true, chance:0.01 },
		"brass": { elem1:["hydrogen","hydrogen","oxygen","carbon_dioxide"], charged:true, chance:0.001 },
		"bronze": { elem1:["hydrogen","hydrogen","oxygen","carbon_dioxide"], charged:true, chance:0.001 },
		"copper": { elem1:["hydrogen","hydrogen","oxygen","carbon_dioxide"], charged:true, chance:0.0075 },
		"silver": { elem1:["hydrogen","hydrogen","oxygen","carbon_dioxide"], charged:true, chance:0.0075 },
		"gold": { elem1:["hydrogen","hydrogen","oxygen","carbon_dioxide"], charged:true, chance:0.0075 }
	},
	hidden: true,
	state: "liquid",
	density: 1026.91,
	conduct: 0.05,
	stain: -0.45,
	extinguish: true,
	alias:["carbonated water","soda water"]
},
"dirty_water": {
	color: ["#0e824e","#07755a","#0c6934"],
	behavior: behaviors.LIQUID,
	tempHigh: 105,
	stateHigh: ["steam","carbon_dioxide"],
	tempLow: -5,
	stateLowName: "dirty_ice",
	viscosity: 10,
	category: "liquids",
	reactions: {
		"rock": { elem2: "wet_sand", chance: 0.0004 },
		"limestone": { elem2: "wet_sand", chance: 0.0004 },
		"plant": { elem1:"water", chance:0.05 },
		"algae": { elem1:"water", chance:0.05 },
		"kelp": { elem1:"water", chance:0.05 },
		"coral": { elem1:"water", chance:0.05 },
		"charcoal": { elem1:"water", chance:0.02 },
		"gravel": { elem1:"water", chance:0.01 },
		"fly": { elem2:"dead_bug", chance:0.1, oneway:true },
		"firefly": { elem2:"dead_bug", chance:0.1, oneway:true },
		"bee": { elem2:"dead_bug", chance:0.05, oneway:true },
		"stink_bug": { elem2:"dead_bug", chance:0.1, oneway:true },
		"dirty_water": { elem2:"bubble", attr2:{"clone":"water"}, chance:0.001, tempMin:85 },
		"coral": { elem1:null, elem2:"dirty_water", chance:0.004 }
	},
	hidden: true,
	state: "liquid",
	density: 1005,
	conduct: 0.1,
	extinguish: true
},
"pool_water": {
	color: "#a8d2e3",
	behavior: behaviors.LIQUID,
	tempHigh: 105,
	stateHigh: ["steam","chlorine"],
	tempLow: -5,
	stateLowName: "pool_ice",
	category: "liquids",
	reactions: {
		"rock": { elem2: "wet_sand", chance: 0.001 },
		"limestone": { elem2: "wet_sand", chance: 0.001 },
		"plant": { elem2:"dead_plant", chance:0.05 },
		"evergreen": { elem2:"dead_plant", chance:0.05 },
		"cactus": { elem2:"dead_plant", chance:0.05 },
		"grass": { elem2:"dead_plant", chance:0.05 },
		"algae": { elem2:null, chance:0.05 },
		"kelp": { elem2:"pool_water", chance:0.05 },
		"coral": { elem2:"pool_water", chance:0.01 },
		"cell": { elem2:null, chance:0.05 },
		"cancer": { elem2:null, chance:0.05 },
		"plague": { elem2:null },
		"flea": { elem2:"dead_bug", chance:0.05 },
		"termite": { elem2:"dead_bug", chance:0.05 },
		"ant": { elem2:"dead_bug", chance:0.05 },
		"worm": { elem2:"dead_bug", chance:0.05 },
		"fly": { elem2:"dead_bug", chance:0.05 },
		"firefly": { elem2:"dead_bug", chance:0.05 },
		"bee": { elem2:"dead_bug", chance:0.05 },
		"stink_bug": { elem2:"dead_bug", chance:0.05 },
		"dirty_water": { elem2:"water", chance:0.05 },
		"slug": { elem2:null, chance:0.05 },
		"snail": { elem2:null, chance:0.05 },
		"lichen": { elem2:null, chance:0.05 },
		"dead_bug": { elem2:null, chance:0.001 },
		"pollen": { elem2:null },
		"root": { elem2:"fiber", chance:0.05 },
		"flower_seed": { elem2:"dead_plant", chance:0.05 },
		"wheat_seed": { elem2:"dead_plant", chance:0.05 },
		"bamboo_plant": { elem2:"dead_plant", chance:0.05 },
		"potato_seed": { elem2:"dead_plant", chance:0.05 },
		"corn_seed": { elem2:"dead_plant", chance:0.05 },
		"sapling": { elem2:"dead_plant", chance:0.05 },
		"pinecone": { elem2:"dead_plant", chance:0.05 },
		"blood": { elem2:null, chance:0.01 },
		"infection": { elem2:null, chance:0.05 },
		"antibody": { elem2:null, chance:0.01 },
		"poison": { elem2:null, chance:0.01 },
		"charcoal": { elem1:"water", chance:0.02 },
		"dna": { elem2:null, chance:0.002 },
		"pool_water": { elem2:"bubble", attr2:{"clone":"pool_water"}, chance:0.001, tempMin:85 }
	},
	hidden: true,
	state: "liquid",
	density: 992.72,
	conduct: 0.15,
	stain: -0.5,
	extinguish: true
},
"dirt": {
	color: ["#76552b","#5c4221","#573c1a","#6b481e"],
	behavior: behaviors.POWDER,
	reactions: {
		"water":{elem1:"mud",elem2:null},
		"salt_water":{elem1:"mud",elem2:null},
		"sugar_water":{elem1:"mud",elem2:null},
		"seltzer":{elem1:"mud",elem2:null},
		"dirty_water":{elem1:"mud",elem2:null},
		"pool_water":{elem1:"mud",elem2:null},
		"slush":{elem1:"mud",elem2:null},
		"soda":{elem1:"mud",elem2:null},
		"juice":{elem1:"mud",elem2:null},
		"milk":{elem1:"mud",elem2:null},
		"chocolate_milk":{elem1:"mud",elem2:null},
		"fruit_milk":{elem1:"mud",elem2:null},
		"pilk":{elem1:"mud",elem2:null},
		"eggnog":{elem1:"mud",elem2:null},
		"nut_milk":{elem1:"mud",elem2:null},
		"cream":{elem1:"mud",elem2:null},
		"vinegar":{elem1:"mud",elem2:null},
		"blood":{elem1:"mud",elem2:null},
		"vaccine":{elem1:"mud",elem2:null},
		"antibody":{elem1:"mud",elem2:null},
		"infection":{elem1:"mud",elem2:null},
		"poison":{elem1:"mud",elem2:null},
		"antidote":{elem1:"mud",elem2:null},
		"bone": { elem1:"rock", chance:0.001, oneway:true }
	},
	tempHigh:1200,
	tempLow: -50,
	stateLow: "permafrost",
	category:"land",
	state: "solid",
	density: 1220
},
"mud": {
	color: "#382417",
	behavior: behaviors.STURDYPOWDER,
	reactions: {
		"dirt": { elem1:"dirt", elem2:"mud", chance:0.0005, oneway:true },
		"sand": { elem1:"dirt", elem2:"wet_sand", chance:0.0005, oneway:true },
		"sawdust": { elem1:"mulch", "elem2":null },
		"evergreen": { elem1:"mulch", "elem2":null },
		"wheat": { elem1:"adobe", "elem2":"adobe" },
		"straw": { elem1:"adobe", "elem2":"adobe" },
		"flour": { elem1:"adobe", "elem2":"adobe" }
	},
	tempHigh: 100,
	stateHigh: "mudstone",
	onStateHigh: function(pixel) {
		releaseElement(pixel,"steam");
	},
	tempLow: -50,
	stateLow: "permafrost",
	category: "land",
	state: "solid",
	density: 1730,
	stain: 0.02
},
"wet_sand": {
	color: ["#a19348","#b5a85e"],
	behavior: behaviors.STURDYPOWDER,
	reactions: {
		"sand": { elem1:"sand", elem2:"wet_sand", chance:0.0005, oneway:true },
		"dirt": { elem1:"sand", elem2:"mud", chance:0.0005, oneway:true },
		"gravel": { elem1:"cement", elem2:null, chance:0.2 }
	},
	tempHigh: 100,
	stateHigh: "packed_sand",
	onStateHigh: function(pixel) {
		releaseElement(pixel,"steam");
	},
	tempLow: -50,
	stateLow: "packed_sand",
	category: "land",
	state: "solid",
	density: 1905
},
"rock": {
	color: ["#808080","#4f4f4f","#949494"],
	behavior: behaviors.POWDER,
	reactions: {
		"fly": { elem2:"dead_bug", chance:0.25, oneway:true },
		"firefly": { elem2:"dead_bug", chance:0.2, oneway:true },
		"stink_bug": { elem2:"dead_bug", chance:0.15, oneway:true },
		"bee": { elem2:"dead_bug", chance:0.1, oneway:true },
		"bird": { elem2:"feather", chance:0.025, oneway:true },
		"egg": { elem2:"yolk", oneway:true },
		"grass": { elem2:null, chance:0.005, oneway:true },
		"bone": { elem2:"oil", tempMin:300, chance:0.005, oneway:true },
		"dead_plant": { elem2:"charcoal", tempMin:200, chance:0.005, oneway:true },
		"charcoal": { elem2:"diamond", tempMin:800, tempMax:900, chance:0.005, oneway:true },
		"sand": { elem2:"packed_sand", tempMin:500, chance:0.005, oneway:true },
		"wet_sand": { elem2:"packed_sand", chance:0.005, oneway:true }
	},
	tempHigh: 950,
	stateHigh: "magma",
	category: "land",
	state: "solid",
	density: 2550,
	hardness: 0.5,
	breakInto: ["sand","gravel"]
},
"rock_wall": {
	color: ["#666666","#363636","#7a7a7a"],
	behavior: behaviors.WALL,
	tool: function(pixel) {
		if (pixel.element === "sun") {
			pixel.eclipse = true;
			if (Math.random() < 0.1) {
				changePixel(pixel,"rock_wall");
				pixel.temp = 20;
				pixel.color = pixelColorPick(pixel,"#301B16")
			}
		}
	},
	canPlace: true,
	tempHigh: 950,
	stateHigh: "magma",
	category: "land",
	state: "solid",
	density: 2550,
	hardness: 0.5,
	breakInto: "rock"
},
"mudstone": {
	color: "#4a341e",
	behavior: behaviors.SUPPORT,
	tempHigh:1200,
	stateHigh: "molten_dirt",
	tempLow: -50,
	stateLow: "permafrost",
	category: "land",
	state: "solid",
	density: 1250,
	breakInto: "dirt"
},
"packed_sand": {
	color: ["#a1975d","#b5ab70"],
	behavior: behaviors.SUPPORT,
	tempHigh:1700,
	stateHigh: "molten_glass",
	category: "land",
	state: "solid",
	density: 1682,
	breakInto: "sand"
},
"plant": {
	color: "#00bf00",
	behavior: behaviors.WALL,
	reactions: {
		"vinegar": { elem1:"dead_plant", elem2:null, chance:0.035 },
		"baking_soda": { elem1:"dead_plant", elem2:null, chance:0.01 },
		"bleach": { elem1:"dead_plant", elem2:null, chance:0.05 },
		"alcohol": { elem1:"dead_plant", elem2:null, chance:0.035 },
		"mercury": { elem1:"dead_plant", elem2:null, chance:0.01 },
		"salt": { elem1:"dead_plant", elem2:null, chance:0.001 },
		"stench": { elem2:null, chance:0.25 },
		"chlorine": { stain1:"#a2bf00" }
	},
	renderer: renderPresets.PLANTCHAR,
	category:"life",
	tempHigh: 100,
	stateHigh: "dead_plant",
	tempLow: -1.66,
	stateLow: "frozen_plant",
	burn:15,
	burnTime:60,
	burnInto: "dead_plant",
	breakInto: "dead_plant",
	state: "solid",
	density: 1050,
	forceSaveColor: true
},
"dead_plant": {
	color: ["#826521","#826021","#825321","#70360c"],
	behavior: [
		"XX|XX|XX",
		"XX|XX|XX",
		"M2|M1|M2",
	],
	category:"life",
	tempHigh: 300,
	stateHigh: "fire",
	tempLow: -2,
	stateLow: "frozen_plant",
	burn:85,
	burnTime:45,
	state: "solid",
	density: 1050,
	hidden: true
},
"frozen_plant": {
	color: "#00bf8c",
	behavior: behaviors.WALL,
	category:"life",
	temp: -2.66,
	tempHigh: 7,
	stateHigh: "dead_plant",
	state: "solid",
	density: 1050,
	hidden: true
},
"grass": {
	color: ["#439809","#258b08","#118511","#127b12","#136d14"],
	tick: function(pixel) {
		if (!tryMove(pixel,pixel.x,pixel.y+1)) {
			if (pixel.h < 2 && Math.random() < 0.0005 && isEmpty(pixel.x,pixel.y-1)) {
				createPixel(pixel.element,pixel.x,pixel.y-1);
				pixelMap[pixel.x][pixel.y-1].h = pixel.h+1;
			}
			var coords = [
				[pixel.x+1,pixel.y],
				[pixel.x-1,pixel.y],
				[pixel.x+1,pixel.y+1],
				[pixel.x-1,pixel.y+1],
			];
			for (var i = 0; i < coords.length; i++) {
				if (Math.random() < 0.005 && isEmpty(coords[i][0],coords[i][1])) {
					if (!isEmpty(coords[i][0],coords[i][1]+1,true)) {
						var soil = pixelMap[coords[i][0]][coords[i][1]+1];
						if (eLists.SOIL.indexOf(soil.element) !== -1) {
							createPixel(pixel.element,coords[i][0],coords[i][1]);
						}
					}
				}
			}
		}
		doDefaults(pixel);
	},
	renderer: renderPresets.PLANTCHAR,
	properties: {
		"h": 0
	},
	reactions: {
		"vinegar": { elem1:"dead_plant", elem2:null, chance:0.035 },
		"mercury": { elem1:"dead_plant", elem2:null, chance:0.01 },
		"alcohol": { elem1:"dead_plant", elem2:null, chance:0.035 },
		"baking_soda": { elem1:"dead_plant", elem2:null, chance:0.01 }
	},
	tempHigh: 100,
	stateHigh: "dead_plant",
	tempLow: -2,
	stateLow: "frozen_plant",
	burn:3,
	burnTime:20,
	breakInto: "dead_plant",
	category:"life",
	state: "solid",
	density: 1400,
	seed: "grass_seed"
},
"algae": {
	color: ["#395706","#6f9315","#9dca19"],
	behavior: [
		"XX|XX|XX",
		"SW:water,salt_water,dirty_water,sugar_water%1|XX|SW:water,salt_water,dirty_water,sugar_water%1",
		"M2%10|M1|M2%10",
	],
	tick: function(pixel) {
		if (Math.random() < 0.01 && !isEmpty(pixel.x+1,pixel.y+1,true) && isEmpty(pixel.x+1,pixel.y)) {
			var newPixel = pixelMap[pixel.x+1][pixel.y+1];
			if (newPixel.element !== "algae" && elements[newPixel.element].state === "liquid") {
				createPixel(pixel.element,pixel.x+1,pixel.y);
			}
		}
		if (Math.random() < 0.01 && !isEmpty(pixel.x-1,pixel.y+1,true) && isEmpty(pixel.x-1,pixel.y)) {
			var newPixel = pixelMap[pixel.x-1][pixel.y+1];
			if (newPixel.element !== "algae" && elements[newPixel.element].state === "liquid") {
				createPixel(pixel.element,pixel.x-1,pixel.y);
			}
		}
		doDefaults(pixel);
	},
	reactions: {
		"wood": { elem1:"lichen" },
		"chlorine": { elem1:"dead_plant", elem2:null, chance:0.035 },
		"baking_soda": { elem1:"dead_plant", elem2:null, chance:0.035 },
		"bleach": { elem1:"dead_plant", elem2:null, chance:0.035 },
		"mercury": { elem1:"dead_plant", elem2:null, chance:0.035 },
		"broth": { elem2:"water", chance:0.05 },
		"tea": { elem2:"water", chance:0.05 },
		"nitrogen": { elem2:"algae", chance:0.05 },
		"water": { elem2:"foam", attr2:{"clone":"water"}, color2:"#e3d8ca", chance:0.001 },
		"salt_water": { elem2:"foam", attr2:{"clone":"salt_water"}, color2:"#e3d8ca", chance:0.001 }
	},
	category:"life",
	tempHigh: 70,
	stateHigh: "dead_plant",
	tempLow: 0,
	stateLow: "frozen_plant",
	burn:95,
	burnTime:20,
	state: "liquid",
	density: 920,
	seed: "algae"
},
"concrete": {
	color: "#ababab",
	behavior: behaviors.SUPPORT,
	tempHigh: 1500,
	stateHigh: "magma",
	category: "powders",
	state: "solid",
	density: 2400,
	hardness: 0.5,
	breakInto: "dust",
	darkText: true
},
"wall": {
	color: "#808080",
	behavior: behaviors.WALL,
	category: "solids",
	insulate: true,
	hardness: 1,
	noMix: true,
	alias: "solid"
},
"fire": {
	color: ["#ff6b21","#ffa600","#ff4000"],
	tick: function(pixel){
		if (pixel.start === pixelTicks) {return}
		let move1Spots = adjacentCoords.slice(0);
		let moved = false;
		for (var i = 0; i < move1Spots.length; i++) {
			const j = Math.random()*move1Spots.length | 0;
			const coords = move1Spots[j];
			const x = pixel.x+coords[0];
			const y = pixel.y+coords[1];
			if (tryMove(pixel, x, y)) { moved = true; break; }
			move1Spots.splice(j, 1);
		}
		if (moved === false) {
			let move2Spots = diagonalCoords.slice(0);
			for (var i = 0; i < move2Spots.length; i++) {
				const j = Math.random()*move2Spots.length | 0;
				const coords = move2Spots[j];
				if (tryMove(pixel, pixel.x+coords[0], pixel.y+coords[1])) { break; }
				move2Spots.splice(j, 1);
			}
		}
		if (pixel.del !== true) {
			doHeat(pixel)
			doAirDensity(pixel);
			doBurning(pixel);

			if (settings.burn===0 && (pixelTicks-pixel.start > 70) && Math.random() < 0.1) { changePixel(pixel,"smoke") }
		}
	},
	onCollide: function(pixel1,pixel2) {
		if (elements[pixel2.element].fireColor) {
			pixel1.color = pixelColorPick(pixel1,elements[pixel2.element].fireColor);
			pixel1.origColor = undefined;
			pixel1.cc = true;
		}
	},
	tool: function(pixel) {
		if (pixel.temp >= elements.fire.temp || elements[pixel.element].insulate) {return;}
		pixel.temp += elements.fire.temp/(elements[pixel.element].extinguish ? 240 : 60);
		pixelTempCheck(pixel);
	},
	canPlace: true,
	renderer: renderPresets.HUESHIFT,
	reactions: {
		"water": { elem1: "smoke" },
		"steam": { elem1: "smoke" },
		"carbon_dioxide": { elem1: "smoke" },
		"foam": { elem1: "smoke" },
		"dirty_water": { elem1: "smoke" },
		"salt_water": { elem1: "smoke" },
		"sugar_water": { elem1: "smoke" },
		"seltzer": { elem1: "smoke" },
		"pool_water": { elem1: "smoke" },
		"smoke": { elem2: null, chance:0.1 },
		"oxygen": { elem2: null, chance:0.1 }
	},
	temp:600,
	tempLow:100,
	stateLow: "smoke",
	tempHigh: 7000,
	stateHigh: "plasma",
	category: "energy",
	burning: true,
	burnTime: 25,
	burnInto: "smoke",
	state: "gas",
	density: 0.1,
	noMix: true
},
"bomb": {
	color: "#524c41",
	behavior: [
		"XX|EX:10|XX",
		"XX|XX|XX",
		"M2|M1 AND EX:10|M2",
	],
	category: "weapons",
	state: "solid",
	density: 1300,
	excludeRandom: true,
	cooldown: defaultCooldown
},
"steam": {
	color: "#abd6ff",
	behavior: behaviors.GAS,
	tick: function(pixel) {
		if (pixel.temp > 3000 && Math.random() < 0.01) {
			changePixel(pixel,Math.random() < 0.5 ? "hydrogen" : "oxygen");
		}
	},
	reactions: {
		"steam": { elem1: "cloud", elem2: "cloud", chance:0.05, "y":[0,15], "setting":"clouds" },
		"rain_cloud": { elem1: "rain_cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"cloud": { elem1: "cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"snow_cloud": { elem1: "rain_cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"hail_cloud": { elem1: "rain_cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"thunder_cloud": { elem1: "rain_cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"pyrocumulus": { elem1: "cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"anesthesia": { elem1:"acid_cloud", elem2:null, chance:0.05, "y":[0,12], "setting":"clouds" },
		"fire_cloud": { elem1: "cloud", elem2: "pyrocumulus", chance:0.4, "y":[0,12], "setting":"clouds" },
		"smoke": { elem1: "smog", elem2: null, chance:0.001 },
		"carbon_dioxide": { elem1: "smog", elem2: null, chance:0.001 },
		"plasma": { elem1:"ozone", tempMin:500, charged:true },
		"copper": { elem1:"oxygen", elem2:"oxidized_copper", chance:0.01 },
		"bronze": { elem1:"oxygen", elem2:"oxidized_copper", chance:0.005 },
		"iron": { elem1:"oxygen", elem2:"rust", chance:0.005 },
		"steel": { elem1:"oxygen", elem2:"rust", chance:0.004 },
		"tornado":{elem1:"cloud"},
		"melted_wax": { elem1:"explosion" }
	},
	temp: 150,
	tempLow: 95,
	extraTempLow: {
		0: "rime"
	},
	stateLow: "water",
	category: "gases",
	state: "gas",
	density: 0.6,
	conduct: 0.002,
	stain: -0.05,
	alias: "water vapor",
	extinguish: true
},
"ice": {
	color: "#b2daeb",
	behavior: behaviors.WALL,
	temp: -5,
	tempHigh: 5,
	stateHigh: "water",
	category: "solids",
	state: "solid",
	density: 917,
	breakInto: "snow"
},
"rime": {
	color: "#e6f2f7",
	behavior: behaviors.WALL,
	behaviorOn: [
		"XX|XX|XX",
		"XX|CH:rain_cloud|XX",
		"XX|XX|XX",
	],
	temp: -5,
	tempHigh: 20,
	stateHigh: "water",
	category: "solids",
	hidden: true,
	state: "solid",
	density: 250,
	conduct: 1,
	breakInto: "packed_snow"
},
"snow": {
	color: "#e1f8fc",
	behavior: behaviors.POWDER,
	reactions: {
		"water": { elem1:"slush", elem2:"slush" },
		"salt_water": { elem1:"slush", elem2:"slush" },
		"dirty_water": { elem1:"slush", elem2:"slush" },
		"pool_water": { elem1:"slush", elem2:"slush" },
		"sugar_water": { elem1:"slush", elem2:"slush" },
		"seltzer": { elem1:"slush", elem2:"slush" },
		"uranium": { elem1:"dirty_water", chance:0.001 }
	},
	temp: -5,
	tempHigh: 18,
	tempLow: -100,
	stateLow: "packed_snow",
	stateHigh: "water",
	category: "land",
	state: "solid",
	density: 100
},
"slush": {
	color: "#81bcd4",
	behavior: behaviors.LIQUID,
	reactions: {
		"uranium": { elem1:"dirty_water", chance:0.25 }
	},
	temp: -5,
	tempHigh: 18,
	tempLow: -20,
	stateLow: "ice",
	stateHigh: "water",
	category: "liquids",
	state: "liquid",
	density: 95,
	viscosity: 100,
	hidden: true
},
"packed_snow": {
	color: "#bcdde3",
	behavior: behaviors.SUPPORTPOWDER,
	temp: -5,
	tempHigh: 20,
	tempLow: -200,
	stateLow: "ice",
	stateHigh: "water",
	breakInto: "snow",
	category: "land",
	state: "solid",
	density: 400,
	hidden: true
},
"wood": {
	color: "#a0522d",
	behavior: behaviors.WALL,
	renderer: renderPresets.WOODCHAR,
	tempHigh: 400,
	stateHigh: ["ember","charcoal","fire","fire","fire"],
	category: "solids",
	burn: 5,
	burnTime: 300,
	burnInto: ["ember","charcoal","fire"],
	state: "solid",
	hardness: 0.15,
	breakInto: "sawdust",
	forceSaveColor: true
},
"smoke": {
	color: "#383838",
	behavior: behaviors.DGAS,
	reactions: {
		"steam": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"rain_cloud": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"cloud": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"snow_cloud": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"hail_cloud": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"thunder_cloud": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"acid_cloud": { elem1: "pyrocumulus", chance:0.05, "y":[0,12], "setting":"clouds" },
		"fire_cloud": { elem1: "pyrocumulus", chance:0.05, "y":[0,12], "setting":"clouds" },
		"rad_cloud": { elem1: "pyrocumulus", chance:0.05, "y":[0,12], "setting":"clouds" },
		"pyrocumulus": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" }
	},
	temp: 114,
	tempHigh: 1000,
	stateHigh: "fire",
	category: "gases",
	state: "gas",
	density: 0.1,
	stain: 0.075,
	noMix: true
},
"magma": {
	color: ["#ff6f00","#ff8c00","#ff4d00"],
	behavior: behaviors.MOLTEN,
	renderer: renderPresets.MOLTEN,
	reactions: {
		"ice": { elem1: "basalt" },
		"ash": { elem1: "molten_tuff", "elem2":null },
		"molten_ash": { elem1: "molten_tuff", "elem2":null },
		"charcoal": { elem2:"diamond", tempMin:800, tempMax:900, chance:0.005, oneway:true }
	},
	temp: 1200,
	tempLow: 800,
	stateLow: ["basalt","basalt","basalt","rock"],
	viscosity: 10000,
	category: "liquids",
	state: "liquid",
	density: 2725,
	alias: "lava"
},
"plasma": {
	color: ["#8800ff","#b184d9","#8800ff"],
	behavior: behaviors.DGAS,
	behaviorOn: [
		"M2|M1|M2",
		"CL%5 AND M1|XX|CL%5 AND M1",
		"M2|M1|M2",
	],
	tool: function(pixel) {
		if (pixel.temp >= elements.plasma.temp || elements[pixel.element].insulate) {return;}
		pixel.temp += elements.plasma.temp/(elements[pixel.element].extinguish ? 240 : 60);
		pixelTempCheck(pixel);
	},
	canPlace: true,
	temp:7065,
	tempLow:5000,
	stateLow: "fire",
	category: "energy",
	state: "gas",
	density: 1,
	//charge: 0.5,
	conduct: 1
},
"cold_fire": {
	color: ["#21cbff","#006aff","#00ffff"],
	tick: function(pixel){
		behaviors.GAS(pixel);
		if (!pixel.del && Math.random() < 0.08 ) { changePixel(pixel,"smoke") }
	},
	tool: function(pixel) {
		if (pixel.temp <= elements.cold_fire.temp || elements[pixel.element].insulate) {return;}
		pixel.temp += elements.cold_fire.temp/(elements[pixel.element].extinguish ? 240 : 60);
		pixelTempCheck(pixel);
	},
	canPlace: true,
	reactions: {
		"fire": { elem1: "smoke", elem2: "smoke" },
		"plasma": { elem1: "light", elem2: "light" },
		"smoke": { elem2: null, chance:0.1 }
	},
	renderer: renderPresets.HUESHIFT,
	temp:-200,
	tempHigh:0,
	stateHigh: "smoke",
	category: "energy",
	state: "gas",
	density: 0.1
},
"glass": {
	color: ["#5e807d","#5e807d","#679e99","#5e807d","#5e807d"],
	colorPattern: textures.GLASS,
	colorKey: {
		"g": "#5e807d",
		"s": "#638f8b",
		"S": "#679e99"},
	renderer: renderPresets.BORDER,
	behavior: behaviors.WALL,
	reactions: {
		"radiation": { elem1:"rad_glass", chance:0.33 },
		"rad_steam": { elem1:"rad_glass", elem2:null, chance:0.33 },
		"fallout": { elem1:"rad_glass", elem2:"radiation", chance:0.1 },
		"uranium": { elem1:"rad_glass", chance:0.01 }
	},
	tempHigh: 1500,
	category: "solids",
	state: "solid",
	density: 2500,
	breakInto: "glass_shard",
	noMix: true,
	grain: 0
},
"molten_glass": {
	reactions: {
		"radiation": { elem1:"molten_rad_glass", chance:0.66 },
		"rad_steam": { elem1:"molten_rad_glass", elem2:null, chance:0.33 },
		"molten_uranium": { elem1:"molten_rad_glass", elem2:null },
		"fallout": { elem1:"molten_rad_glass", elem2:"radiation" },

		"rust": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:0} }, //red
		"molten_iron": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:0} }, //red
		"molten_bronze": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:38} }, //orange-yellow
		"mercury": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:45} }, //orange-yellow
		"mercury_gas": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:45} }, //orange-yellow
		"molten_sulfur": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:60} }, //yellow
		"sulfur_gas": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:60} }, //yellow
		"molten_copper": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:150} }, //blue-green
		"oxidized_copper": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:150} }, //blue-green
		"molten_nickel": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:240} }, //blue
		"molten_purple_gold": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:280} }, //purple
		"molten_rose_gold": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:300} }, //magenta
		"molten_gold": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:320} }, //purple-red
		"gold_coin": { elem1:"molten_stained_glass", elem2:null, attr1:{colorstart:320} }, //purple-red
	},
	grain: 0
},
"molten_rad_glass": {
	color: ["#bcc83e","#bca83e","#bc9c00","#bcc83e","#bcbc3e"],
	behavior: behaviors.RADMOLTEN,
	grain: 0
},
"rad_glass": {
	color: ["#648c64","#648c64","#6aad83","#648c64","#648c64"],
	colorPattern: textures.GLASS,
	colorKey: {
		"g": "#648c64",
		"s": "#679D74",
		"S": "#6aad83"},
	renderer: renderPresets.BORDER,
	behavior: [
		"XX|CR:radiation%0.075|XX",
		"CR:radiation%0.075|XX|CR:radiation%0.075",
		"XX|CR:radiation%0.075|XX",
	],
	tempHigh: 1500,
	category: "solids",
	state: "solid",
	density: 2500,
	breakInto: "rad_shard",
	hidden: true,
	noMix: true,
	grain: 0.3
},
"meat": {
	color: ["#9e4839","#ba6449","#d2856c","#a14940"],
	behavior: [
		"XX|XX|XX",
		"SP|XX|SP",
		"XX|M1|XX",
	],
	reactions: {
		"dirty_water": { elem1:"rotten_meat", chance:0.1 },
		"fly": { elem1:"rotten_meat", chance:0.2 },
		"dioxin": { elem1:"rotten_meat", elem2:null, chance:0.1 },
		"uranium": { elem1:"rotten_meat", chance:0.1 },
		"cancer": { elem1:"rotten_meat", chance:0.1 },
		"plague": { elem1:"rotten_meat", elem2:null, chance:0.3 },
		"ant": { elem1:"rotten_meat", chance:0.1 },
		"worm": { elem1:"rotten_meat", chance:0.1 },
		"rat": { elem1:"rotten_meat", chance:0.3 },
		"mushroom_spore": { elem1:"rotten_meat", chance:0.1 },
		"mushroom_stalk": { elem1:"rotten_meat", chance:0.1 },
		"mycelium": { elem1:"rotten_meat", chance:0.1 },
		"hyphae": { elem1:"rotten_meat", chance:0.1 },
		"mercury": { elem1:"rotten_meat", elem2:null, chance:0.2 },
		"mercury_gas": { elem1:"rotten_meat", elem2:null, chance:0.1 },
		"virus": { elem1:"rotten_meat", chance:0.1 },
		"poison": { elem1:"rotten_meat", elem2:null, chance:0.5 },
		"infection": { elem1:"rotten_meat", elem2:null, chance:0.1 },
		"ink": { elem1:"rotten_meat", elem2:null, chance:0.1 },
		"acid": { elem1:"rotten_meat", elem2:null, chance:0.5 },
		"acid_gas": { elem1:"rotten_meat", chance:0.4 },
		"cyanide": { elem1:"rotten_meat", elem2:null, chance:0.5 },
		"cyanide_gas": { elem1:"rotten_meat", elem2:null, chance:0.5 },
		"rotten_cheese": { elem1:"rotten_meat", chance:0.02 },
		"fallout": { elem1:"rotten_meat", chance:0.2 },
		"slime": { elem1:"rotten_meat", chance:0.2 },
		"water": { elem2:"broth", tempMin:70 },
		"salt_water": { elem2:"broth", tempMin:70 },
		"sugar_water": { elem2:"broth", tempMin:70 },
		"seltzer": { elem2:"broth", tempMin:70 },
		"salt": { elem1:"cured_meat" },
		"vinegar": { elem1:"cured_meat", chance:0.1 }
	},
	tempHigh: 100,
	stateHigh: "cooked_meat",
	tempLow: -18,
	stateLow: "frozen_meat",
	category:"food",
	burn:15,
	burnTime:200,
	burnInto:"cooked_meat",
	state: "solid",
	density: 1019.5,
	conduct: 0.2,
	isFood: true
},
"rotten_meat": {
	color: ["#b8b165","#b89765"],
	behavior: [
		"XX|CR:plague,stench,stench,stench,fly%0.25 AND CH:meat>rotten_meat%1|XX",
		"SP%99 AND CH:meat>rotten_meat%1|XX|SP%99 AND CH:meat>rotten_meat%1",
		"XX|M1 AND CH:meat>rotten_meat%1|XX",
	],
	reactions: {
		"water": { elem2:"broth", tempMin:70, color2:"#d7db69" },
		"salt_water": { elem2:"broth", tempMin:70, color2:"#d7db69" },
		"sugar_water": { elem2:"broth", tempMin:70, color2:"#d7db69" },
		"dirty_water": { elem2:"broth", tempMin:70, color2:"#d7db69" },
		"seltzer": { elem2:"broth", tempMin:70, color2:"#d7db69" }
	},
	tempHigh: 300,
	stateHigh: ["plague","ash","ammonia"],
	category:"food",
	hidden: true,
	burn:12,
	burnTime:200,
	burnInto:["plague","ash","ammonia"],
	state: "solid",
	density: 1005,
	conduct: 0.1,
	isFood: true
},
"cured_meat": {
	color: ["#be5c4b","#c8846f","#dda592","#bc6157"],
	behavior: [
		"XX|XX|XX",
		"SP|XX|SP",
		"XX|M1|XX",
	],
	reactions: {
		"water": { elem2:"broth", tempMin:70 },
		"salt_water": { elem2:"broth", tempMin:70 },
		"sugar_water": { elem2:"broth", tempMin:70 },
		"seltzer": { elem2:"broth", tempMin:70 }
	},
	tempHigh: 100,
	stateHigh: "cooked_meat",
	category:"food",
	burn:15,
	burnTime:200,
	burnInto:"cooked_meat",
	state: "solid",
	density: 1019.5,
	conduct: 0.3,
	isFood: true,
	hidden: true
},
"cooked_meat": {
	color: ["#ae7d5b","#9b6d54","#7e4d31"],
	behavior: behaviors.STURDYPOWDER,
	tick: function(pixel) {
		if (pixel.temp > 150 && Math.random() < 0.0025 && isEmpty(pixel.x,pixel.y-1)) {
			changePixel(pixel,"grease")
		}
	},
	reactions: {
		"water": { elem2:"broth", tempMin:70 },
		"salt_water": { elem2:"broth", tempMin:70 },
		"sugar_water": { elem2:"broth", tempMin:70 },
		"dirty_water": { elem2:"broth", tempMin:70, color2:"#d7db69" },
		"seltzer": { elem2:"broth", tempMin:70 }
	},
	tempHigh: 300,
	stateHigh: "ash",
	category:"food",
	hidden:true,
	burn:10,
	burnTime:200,
	burnInto: "ash",
	state: "solid",
	density: 1005,
	isFood: true
},
"frozen_meat": {
	color: ["#399e8f","#49baa9","#6cd2c6","#40a197"],
	behavior: behaviors.STURDYPOWDER,
	temp: -18,
	tempHigh: 0,
	stateHigh: "meat",
	category:"food",
	hidden:true,
	state: "solid",
	density: 1067.5,
	isFood: true
},
"salt": {
	color: ["#f2f2f2","#e0e0e0"],
	behavior: behaviors.POWDER,
	reactions: {
		"ice": { elem1:null, elem2:"salt_water", chance:0.1 },
		"rime": { elem1:null, elem2:"salt_water", chance:0.075 },
		"snow": { elem1:null, elem2:"salt_water", chance:0.25 },
		"packed_snow": { elem1:null, elem2:"salt_water", chance:0.05 },
		"packed_ice": { elem1:null, elem2:"salt_water", chance:0.01 }
	},
	category: "food",
	tempHigh: 801,
	state: "solid",
	density: 2160,
	fireColor: "#F1E906",
	alias: "sodium chloride"
},
"molten_salt": {
	conduct: 0.1,
	reactions: {
		"water": { elem1:"explosion" }
	},
	alias: "molten sodium chloride"
},
"sugar": {
	color: "#f2f2f2",
	behavior: behaviors.POWDER,
	reactions: {
		"grape": { elem1:null, elem2:"jelly", chance:0.005, tempMin:100 }
	},
	category: "food",
	tempHigh: 186,
	stateHigh: "caramel",
	state: "solid",
	density: 1590,
	isFood: true
},
"flour": {
	color: ["#f0e2b7","#f0e4c0","#ded1ab"],
	behavior: behaviors.POWDER,
	reactions: {
		"water": { elem1: "dough", elem2: null },
		"salt_water": { elem1: "dough", elem2: null },
		"sugar_water": { elem1: "dough", elem2: null },
		"seltzer": { elem1: "dough", elem2: null },
		"pool_water": { elem1: "dough", elem2: null },
		"juice": { elem1: "dough", elem2: null },
		"vinegar": { elem1: "dough", elem2: null },
		"yolk": { elem1: "batter", elem2: null },
		"yogurt": { elem1: "batter", elem2: null },
		"honey": { elem1:"gingerbread", elem2:null },
		"molasses": { elem1:"gingerbread", elem2:null },
		"sap": { elem1:"gingerbread", elem2:null },
		"caramel": { elem1:"gingerbread", elem2:null },
		"broth": { elem1:"dough", elem2:null },
		"soda": { elem1:"dough", elem2:null },
		"tea": { elem1:"dough", elem2:null },
		"blood": { elem1:"dough", elem2:null },
		"infection": { elem1:"dough", elem2:null },
		"antibody": { elem1:"dough", elem2:null },
		"milk": { elem1:"dough", elem2:null },
		"cream": { elem1:"dough", elem2:null }
	},
	category: "food",
	tempHigh: 400,
	stateHigh: "fire",
	burn:40,
	burnTime:25,
	state: "solid",
	density: 600,
	isFood: true
},
"wire": {
	color: "#4d0a03",
	behavior: behaviors.WALL,
	category: "machines",
	insulate: true,
	conduct: 1,
	noMix: true,
	// ignoreConduct:["ecloner"],
},
"battery": {
	color: "#9c6c25",
	behavior: [
		"XX|SH|XX", // shocks (adds charge)
		"SH|XX|SH",
		"XX|SH|XX",
	],
	category: "machines",
	tempHigh: 1455.5,
	stateHigh: ["molten_steel","explosion","acid_gas"],
	hardness: 0.8,
	breakInto: ["metal_scrap","acid"]
},
"cloner": {
	color: "#dddd00",
	behavior: behaviors.CLONER,
	onClicked: behaviors.CLONE_ON_CLICK,
	ignore: ["ecloner","slow_cloner","clone_powder","floating_cloner","wall","ewall"],
	category:"machines",
	insulate:true,
	hardness: 1,
	darkText: true,
},
"sensor": {
	color: "#bebfa3",
	tick: function(pixel) {
		for (var i = 0; i < adjacentCoords.length; i++) {
			var coords = adjacentCoords[i];
			var x = pixel.x + coords[0];
			var y = pixel.y + coords[1];
			if (!isEmpty(x,y,true)) {
				var sensed = pixelMap[x][y];
				if (pixel.sense && sensed.element !== pixel.sense && pixel.sense.split(",").indexOf(sensed.element) === -1) continue;
				if (!sensed.charge && !sensed.chargeCD && (sensed.con || elements[sensed.element].movable && elements.sensor.ignore.indexOf(sensed.element) === -1)) {
					pixel.charge = 1;
					if (!pixel.chargeStart) pixel.chargeStart = pixelTicks;
					break;
				}
			}
		}
		doDefaults(pixel);
	},
	ignore: ["flash"],
	conduct: 1,
	movable: false,
	category:"machines",
	darkText: true,
},
"heater": {
	color: "#881111",
	behavior: [
		"XX|HT:2|XX",
		"HT:2|XX|HT:2",
		"XX|HT:2|XX",
	],
	category:"machines",
	insulate:true
},
"cooler": {
	color: "#111188",
	behavior: [
		"XX|CO:2|XX",
		"CO:2|XX|CO:2",
		"XX|CO:2|XX",
	],
	category:"machines",
	insulate:true
},
"random": {
	color: ["#3e5f8a","#a334ec","#ea96f9","#a6ecf6","#70ebc8","#d9286b","#7eed91","#a18b30"],
	behavior: behaviors.WALL,
	tick: function(pixel) {
		changePixel(pixel,randomChoices[Math.floor(Math.random() * randomChoices.length)]);
	},
	onPlace: function(pixel) {
		changePixel(pixel,randomChoices[Math.floor(Math.random() * randomChoices.length)]);
	},
	category: "special",
	excludeRandom: true
},
"image": {
	color: ["#78bbff","#5bb81a"],
	onSelect: function() {
		// prompt to upload an image file, then store the image in placingImage
		var file = document.createElement("input");
		file.type = "file";
		file.accept = "image/*";
		file.onchange = function() {
			setTimeout(function(){
				var reader = new FileReader();
				reader.onload = function(e) {
					var img = new Image();
					img.onload = function() {
						placingImage = img;
					}
					img.src = e.target.result;
					file.value = "";
				}
				reader.readAsDataURL(file.files[0]);
			},500);
		}
		file.oncancel = function() {
			selectElement(null);
		}
		file.click();
	},
	onUnselect: function() {
		placingImage = null;
	},
	tool: function() {},
	category: "special",
},
"unpaint": {
	color: ["#ffffff","#000000"],
	tool: function(pixel) {
		var r = elements.unpaint.reactions[pixel.element];
		if (r && r.elem2) {
			changePixel(pixel,r.elem2)
		}
		if (!elements[pixel.element].customColor) {
			if (elements[pixel.element].colorPattern && settings.textures!==0) {
				pixel.color = colorPatternPick(pixel);
			}
			else {
				pixel.color = pixelColorPick(pixel)
			}
		}
	},
	reactions: {
		"color_sand": { elem2:"sand" },
		"stained_glass": { elem2:"glass" },
		"molten_stained_glass": { elem2:"molten_glass" },
		"rainbow": { elem2:"art" },
		"static": { elem2:"art" },
		"border": { elem2:"wall" },
		"color_smoke": { elem2:"smoke" },
		"spray_paint": { elem2:"smoke" },
		"dye": { elem2:"ink" },
		"paint": { elem2:null }
	},
	category: "special",
	desc: "Use on pixels to return their original color."
},
"uncharge": {
	color: "#0000ff",
	tool: function(pixel) {
		if (pixel.charge) {
			delete pixel.charge;
			pixel.chargeCD = 16;
		}
		if (pixel.chargeCD && elements[pixel.element].colorOn) {
			pixel.color = pixelColorPick(pixel);
		}
		var r = elements.uncharge.reactions[pixel.element];
		if (r) {
			if (r.elem2) { changePixel(pixel,r.elem2) }
			else { deletePixel(pixel.x,pixel.y) }
		}
	},
	reactions: {
		"electric": { elem2:null },
		"lightning": { elem2:null },
		"proton": { elem2:"neutron" },
		"shock": { elem2:null }
	},
	category: "special",
	excludeRandom: true,
	desc: "Use on pixels to remove electric charge."
},
"unburn": {
	color: "#383645",
	tool: function(pixel) {
		if (pixel.burning) {
			delete pixel.burning;
			delete pixel.burnStart;
		}
		var r = elements.unburn.reactions[pixel.element];
		if (r) {
			if (r.elem2) { changePixel(pixel,r.elem2) }
			else { deletePixel(pixel.x,pixel.y) }
		}
	},
	reactions: {
		"fire": { elem2:"smoke" },
		"plasma": { elem2:"smoke" },
		"ember": { elem2:"ash" },
		"fw_ember": { elem2:"smoke" },
		"torch": { elem2:"wood" }
	},
	category: "special",
	excludeRandom: true,
	desc: "Use on pixels to stop burning."
},
"smash": {
	color: ["#666666","#888888","#666666"],
	tool: function(pixel) {
		let old = pixel.element;
		if (isBreakable(pixel)) {
			// times 0.25 if not shiftDown else 1
			if (Math.random() < (1-(elements[pixel.element].hardness || 0)) / (shiftDown ? 1 : 4)) {
				breakPixel(pixel);
			}
			// if (Math.random() > ((1-(elements[pixel.element].hardness || 1)) * (shiftDown ? 0.5 : 1))) {
		}
		else if (old === pixel.element && elements[pixel.element].movable && !isEmpty(pixel.x,pixel.y+1) && !paused) {
			let x = 0; let y = 0;
			if (Math.random() < 0.66) x = Math.random() < 0.5 ? 1 : -1;
			if (Math.random() < 0.66) y = Math.random() < 0.5 ? 1 : -1;
			tryMove(pixel,pixel.x+x,pixel.y+y)
		}
	},
	category: "tools",
	excludeRandom: true,
	desc: "Use on pixels to break them, if possible."
},
"filler": {
	color: "#ae4cd9",
	behavior: behaviors.FILL,
	category:"special",
	excludeRandom: true,
	reactions: {
		"neutron": { elem1:"lattice" },
		"proton": { elem1:"vertical" },
		"electric": { elem1:"horizontal" },
		"positron": { elem1:"vertical" },
		"plasma": { elem1:"armageddon", tempMin:500, charged:true }
	},
	density: 1834
},
"lattice": {
	color: "#cb4cd9",
	behavior: [
		"CL|XX|CL",
		"XX|XX|XX",
		"CL|XX|CL",
	],
	tick: function(pixel) {
		for (var i = 0; i < adjacentCoords.length; i++) {
			var coords = adjacentCoords[i];
			var x = pixel.x + coords[0];
			var y = pixel.y + coords[1];
			if (!isEmpty(x,y,true) && pixelMap[x][y].element === "lattice") {
				deletePixel(x,y)
			}
		}
	},
	onPlace: function(pixel) {
		if (pixel.del) return;
		if (Math.random() < 0.2) return;
		for (var i = 0; i < adjacentCoords.length; i++) {
			var coords = adjacentCoords[i];
			var x = pixel.x + coords[0];
			var y = pixel.y + coords[1];
			if (!isEmpty(x,y,true) && pixelMap[x][y].element === "lattice") {
				deletePixel(x,y);
			}
		}
	},
	reactions: {
		"cold_fire": { elem1:"ice_nine", chance:0.1 },
		"proton": { elem1:"filler", elem2:null, chance:0.1 },
		"electric": { elem1:null, elem2:"filler", chance:0.1 }
	},
	category:"special",
	excludeRandom: true,
	movable: false,
	density: 917
},
"gravel": {
	color: ["#e3e0df","#b1aba3","#74736d","#524b47"],
	behavior: behaviors.POWDER,
	reactions: {
		"broth": { elem2:"water", chance:0.01 },
		"tea": { elem2:"water", chance:0.01 }
	},
	category:"land",
	tempHigh: 950,
	stateHigh: "magma",
	state: "solid",
	density: 1680,
	hardness: 0.2,
	breakInto: "sand"
},
"slime": {
	color: "#81cf63",
	behavior: behaviors.LIQUID,
	viscosity: 5000,
	tempHigh: 120,
	stateHigh: "steam",
	tempLow: 0,
	category:"liquids",
	state: "liquid",
	density: 1450,
	stain: 0.05
},
"cement": {
	color: "#b5b5b5",
	behavior: behaviors.LIQUID,
	tick: function(pixel) {
		if (pixelTicks - pixel.start > 100 && Math.random() < 0.1) {
			changePixel(pixel,"concrete")
		}
	},
	onMix: function(pixel) {
		pixel.start = pixelTicks;
	},
	category:"liquids",
	tempHigh: 1550,
	stateHigh: "magma",
	tempLow: -10,
	stateLow: "concrete",
	state: "solid",
	density: 1440,
	hardness: 0.1,
	viscosity: 1000,
	darkText: true
},
"dust": {
	color: "#666666",
	behavior: behaviors.POWDER,
	category: "powders",
	burn: 10,
	burnTime: 1,
	tempHigh: 425,
	stateHigh: "fire",
	state: "solid",
	density: 1490
},
"void": {
	color: "#262626",
	tick: function(pixel) {
		for (var i = 0; i < adjacentCoords.length; i++) {
			var x = pixel.x+adjacentCoords[i][0];
			var y = pixel.y+adjacentCoords[i][1];
			if (!isEmpty(x,y,true)) {
				var newPixel = pixelMap[x][y];
				if (elements[newPixel.element].hardness === 1) { continue; }
				deletePixel(x,y);
			}
		}
		doDefaults(pixel);
	},
	category:"special",
	hardness: 1,
	excludeRandom: true,
	movable: false,
	insulate: true
},
"sun": {
	color: "#ffffbd",
	tick: function(pixel) {
		// minimum 1726
		// maximum 7726
		if (pixel.eclipse) { pixel.color = pixelColorPick(pixel,"#FD8C03"); var c=0.01}
		else if (pixel.temp < 1500) { pixel.color = pixelColorPick(pixel,"#7a4e43"); }
		else if (pixel.temp < 3600) { pixel.color = pixelColorPick(pixel,"#ffbdbd"); var c=0.015 }
		else if (pixel.temp < 5000) { pixel.color = pixelColorPick(pixel,"#ffd5bd"); var c=0.025 }
		else if (pixel.temp < 7000) { pixel.color = pixelColorPick(pixel,"#ffffbd"); var c=0.05 }
		else if (pixel.temp < 11000) { pixel.color = pixelColorPick(pixel,"#f7fff5"); var c=0.1 }
		else if (pixel.temp < 28000) { pixel.color = pixelColorPick(pixel,"#bde0ff"); var c=0.2 }
		else { pixel.color = pixelColorPick(pixel,"#c3bdff"); var c=0.4 }
		if (pixel.temp < 1500) { var c=0 }
		for (var i = 0; i < adjacentCoords.length; i++) {
			var x = pixel.x+adjacentCoords[i][0];
			var y = pixel.y+adjacentCoords[i][1];
			if (isEmpty(x,y)) {
				if (Math.random() > c) {continue}
				createPixel("light", x, y);
				pixelMap[x][y].color = pixel.color;
			}
			else if (!outOfBounds(x,y)) {
				var newPixel = pixelMap[x][y];
				if (elements[newPixel.element].id === elements.sun.id) {
					if (pixel.eclipse) { newPixel.eclipse = true }
					if (pixel.temp!==newPixel.temp) {
						var avg = (pixel.temp + newPixel.temp)/2;
						pixel.temp = avg;
						newPixel.temp = avg;
						pixelTempCheck(pixel);
						pixelTempCheck(newPixel);
					}
				}
			}
		}
	},
	tool: function(pixel) {
		if (pixel.element === "light") {
			deletePixel(pixel.x,pixel.y);
		}
	},
	canPlace: true,
	reactions: {
		"hydrogen": { elem2:"helium", temp1:5 },
		"helium": { elem2:"carbon_dioxide", temp1:5, tempMax:3600 },
		"carbon_dioxide": { elem2:"neon", temp1:5, tempMax:1800 }
	},
	temp: 5504,
	tempLow: -100,
	stateLow: "supernova",
	category: "special",
	state: "gas",
	//density: 1408,
	insulate: true,
	noMix: true,
	alias: "star",
	movable: false
},
"cell": {
	color: ["#00ee00","#83ee00","#d6ee00"],
	tick: function(pixel){
		if (Math.random() < 0.005 && isEmpty(pixel.x,pixel.y-1)) clonePixel(pixel,pixel.x,pixel.y-1);
		if (Math.random() < 0.005 && isEmpty(pixel.x-1,pixel.y)) clonePixel(pixel,pixel.x-1,pixel.y);
		if (Math.random() < 0.005 && isEmpty(pixel.x+1,pixel.y)) clonePixel(pixel,pixel.x+1,pixel.y);
		if (!tryMove(pixel,pixel.x,pixel.y+1) && Math.random() < 0.1) {
			tryMove(pixel,pixel.x+(Math.random() < 0.5 ? 1 : -1),pixel.y+1);
		}
		doDefaults(pixel);
	},
	reactions: {
		"infection": { elem1:"infection", chance:0.015 },
		"blood": { elem1:"blood", chance:0.01 },
		"antibody": { elem1:"antibody", chance:0.01 },
		"sugar": { elem2:"cell", chance:0.03 },
		"sugar_water": { elem2:"cell", chance:0.04 },
		"alcohol": { elem1:[null,"dna"], chance:0.02 },
		"poison": { elem1:null, chance:0.02 },
		"plague": { elem1:null, chance:0.02 },
		"mercury": { elem1:null, chance:0.02 },
		"chlorine": { elem1:null, chance:0.02 },
		"cyanide": { elem1:null, chance:0.02 },
		"soap": { elem1:null, chance:0.015 },
		"oxygen": { elem2:"carbon_dioxide", chance:0.05 },
		"ammonia": { elem2:"nitrogen", chance:0.05 },
		"oil": { elem2:"methane", chance:0.001 },
		"milk": { elem2:"yogurt", chance:0.01 },
		"cream": { elem2:"yogurt", chance:0.01 },
		"chocolate_milk": { elem2:"yogurt", chance:0.01, color2:"#4c392c" },
		"fruit_milk": { elem2:"yogurt", chance:0.01, color2:"#977871" },
		"pilk": { elem2:"yogurt", chance:0.01, color2:"#bba789" },
		"eggnog": { elem2:"yogurt", chance:0.01, color2:"#ae9a7e" }
	},
	tempHigh: 102,
	stateHigh: ["steam","steam","steam","sugar"],
	tempLow: -2,
	stateLow: ["ice","ice","ice","sugar_ice"],
	state: "solid",
	density: 1000.1,
	category: "life",
	breakInto: ["water","dna","dna","dna"]
},
"cancer": {
	color: ["#300b29","#5c114e","#870c71"],
	tick: function(pixel){
		if (Math.random() < 0.01 && isEmpty(pixel.x,pixel.y-1)) clonePixel(pixel,pixel.x,pixel.y-1);
		if (Math.random() < 0.01 && isEmpty(pixel.x-1,pixel.y)) clonePixel(pixel,pixel.x-1,pixel.y);
		if (Math.random() < 0.01 && isEmpty(pixel.x+1,pixel.y)) clonePixel(pixel,pixel.x+1,pixel.y);
		if (!tryMove(pixel,pixel.x,pixel.y+1) && Math.random() < 0.1) {
			tryMove(pixel,pixel.x+(Math.random() < 0.5 ? 1 : -1),pixel.y+1);
		}
		doDefaults(pixel);
	},
	reactions: {
		"cell": { elem2:"cancer", chance:0.005 },
		"frog": { elem2:"cancer", chance:0.005 },
		"tadpole": { elem2:"cancer", chance:0.005 },
		"fish": { elem2:"cancer", chance:0.005 },
		"rat": { elem2:"cancer", chance:0.005 },
		"bird": { elem2:"cancer", chance:0.005 },
		"homunculus": { elem2:"cancer", chance:0.005 },
		"bone": { elem2:"cancer", chance:0.005 },
		"bone_marrow": { elem2:"cancer", chance:0.005 },
		"skin": { elem2:"cancer", chance:0.005 },
		"sugar": { elem2:"cancer", chance:0.04 },
		"sugar_water": { elem2:"cancer", chance:0.05 },
		"alcohol": { elem1:[null,"dna"], chance:0.01 },
		"poison": { elem1:null, chance:0.01 },
		"plant": { elem2:["dead_plant",null], chance:0.005 },
		"grass": { elem2:["dead_plant",null], chance:0.005 },
		"proton": { elem1:null, chance:0.04 },
		"laser": { elem1:null, chance:0.04 }
	},
	tempHigh: 80,
	stateHigh: "plague",
	tempLow: -30,
	stateLow: "dirty_water",
	state: "solid",
	density: 1000.2,
	category: "life",
	breakInto: "dna",
	breakIntoColor: ["#c9b7b7","#c9c6b7","#c9c6b7","#b7c8c9","#c9b7c5"],
	nocheer: true,
	hidden: true
},
"dna": {
	color: ["#ffe3e3","#e3e3ff","#ffffe3","#e3ffe3"],
	behavior: behaviors.POWDER,
	reactions: {
		"fire": { elem2:null },
		"radiation": { "color1":["#ffe3e3","#e3e3ff","#ffffe3","#e3ffe3"] },
		"neutron": { "color1":["#ffe3e3","#e3e3ff","#ffffe3","#e3ffe3"] }
	},
	tempHigh: 190,
	stateHigh: "smoke",
	state: "solid",
	density: 1700,
	category: "life",
	hidden: true,
	alias: "deoxyribonucleic acid"
},
"plague": {
	color: "#36005c",
	behavior: [
		"M2|M1|M2",
		"M1|DL%1|M1",
		"M2|M1|M2",
	],
	reactions: {
		"frog": { elem2:"plague", chance:0.05 },
		"ant": { elem2:"plague", chance:0.05 },
		"bee": { elem2:"plague", chance:0.05 },
		"fish": { elem2:"plague", chance:0.05 },
		"firefly": { elem2:"plague", chance:0.05 },
		"chlorine": { elem1:null },
		"liquid_chlorine": { elem1:null },
		"light": { elem1:null },
		"head": { stain2:"#546e00" }
	},
	tempHigh: 300,
	stateHigh: null,
	category: "life",
	state: "gas",
	density: 600
},
"worm": {
	color: "#d34c37",
	behavior: [
		"SW:dirt,sand,gravel,ash,mycelium,mud,wet_sand,clay_soil,water,salt_water,dirty_water,primordial_soup,blood,infection,color_sand%3|XX|SW:dirt,sand,gravel,ash,mycelium,mud,wet_sand,clay_soil,water,salt_water,dirty_water,primordial_soup,blood,infection,color_sand%3",
		"M2%10|XX|M2%10",
		"SW:dirt,sand,gravel,ash,mycelium,mud,wet_sand,clay_soil,water,salt_water,dirty_water,primordial_soup,blood,infection,color_sand%3|M1|SW:dirt,sand,gravel,ash,mycelium,mud,wet_sand,clay_soil,water,salt_water,dirty_water,primordial_soup,blood,infection,color_sand%3",
	],
	reactions: {
		"ash": { elem2:[null,null,null,null,null,null,null,null,null,null,"dirt"], chance:0.1, func:behaviors.FEEDPIXEL },
		"crumb": { elem2:[null,null,null,null,null,null,null,null,null,null,"dirt"], chance:0.1, func:behaviors.FEEDPIXEL },
		"feather": { elem2:[null,null,null,null,"dirt"], chance:0.1, func:behaviors.FEEDPIXEL },
		"root": { elem2:"dirt", chance:0.1, func:behaviors.FEEDPIXEL },
		"dead_plant": { elem2:"dirt", chance:0.1, func:behaviors.FEEDPIXEL },
		"tinder": { elem2:[null,"dirt"], chance:0.1, func:behaviors.FEEDPIXEL },
		"sawdust": { elem2:[null,null,null,null,"dirt"], chance:0.1, func:behaviors.FEEDPIXEL },
		"dust": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"rotten_meat": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"dead_bug": { elem2:"dirt", chance:0.1, func:behaviors.FEEDPIXEL },
		"hyphae": { elem2:"mycelium", chance:0.1, func:behaviors.FEEDPIXEL },
		"plant": { elem2:"dirt", chance:0.01, func:behaviors.FEEDPIXEL },
		"fiber": { elem2:"dirt", chance:0.01, func:behaviors.FEEDPIXEL },
		"evergreen": { elem2:"dirt", chance:0.01, func:behaviors.FEEDPIXEL },
		"petal": { elem2:"dirt", chance:0.01, func:behaviors.FEEDPIXEL },
		"pistil": { elem2:"dirt", chance:0.01, func:behaviors.FEEDPIXEL },
		"vine": { elem2:"dirt", chance:0.01, func:behaviors.FEEDPIXEL },
		"herb": { elem2:"dirt", chance:0.1, func:behaviors.FEEDPIXEL },
		"rice": { elem2:"dirt", chance:0.01, func:behaviors.FEEDPIXEL },
		"coffee_ground": { elem2:"dirt", chance:0.1, func:behaviors.FEEDPIXEL },
		"nut": { elem2:"dirt", chance:0.05, func:behaviors.FEEDPIXEL },
		"yolk": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL },
		"charcoal": { elem2:"dirt", chance:0.05, func:behaviors.FEEDPIXEL },
		"straw": { elem2:"dirt", chance:0.05, func:behaviors.FEEDPIXEL },
		"mudstone": { elem2:"dirt", chance:0.1 },
		"permafrost": { elem2:"dirt", chance:0.1 },
		"packed_sand": { elem2:"sand", chance:0.1 },
		"lichen": { elem2:"dirt", chance:0.0025 },
		"salt": { elem1: "slime", elem2: null },
		"potassium_salt": { elem1: "slime", elem2: null },
		"epsom_salt": { elem1: "slime", elem2: null },
		"alcohol": { elem1:null, chance:0.005 }
	},
	tempHigh: 100,
	stateHigh: "ash",
	tempLow: 0,
	stateLow: "frozen_worm",
	category:"life",
	breakInto: "slime",
	burn:20,
	burnTime:50,
	state: "solid",
	density: 1050,
	conduct: 0.17
},
"frozen_worm": {
	color: "#37d3b6",
	behavior: behaviors.STURDYPOWDER,
	temp: -20,
	tempHigh: 5,
	stateHigh: "worm",
	category:"life",
	breakInto: "slime",
	hidden: true,
	state: "solid",
	density: 1050,
	conduct: 0.17
},
"flea": {
	color: "#9e4732",
	behavior: [
		"M2|XX|M2",
		"XX|XX|XX",
		"M2|M1|M2",
	],
	reactions: {
		"blood": { elem2:null, chance:0.1875, func:behaviors.FEEDPIXEL },
		"infection": { elem2:null, chance:0.1875, func:behaviors.FEEDPIXEL },
		"antibody": { elem2:null, chance:0.1874, func:behaviors.FEEDPIXEL },
		"antidote": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"dead_plant": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"ketchup": { elem2:null, chance:0.1 },
		"plant": { elem2:null, chance:0.1 },
		"hair": { elem2:null, chance:0.01 },
		"mercury": { elem2:null, elem1:null, chance:0.1875 },
		"vinegar": { elem1:"dead_bug", elem2:null },
		"alcohol": { elem1:"dead_bug", elem2:null },
		"mayo": { elem1:"dead_bug", elem2:null, chance:0.025 }
	},
	tempHigh: 100,
	stateHigh: "ash",
	tempLow: 0,
	stateLow: "dead_bug",
	category:"life",
	burn:95,
	burnTime:25,
	breakInto: ["dust","dead_bug"],
	state: "solid",
	density: 400,
	conduct: 0.15
},
"termite": {
	color: "#f5a056",
	behavior: [
		"XX|XX|SW:wood,tree_branch,dirt,sand,gravel,clay_soil%5",
		"XX|FX%3|M2%15 AND BO",
		"XX|M1|SW:wood,tree_branch,dirt,sand,gravel,clay_soil%5",
	],
	reactions: {
		"wood": { elem2:null, chance:0.04, func:behaviors.FEEDPIXEL },
		"tree_branch": { elem2:null, chance:0.02, func:behaviors.FEEDPIXEL },
		"cellulose": { elem2:null, chance:0.04, func:behaviors.FEEDPIXEL },
		"paper": { elem2:null, chance:0.04, func:behaviors.FEEDPIXEL },
		"bamboo": { elem2:null, chance:0.03, func:behaviors.FEEDPIXEL },
		"bamboo_plant": { elem2:null, chance:0.04, func:behaviors.FEEDPIXEL },
		"sapling": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"sawdust": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"mulch": { elem2:"dirt", chance:0.025, func:behaviors.FEEDPIXEL },
		"confetti": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"wheat": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"straw": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"particleboard": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"tinder": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"lichen": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"nut": { elem2:["nut_meat",null], chance:0.025, func:behaviors.FEEDPIXEL },
		"vinegar": { elem1:"dead_bug", elem2:null },
		"alcohol": { elem1:"dead_bug", elem2:null }
	},
	foodNeed: 20,
	tempHigh: 100,
	stateHigh: "ash",
	tempLow: 0,
	stateLow: "dead_bug",
	category:"life",
	burn:95,
	burnTime:25,
	breakInto: "dead_bug",
	state: "solid",
	conduct: 0.15
},
"ant": {
	color: "#5e0b04",
	behavior: function(pixel){
		behaviors.CRAWLER2(pixel,function(pixel,newX,newY){
	if (!pixel.hilled && !isEmpty(pixel.x+newX,pixel.y,true) && pixelMap[pixel.x+newX][pixel.y].element === "ant_wall") {
		pixel.hilled = true;
	}
},function(pixel,newX,newY){
	if (Math.random() < 0.01 && !isEmpty(pixel.x+newX,pixel.y+1,true) && eLists.CRAWLTHRU.indexOf(pixelMap[pixel.x+newX][pixel.y+1].element) !== -1) {
		if (!pixel.hilled || !isEmpty(pixel.x+newX,pixel.y,true) && pixelMap[pixel.x+newX][pixel.y].element === "ant_wall") {
			var wallCoords = [
				[-1,-1],[1,-1],
				[-1,0],[1,0],
				[0,1]
			];
			if (!isEmpty(pixel.x,pixel.y-2)) {
				wallCoords.push([0,-1])
			}
			if (Math.random() < 0.15) { wallCoords.push([-1,1]) }
			if (Math.random() < 0.15) { wallCoords.push([1,1]) }
			// loop through wallCoords, change pixel to ant_wall if in crawlthru
			for (var i = 0; i < wallCoords.length; i++) {
				var x = pixel.x+newX+wallCoords[i][0];
				var y = pixel.y+1+wallCoords[i][1];
				if (!isEmpty(x,y,true) && eLists.CRAWLTHRU.indexOf(pixelMap[x][y].element) !== -1) {
					changePixel(pixelMap[x][y],"ant_wall");
				}
			}
			deletePixel(pixel.x+newX,pixel.y+1);
			tryMove(pixel,pixel.x+newX,pixel.y+1);
		}
	}
	else if (Math.random() < 0.08 && !isEmpty(pixel.x+newX,pixel.y-1,true) && eLists.CRAWLTHRU.indexOf(pixelMap[pixel.x+newX][pixel.y-1].element) !== -1) {
		swapPixels(pixel,pixelMap[pixel.x+newX][pixel.y-1]);
	}
})
	},
	reactions: {
		"wheat": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"caramel": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"bread": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"sugar_water": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"honey": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"soda": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"juice": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"sugar": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"rotten_meat": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"crumb": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"cheese": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"cheese_powder": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"rotten_cheese": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"dead_bug": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"vinegar": { elem1:"dead_bug", elem2:null },
		"alcohol": { elem1:"dead_bug", elem2:null },
		"oil": { elem1:"dead_bug", chance:0.2 },
		"mushroom_cap": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"candy": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"pumpkin": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"pumpkin_seed": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"nut_butter": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL },
		"jelly": { elem2:null, chance:0.02, func:behaviors.FEEDPIXEL }
	},
	tempHigh: 100,
	stateHigh: "ash",
	tempLow: 0,
	stateLow: "dead_bug",
	breakInto: "dead_bug",
	category:"life",
	burn:95,
	burnTime:25,
	state: "solid",
	density: 500,
	conduct: 0.05
},
"spider": {
	color: "#4f2d2d",
	behavior: function(pixel){
		var webs = [];
		shuffleArray(squareCoordsShuffle)
		for (var i = 0; i < squareCoordsShuffle.length; i++) {
			var coord = squareCoordsShuffle[i];
			var x = pixel.x+coord[0];
			var y = pixel.y+coord[1];
			if (!isEmpty(x,y,true) && elements[pixelMap[x][y].element].id === elements.web.id) {
				webs.push(pixelMap[x][y]);
				if (pixel.web === undefined) { pixel.web = Math.floor(Math.random() * (5 - 1) + 1) }
			}
		}
		if (webs.length) {
			if (Math.random() < 0.1) {
				var web = choose(webs);
				shuffleArray(squareCoordsShuffle);
				for (var i = 0; i < squareCoordsShuffle.length; i++) {
					var coord = squareCoordsShuffle[i];
					var x = web.x+coord[0];
					var y = web.y+coord[1];
					if (webs.length === 1 && coord[0] && coord[1] && isEmpty(x,y) && Math.random() < 0.1) {
						createPixel("web",x,y);
						break;
					}
					else if (tryMove(pixel,x,y)) { break }
				}
			}
			doDefaults(pixel);
		}
		else {
			behaviors.CRAWLER2(pixel,undefined,function(pixel){
				if (pixel.r % 2 === 1 && pixel.climb > 10 && pixel.web === undefined && Math.random() < 0.1) {
					if (tryMove(pixel,pixel.x,pixel.y-1,"web")) {
						pixel.web = Math.floor(Math.random() * (50 - 10) + 10);
					}
				}
			});
		}
	},
	foodNeed: 4,
	reactions: {
		"dead_bug": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"bleach": { elem1:"dead_bug", chance:0.1 },
		"alcohol": { elem1:"dead_bug", chance:0.05 },
		"vinegar": { elem1:"dead_bug", chance:0.03 }
	},
	tempHigh: 100,
	stateHigh: "ash",
	tempLow: 0,
	stateLow: "dead_bug",
	breakInto: "dead_bug",
	category:"life",
	burn:95,
	burnTime:25,
	state: "solid",
	density: 500,
	conduct: 0.05,
	cooldown: defaultCooldown
},
"web": {
	color: ["#d7d9d1","#c0c3b6","#a8ac9a"],
	behavior: behaviors.WALL,
	reactions: {
		"fly": { elem2:"dead_bug", chance:0.1 },
		"flea": { elem2:"dead_bug", chance:0.1 },
		"termite": { elem2:"dead_bug", chance:0.05 },
		"ant": { elem2:"dead_bug", chance:0.05 },
		"firefly": { elem2:"dead_bug", chance:0.1 },
		"stink_bug": { elem2:["dead_bug","stench"], chance:0.035 },
		"bee": { elem2:"dead_bug", chance:0.02 },
		"bleach": { elem1:null, chance:0.1 },
		"vinegar": { elem1:null, chance:0.05 },
		"juice": { elem1:null, chance:0.03 },
		"soap": { elem1:null, chance:0.2 },
		"rock": { elem1:null, chance:0.2 },
		"basalt": { elem1:null, chance:0.2 }
	},
	tempHigh: 220,
	stateHigh: "smoke",
	burn: 15,
	burnTime: 30,
	burnInto: ["smoke","smoke","smoke","smoke","ash"],
	category: "life",
	state: "solid",
	breakInto: [null,null,"dust"],
	hidden: true
},
"fly": {
	color: "#4c4e42",
	tick: behaviors.FLY,
	behaviorOn: [
		"XX|CR:flash|XX",
		"CR:flash|CH:ash|CR:flash",
		"XX|CR:flash|XX",
	],
	reactions: {
		"dead_plant": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"meat": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"cooked_meat": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"rotten_meat": { elem2:[null,null,"ammonia"], chance:0.15, func:behaviors.FEEDPIXEL },
		"cheese": { elem2:[null,null,"ammonia"], chance:0.15, func:behaviors.FEEDPIXEL },
		"cheese_powder": { elem2:[null,null,"ammonia"], chance:0.15, func:behaviors.FEEDPIXEL },
		"rotten_cheese": { elem2:[null,null,"ammonia"], chance:0.15, func:behaviors.FEEDPIXEL },
		"vine": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"corn": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"potato": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"crumb": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"wheat": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"yeast": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"caramel": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"bread": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"sugar_water": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"honey": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"soda": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL }
	},
	foodNeed: 15,
	tempHigh: 100,
	stateHigh: "ash",
	tempLow: 0,
	stateLow: "dead_bug",
	breakInto: "dead_bug",
	category:"life",
	burn:95,
	burnTime:25,
	state: "solid",
	density: 600,
	conduct: 1
},
"firefly": {
	color: "#684841",
	buttonColor: ["#684841","#684841","#d9d950","#684841","#684841"],
	// onPlace: function(pixel) {
	//	 pixel.color = pixelColorPick(pixel,"#684841")
	// },
	tick: function(pixel) {
		if (!pixel.fff) { // firefly flicker
			// choose a number between 20 and 80
			pixel.fff = Math.floor(Math.random() * 60) + 20;
		}
		if (pixelTicks % pixel.fff === 0 && !pixel.glow) {
			pixel.ffc = pixel.color;
			pixel.color = pixelColorPick(pixel,"#d9d950");
			pixel.glow = true;
			pixel.emit = true;
		}
		else if (pixelTicks % pixel.fff === 2) {
			pixel.color = pixel.ffc||pixelColorPick(pixel,"#684841");
			pixel.glow = false;
			pixel.emit = false;
		}
		behaviors.FLY(pixel,function(firefly,newfly){
			if (newfly) {
				newfly.fff = firefly.fff;
			}
		})
	},
	reactions: {
		"pollen": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"honey": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"firefly": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL },
		"sugar_water": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"soda": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"sugar": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL }
	},
	tempHigh: 100,
	stateHigh: "ash",
	tempLow: 0,
	stateLow: "dead_bug",
	breakInto: "dead_bug",
	category:"life",
	burn:95,
	burnTime:25,
	state: "solid",
	density: 600,
	conduct: 0.15
},
"bee": {
	color: "#c4b100",
	tick: function(pixel) {
		if (pixelTicks-pixel.lastP > 150 && pixel.pollen && Math.random() < 0.0005 && isEmpty(pixel.x,pixel.y+1)) {
			createPixel("pollen",pixel.x,pixel.y+1);
			pixelMap[pixel.x][pixel.y+1].seed = pixel.pollen;
			pixel.pollen = undefined;
		}
		behaviors.FLY(pixel,function(bee,hitPixel){
			if (hitPixel) {
				if (elements[hitPixel.element].seed === true) {
					bee.pollen = hitPixel.element;
					bee.lastP = pixelTicks
				}
				else if (elements[hitPixel.element].seed) {
					bee.pollen = elements[hitPixel.element].seed;
					bee.lastP = pixelTicks
				}
				if (hitPixel.lastP && (bee.lastP === undefined || bee.lastP < hitPixel.lastP)) {
					bee.lastP = hitPixel.lastP
				}
				// BEE HIVE
				if (bee.hive === undefined) {
					if (hitPixel.hive !== undefined) { bee.hive = hitPixel.hive }
					else if (Math.random() < 0.01 && eLists.HIVEPLACE.indexOf(hitPixel.element) !== -1) {
						bee.queen = true;
						bee.mats = Math.floor(Math.random() * 9) + 4; //from 3 to 10
						bee.hive = Math.floor(Math.random() * 256);
						deletePixel(bee.x,bee.y);
						createPixel("hive",bee.x,bee.y);
						pixelMap[bee.x][bee.y].hive = bee.hive;
						pixelMap[bee.x][bee.y].bees.push(bee);
						return;
					}
				}
				else if (hitPixel.element === "hive" && hitPixel.bees.length < 5 && Math.random() < 0.25) {
					deletePixel(bee.x,bee.y);
					hitPixel.bees.push(bee);
					return;
				}
			}
		})
	},
	reactions: {
		"sugar_water": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"soda": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"sugar": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"honey": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"yeast": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"caramel": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"candy": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"oil": { elem1:"dead_bug", chance:0.2 }
	},
	egg: "honey",
	tempHigh: 100,
	stateHigh: "ash",
	tempLow: 0,
	stateLow: "dead_bug",
	breakInto: ["dead_bug","honey"],
	category:"life",
	burn:95,
	burnTime:25,
	state: "solid",
	density: 600,
	conduct: 0.15
},
"hive": {
	color: "#a6a479",
	tick: function(pixel) {
		if (pixel.bees === undefined) {
			pixel.bees = [];
		}
		else if (pixel.bees.length !== 0) {
			if (pixel.temp < 33) { pixel.temp += 1 }
			for (var i = 0; i < pixel.bees.length; i++) {
				if (Math.random() > 0.25) { continue }
				var bee = pixel.bees[i];
				if (bee.pollen) {
					bee.pollen = null;
					pixel.honey++;
				}
				if (bee.queen && pixel.honey && Math.random() < 0.25) {
					if (!bee.food) { bee.food = 1 }
					else { bee.food++ }
				}
				var dirX = Math.floor(Math.random() * 3) - 1;
				var dirY = Math.floor(Math.random() * 3) - 1;
				if (isEmpty(pixel.x+dirX,pixel.y+dirY)) {
					if (bee.queen) {
						if (bee.mats) {
							createPixel("hive",pixel.x+dirX,pixel.y+dirY);
							pixelMap[pixel.x+dirX][pixel.y+dirY].hive = bee.hive;
							bee.mats--;
						}
						else if (bee.food > 4) {
							createPixel("bee",pixel.x+dirX,pixel.y+dirY);
							pixelMap[pixel.x+dirX][pixel.y+dirY].hive = bee.hive;
							bee.food = 0;
						}
					}
					else {
						bee.x = pixel.x+dirX;
						bee.y = pixel.y+dirY;
						delete bee.del;
						pixelMap[pixel.x+dirX][pixel.y+dirY] = bee;
						currentPixels.push(bee);
						pixel.bees.splice(i,1);
						i--;
					}
				}
				else if (!outOfBounds(pixel.x+dirX,pixel.y+dirY)) {
					var pixel2 = pixelMap[pixel.x+dirX][pixel.y+dirY];
					if (pixel2.element === "hive" && pixel2.bees.length < 5) {
						pixel2.bees.push(bee);
						pixel.bees.splice(i,1);
						i--;
					}
				}
			}
		}
		if (pixel.honey && Math.random() < 0.01) {
			if (!isEmpty(pixel.x,pixel.y+1,true) && pixelMap[pixel.x][pixel.y+1].element === "hive") {
				pixelMap[pixel.x][pixel.y+1].honey ++;
				pixel.honey --;
			}
			else if (isEmpty(pixel.x,pixel.y+1)) {
				createPixel("honey",pixel.x,pixel.y+1);
				pixel.honey --;
			}
		}
		doDefaults(pixel);
	},
	hoverStat: function(pixel) { return pixel.bees.length + "bee" },
	properties: {
		bees: [],
		hive: 0,
		honey: 0
	},
	tempHigh: 300,
	stateHigh: ["fire","fire","fire","ash"],
	burn: 70,
	burnTime: 300,
	burnInto: ["fire","fire","fire","ash"],
	breakInto: [null,null,"honey","wax"],
	category: "life",
	state: "solid",
	hidden: true,
	movable: false
},
"stink_bug": {
	color: ["#56482d","#52472c","#635443"],
	properties: {
		"phase": 1
	},
	tick: function(pixel) {
		var newX = pixel.x;
		var newY = pixel.y;
		if (pixel.phase === 1) { // Landing
			newX += pixel.flipX ? -1 : 1;
			newY ++;
			if (!tryMove(pixel, newX, newY)) { pixel.phase = 0 } // Stop landing
		}
		else if (pixel.phase === 2) { // Flying
			newX += pixel.flipX ? -1 : 1;
			newY += Math.random() < 0.5 ? -1 : 1;
			if (Math.random() < 0.01) { pixel.phase = 1 } // Start landing
			if (!tryMove(pixel, newX, newY)) {
				pixel.flipX = !pixel.flipX;
			}
		}
		else if (pixel.phase === 0) { // Standing
			if (Math.random() < 0.05) { newX += pixel.flipX ? -1 : 1; }
			newY ++;
			if (Math.random() < 0.01) { pixel.phase = 2 } // Start flying
			tryMove(pixel, newX, newY);
		}
		// Random chance to flip
		if (Math.random() < 0.05) { pixel.flipX = !pixel.flipX; }
		// Random chance to create "stench" behind
		if (Math.random() < 0.001) {
			if (isEmpty(pixel.x+(pixel.flipX ? 1 : -1), pixel.y)) {
				createPixel("stench",pixel.x+(pixel.flipX ? 1 : -1), pixel.y);
			}
		}
		doHeat(pixel);
		doElectricity(pixel);
	},
	reactions: {
		"petal": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"pistil": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"grape": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"plant": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"beans": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL }
	},
	flippableX: true,
	tempHigh: 100,
	stateHigh: "stench",
	tempLow: 0,
	stateLow: "dead_bug",
	category:"life",
	burn:95,
	burnTime:25,
	burnInto: "stench",
	breakInto: ["stench","dead_bug"],
	state: "solid",
	density: 600,
	conduct: 0.15
},
"dead_bug": {
	color: ["#38302a","#403732","#453a2e","#241d15","#242e23"],
	tick: function(pixel) {
		var inWeb = false;
		for (var i = 0; i < squareCoords.length; i++) {
			var coord = squareCoords[i];
			var x = pixel.x+coord[0];
			var y = pixel.y+coord[1];
			if (!isEmpty(x,y,true) && elements[pixelMap[x][y].element].id === elements.web.id) {
				inWeb = true;
				break;
			}
		}
		if (inWeb) { doDefaults(pixel); }
		else { behaviors.POWDER(pixel); }
	},
	reactions: {
		"water": { elem2:"foam", attr2:{"clone":"water"}, color2:"#e3d8ca", chance:0.001 },
		"salt_water": { elem2:"foam", attr2:{"clone":"salt_water"}, color2:"#e3d8ca", chance:0.001 }
	},
	tempHigh: 100,
	stateHigh: "ash",
	category:"life",
	burn:95,
	burnTime:25,
	burnInto: ["smoke","smoke","ash"],
	state: "solid",
	density: 600,
	hidden: true
},
"human": {
	// color: ["#f5eac6","#d4c594","#a89160","#7a5733","#523018","#361e0e"],
	color: ["#f3e7db","#f7ead0","#eadaba","#d7bd96","#a07e56","#825c43","#604134","#3a312a"],
	category: "life",
	properties: {
		dead: false,
		dir: 1,
		panic: 0
	},
	onPlace: function(pixel) {
		if (isEmpty(pixel.x, pixel.y+1)) {
			createPixel("body", pixel.x, pixel.y+1);
			var color = pixel.color;
			changePixel(pixel,"head");
			pixel.color = color;
		}
		else if (isEmpty(pixel.x, pixel.y-1)) {
			createPixel("head", pixel.x, pixel.y-1);
			pixelMap[pixel.x][pixel.y-1].color = pixel.color;
			changePixel(pixel,"body");
		}
		else {
			deletePixel(pixel.x, pixel.y);
		}
	},
	reactions: {
		"fire": { attr1:{panic:5} },
		"plasma": { attr1:{panic:5} },
		"cold_fire": { attr1:{panic:5} },
		"electric": { attr1:{panic:5} },
		"blood": { attr1:{panic:1} },
		"infection": { attr1:{panic:2} },
		"cancer": { attr1:{panic:3} },
		"plague": { attr1:{panic:5} },
		"radiation": { attr1:{panic:5} },
		"tnt": { attr1:{panic:5} },
		"dynamite": { attr1:{panic:5} },
		"c4": { attr1:{panic:5} },
		"grenade": { attr1:{panic:5} },
		"gunpowder": { attr1:{panic:5} },
		"acid": { attr1:{panic:5} },
		"acid_gas": { attr1:{panic:5} },
		"stench": { attr1:{panic:2} }
	},
	related: ["body","head"],
	cooldown: defaultCooldown,
	forceSaveColor: true,
},
"body": {
	color: ["#069469","#047e99","#7f5fb0"],
	category: "life",
	hidden: true,
	density: 1500,
	state: "solid",
	conduct: .05,
	temp: 37,
	tempHigh: 150,
	stateHigh: "cooked_meat",
	tempLow: -30,
	stateLow: "frozen_meat",
	burn: 10,
	burnTime: 250,
	burnInto: "cooked_meat",
	breakInto: ["blood","meat","bone"],
	forceSaveColor: true,
	pickElement: "human",
	reactions: {
		"cancer": { elem1:"cancer", chance:0.005 },
		"radiation": { elem1:["ash","meat","rotten_meat","cooked_meat"], chance:0.4 },
		"neutron": { elem1:["ash","meat","rotten_meat","cooked_meat"], chance:0.01 },
		"fallout": { elem1:["ash","meat","rotten_meat","cooked_meat"], chance:0.01 },
		"plague": { elem1:"plague", chance:0.05 },
		"egg": { elem2:"yolk", chance:0.5, oneway:true },
		"grape": { elem2:"juice", chance:0.5, color2:"#291824", oneway:true },
		"ant": { elem2:"dead_bug", chance:0.05, oneway:true },
		"spider": { elem2:"dead_bug", oneway:true },
		"fly": { elem2:"dead_bug", oneway:true },
		"firefly": { elem2:"dead_bug", oneway:true },
		"bee": { elem2:"dead_bug", oneway:true },
		"flea": { elem2:"dead_bug", oneway:true },
		"termite": { elem2:"dead_bug", oneway:true },
		"worm": { elem2:"slime", chance:0.05, oneway:true },
		"stink_bug": { elem2:"stench", oneway:true },
		"grass_seed": { elem2:null, chance:0.05 },
		"gold_coin": { elem2:null, chance:0.05 },
		"diamond": { elem2:null, chance:0.05 },
		"sun": { elem1:"cooked_meat" },
		"alcohol": { chance:0.2, attr1:{"panic":0} },
		"anesthesia": { attr1:{"panic":0} },
		"alcohol_gas": { chance:0.2, attr1:{"panic":0} }
	},
	properties: {
		dead: false,
		dir: 1,
		panic: 0
	},
	tick: function(pixel) {
		if (tryMove(pixel, pixel.x, pixel.y+1)) { // Fall
			if (!isEmpty(pixel.x, pixel.y-2, true)) { // Drag head down
				var headpixel = pixelMap[pixel.x][pixel.y-2];
				if (headpixel.element === "head") {
					if (isEmpty(pixel.x, pixel.y-1)) {
						movePixel(pixelMap[pixel.x][pixel.y-2], pixel.x, pixel.y-1);
					}
					else {
						swapPixels(pixelMap[pixel.x][pixel.y-2], pixelMap[pixel.x][pixel.y-1]);
					}
				}
			}
		}
		doHeat(pixel);
		doBurning(pixel);
		doElectricity(pixel);
		if (pixel.dead) {
			// Turn into rotten_meat if pixelTicks-dead > 500
			if (pixelTicks-pixel.dead > 200 && Math.random() < 0.1) {
				changePixel(pixel,"rotten_meat");
			}
			return
		}

		// Find the head
		if (!isEmpty(pixel.x, pixel.y-1, true) && pixelMap[pixel.x][pixel.y-1].element == "head") {
			var head = pixelMap[pixel.x][pixel.y-1];
			if (head.dead) { // If head is dead, kill body
				pixel.dead = head.dead;
			}
			else if (head.panic > 0) {
				pixel.panic = head.panic;
				delete head.panic;
			}
		}
		else { var head = null }
		if (head && Math.random() < 0.25) {
			let y = Math.random() < 0.5 ? 0 : -1;
			for (let x = 1; x < 10; x++) {
				let x2 = pixel.x+(x*pixel.dir);
				let y2 = pixel.y+y;
				if (!isEmpty(x2,y2,true)) {
					let seenPixel = pixelMap[x2][y2];
					if (elements.human.reactions[seenPixel.element] && elements.human.reactions[seenPixel.element].attr1 && elements.human.reactions[seenPixel.element].attr1.panic) {
						pixel.panic += elements.human.reactions[seenPixel.element].attr1.panic;
						pixel.dir *= -1;
						break;
					}
					else if (seenPixel.dead || seenPixel.temp > 200) {
						pixel.panic += 5;
						pixel.dir *= -1;
						if (seenPixel.panic) delete seenPixel.panic;
						break;
					}
				}
			}
		}
		if (pixel.burning) {
			pixel.panic += 0.1;
			if (head && pixelTicks-pixel.burnStart > 240) {
				pixel.color = head.color;
			}
		}
		if (pixel.charge) {
			pixel.panic += 1;
		}
		else if (pixel.panic > 0) {
			pixel.panic -= 0.1;
			if (pixel.panic < 0) { pixel.panic = 0; }
			else if (pixel.panic > 50) { pixel.panic = 50; }
		}

		if (isEmpty(pixel.x, pixel.y-1)) {
			// create blood if decapitated 10% chance
			if (Math.random() < 0.1 && !pixel.charge) {
				createPixel("blood", pixel.x, pixel.y-1);
				// set dead to true 15% chance
				if (Math.random() < 0.15) {
					pixel.dead = pixelTicks;
				}
			}
		}
		else if (head === null) { return }
		else if (Math.random() < 0.1*(isEmpty(pixel.x, pixel.y+1) ? 1 : pixel.panic+1)) { // Move 10% chance
			var movesToTry = [
				[1*pixel.dir,0],
				[1*pixel.dir,-1],
			];
			let moved = false;
			// While movesToTry is not empty, tryMove(pixel, x, y) with a random move, then remove it. if tryMove returns true, break.
			while (movesToTry.length > 0) {
				var move = movesToTry.splice(Math.floor(Math.random() * movesToTry.length), 1)[0];
				if (isEmpty(pixel.x+move[0], pixel.y+move[1]-1)) {
					var origx = pixel.x+move[0];
					var origy = pixel.y+move[1];
					if (tryMove(pixel, pixel.x+move[0], pixel.y+move[1]) && pixel.x===origx && pixel.y===origy) {
						movePixel(head, head.x+move[0], head.y+move[1]);
						moved = true;
						break;
					}
				}
				else if (!isEmpty(pixel.x+move[0], pixel.y+move[1], true)) {
					var hitPixel = pixelMap[pixel.x+move[0]][pixel.y+move[1]];
					if (hitPixel.element === "body" || hitPixel.element === "head" && hitPixel.panic < pixel.panic) {
						// interact with other human
						hitPixel.panic = pixel.panic;
					}
				}
			}
			// 15% chance to change direction
			if (Math.random() < 0.15 || !moved) {
				pixel.dir *= -1;
			}
			// homeostasis
			if (pixel.temp > 37) { pixel.temp -= 1; }
			else if (pixel.temp < 37) { pixel.temp += 1; }
		}

	}
},
"head": {
	color: ["#f3e7db","#f7ead0","#eadaba","#d7bd96","#a07e56","#825c43","#604134","#3a312a"],
	category: "life",
	hidden: true,
	density: 1080,
	state: "solid",
	conduct: .05,
	temp: 37,
	tempHigh: 150,
	stateHigh: "cooked_meat",
	tempLow: -30,
	stateLow: "frozen_meat",
	burn: 10,
	burnTime: 250,
	burnInto: "cooked_meat",
	breakInto: ["blood","meat","bone"],
	forceSaveColor: true,
	pickElement: "human",
	reactions: {
		"cancer": { elem1:"cancer", chance:0.005 },
		"radiation": { elem1:["ash","meat","rotten_meat","cooked_meat"], chance:0.4 },
		"neutron": { elem1:["ash","meat","rotten_meat","cooked_meat"], chance:0.03 },
		"fallout": { elem1:["ash","meat","rotten_meat","cooked_meat"], chance:0.03 },
		"plague": { elem1:"plague", chance:0.05 },
		"oxygen": { elem2:"carbon_dioxide", chance:0.5 },
		"beans": { elem2:[null,null,null,null,null,null,null,null,"stench"], chance:0.2 },
		"sun": { elem1:"cooked_meat" },
		"light": { stain1:"#825043" },
		"bee": { stain1:"#cc564b", chance:0.2 },
		"water": { elem2:"bubble", attr2:{"clone":"water"}, chance:0.001 },
		"salt_water": { elem2:"bubble", attr2:{"clone":"salt_water"}, chance:0.001 },
		"pool_water": { elem2:"bubble", attr2:{"clone":"pool_water"}, chance:0.001 },
		"alcohol": { chance:0.2, attr1:{"panic":0} },
		"anesthesia": { attr1:{"panic":0} },
		"alcohol_gas": { chance:0.2, attr1:{"panic":0} }
	},
	properties: {
		dead: false
	},
	tick: function(pixel) {
		doHeat(pixel);
		doBurning(pixel);
		doElectricity(pixel);
		if (pixel.dead) {
			// Turn into rotten_meat if pixelTicks-dead > 500
			if (pixelTicks-pixel.dead > 200 && Math.random() < 0.1) {
				changePixel(pixel,"rotten_meat");
				return
			}
		}

		// Find the body
		if (!isEmpty(pixel.x, pixel.y+1, true) && pixelMap[pixel.x][pixel.y+1].element == "body") {
			var body = pixelMap[pixel.x][pixel.y+1];
			if (body.dead) { // If body is dead, kill head
				pixel.dead = body.dead;
			}
		}
		else { var body = null }

		// check for eating food
		if (body && !pixel.dead && Math.random() < 0.1) {
			shuffleArray(interactCoordsShuffle);
			for (var i = 0; i < interactCoordsShuffle.length; i++) {
				var x = pixel.x+interactCoordsShuffle[i][0];
				var y = pixel.y+interactCoordsShuffle[i][1];
				if (!isEmpty(x,y,true) && elements[pixelMap[x][y].element].isFood && pixelMap[x][y].panic === undefined) {
					deletePixel(x,y);
					break;
				}
			}
		}

		if (tryMove(pixel, pixel.x, pixel.y+1)) {
			// create blood if severed 10% chance
			if (isEmpty(pixel.x, pixel.y+1) && !pixel.dead && Math.random() < 0.1 && !pixel.charge) {
				createPixel("blood", pixel.x, pixel.y+1);
				// set dead to true 15% chance
				if (Math.random() < 0.15) {
					pixel.dead = pixelTicks;
				}
			}
		}
		// homeostasis
		if (pixel.temp > 37) { pixel.temp -= 1; }
		else if (pixel.temp < 37) { pixel.temp += 1; }
	},
	onChange: function(pixel) {
		for (var i = 0; i < adjacentCoords.length; i++) {
			var coord = adjacentCoords[i];
			var x = pixel.x+coord[0];
			var y = pixel.y+coord[1];
			if (!isEmpty(x,y,true) && pixelMap[x][y].panic !== undefined) {
				pixelMap[x][y].panic += 20;
			}
		}
	},
	onDelete: function(pixel) {
		for (var i = 0; i < adjacentCoords.length; i++) {
			var coord = adjacentCoords[i];
			var x = pixel.x+coord[0];
			var y = pixel.y+coord[1];
			if (!isEmpty(x,y,true) && pixelMap[x][y].panic !== undefined) {
				pixelMap[x][y].panic += 20;
			}
		}
	}
},
"bird": {
	color: "#997457",
	properties: { "phase": 2, "rising":0 },
	tick: function(pixel) {
		if (Math.random() < 0.00007 && isEmpty(pixel.x,pixel.y+1)) {
			createPixel("feather",pixel.x,pixel.y+1);
		}
		var newX = pixel.x;
		var newY = pixel.y;
		if (pixel.phase === 1) { // Landing
			newX += pixel.flipX ? -1 : 1;
			newY += Math.random() < 0.5 ? 0 : 1;
			if (!tryMove(pixel, newX, newY)) {
				if (outOfBounds(newX, newY)) { pixel.phase = 0 }
				else {
					var newPixel = pixelMap[newX][newY];
					if (elements[newPixel.element].state !== "solid") { pixel.phase = 3; }
					else if (newPixel.element === "bird") {
						pixel.phase = 3;
						newPixel.phase = 3;
					}
					else { pixel.phase = 0; }
				}
			} // Stop landing
		}
		else if (pixel.phase === 2) { // Gliding
			newX += pixel.flipX ? -1 : 1;
			newY += Math.random() < 0.9 ? 0 : 1;
			if (Math.random() < 0.01) { pixel.phase = 1 } // Start landing
			if (!tryMove(pixel, newX, newY)) {
				pixel.flipX = !pixel.flipX;
				if (!outOfBounds(newX, newY) && pixelMap[newX][newY].element !== "bird") {
					pixel.phase = 3;
				}
			}
		}
		else if (pixel.phase === 0) { // Standing
			if (Math.random() < 0.05) { newX += pixel.flipX ? -1 : 1; }
			newY ++;
			if (Math.random() < 0.01) { pixel.phase = 3 } // Start rising
			if (!tryMove(pixel, newX, newY)) {
				if (!outOfBounds(newX, newY) && pixelMap[newX][newY].element === "bird") {
					pixel.phase = 3;
					pixelMap[newX][newY].phase = 3;
				}
			}
		}
		else if (pixel.phase === 3) { // Rising
			newX += pixel.flipX ? -1 : 1;
			newY --;
			if (!tryMove(pixel, newX, newY) || (pixel.rising > 5 && Math.random() < 0.05)) { pixel.phase = 2; pixel.rising = 0; } // Start gliding
			else { pixel.rising ++; }
		}
		doHeat(pixel);
		doElectricity(pixel);
		doBurning(pixel);
	},
	flippableX: true,
	reactions: {
		"fly": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"firefly": { elem2:null, chance:0.3, func:behaviors.FEEDPIXEL },
		"bee": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"worm": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"ant": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"stink_bug": { elem2:"stench", chance:0.025, func:behaviors.FEEDPIXEL },
		"dead_bug": { elem2:null, chance:0.04, func:behaviors.FEEDPIXEL },
		"lichen": { elem2:null, chance:0.04, func:behaviors.FEEDPIXEL },
		"termite": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"flea": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"mushroom_cap": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"mushroom_gill": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"seeds": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"flower_seed": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"wheat_seed": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"corn_seed": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"corn": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"potato_seed": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"grass_seed": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"crumb": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"pumpkin": { elem2:null, chance:0.025, func:behaviors.FEEDPIXEL },
		"pumpkin_seed": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"rice": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"coffee_bean": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"coffee_ground": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"nut": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"nut_meat": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"nut_butter": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"jelly": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"spider": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"web": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"plague": { elem1:"plague", chance:0.05 },
		"oxygen": { elem2:"carbon_dioxide", chance:0.5 }
	},
	foodNeed: 20,
	temp: 41,
	tempHigh: 120,
	stateHigh: "cooked_meat",
	stateHighColor: "#E4CFB9",
	tempLow: -18,
	stateLow: "frozen_meat",
	category:"life",
	burn:2,
	burnTime:100,
	breakInto: ["feather","blood"],
	state: "solid",
	density: 400,
	conduct: 0.5
},
"rat": {
	color: ["#a698a9","#8c7d82","#ccc3cf"],
	behavior: [
		"XX|M2%1.5|M2%5",
		"XX|FX%2 AND RL:plague%0.05|M2 AND BO",
		"XX|M1|M2",
	],
	reactions: {
		"oxygen": { elem2:"carbon_dioxide", chance:0.5 },
		"meat": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"cooked_meat": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"cured_meat": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"cheese": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"cheese_powder": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"rotten_cheese": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"melted_cheese": { elem2:null, chance:0.3, func:behaviors.FEEDPIXEL },
		"tomato": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"sauce": { elem2:null, chance:0.3, func:behaviors.FEEDPIXEL },
		"plant": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"vine": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"evergreen": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"algae": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"grass_seed": { elem2:null, chance:0.3 , func:behaviors.FEEDPIXEL},
		"wheat_seed": { elem2:null, chance:0.3, func:behaviors.FEEDPIXEL },
		"wheat": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"potato_seed": { elem2:null, chance:0.3, func:behaviors.FEEDPIXEL },
		"potato": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"corn_seed": { elem2:null, chance:0.3, func:behaviors.FEEDPIXEL },
		"corn": { elem2:null, chance:0.1 , func:behaviors.FEEDPIXEL},
		"lichen": { elem2:null, chance:0.04, func:behaviors.FEEDPIXEL },
		"flower_seed": { elem2:null, chance:0.4 , func:behaviors.FEEDPIXEL},
		"flour": { elem2:null, chance:0.1 , func:behaviors.FEEDPIXEL},
		"dough": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"bread": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"toast": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"gingerbread": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"rice": { elem2:null, chance:0.1 , func:behaviors.FEEDPIXEL},
		"yogurt": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"beans": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"salt": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"sugar": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"crumb": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"herb": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"salt_water": { elem2:"dirty_water", chance:0.2 },
		"sugar_water": { elem2:"dirty_water", chance:0.2 },
		"water": { elem2:"dirty_water", chance:0.2 },
		"popcorn": { elem2:null, chance:0.3, func:behaviors.FEEDPIXEL },
		"candy": { elem2:null, chance:0.3, func:behaviors.FEEDPIXEL },
		"caramel": { elem2:null, chance:0.4, func:behaviors.FEEDPIXEL },
		"lichen": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"egg": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"yolk": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"hard_yolk": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"eggnog": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"milk": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"grape": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"batter": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"baked_batter": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"butter": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"melted_butter": { elem2:null, chance:0.3, func:behaviors.FEEDPIXEL },
		"lettuce": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"baked_potato": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"ice_cream": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"cream": { elem2:null, chance:0.3, func:behaviors.FEEDPIXEL },
		"pumpkin": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"pumpkin_seed": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"coffee_bean": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"coffee_ground": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"nut": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"nut_meat": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"nut_butter": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"jelly": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"worm": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"ant": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"frog": { elem2:null, chance:0.005, func:behaviors.FEEDPIXEL },
		"snail": { elem2:"limestone", chance:0.1, func:behaviors.FEEDPIXEL },
		"slug": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL }
	},
	egg: "rat",
	category: "life",
	temp: 37.6,
	tempHigh: 120,
	stateHigh: "rotten_meat",
	tempLow: -18,
	stateLow: "frozen_meat",
	breakInto: ["infection","rotten_meat"],
	burn:80,
	burnTime:150,
	state: "solid",
	density: 1450,
	conduct: 0.25
},
"frog": {
	color: "#607300",
	behavior: [
		"XX|XX|M2%3 AND SW:water,salt_water,sugar_water,dirty_water,seltzer%7",
		"XX|FX%0.5|CR:slime%0.01 AND BO",
		"XX|M1|XX",
	],
	reactions: {
		"fly": { elem2:null, chance:0.5, func:behaviors.FEEDPIXEL },
		"firefly": { elem1:"meat", elem2:null, chance:0.5 },
		"stink_bug": { elem2:null, chance:0.55, func:behaviors.FEEDPIXEL },
		"snail": { elem2:"limestone", chance:0.05, func:behaviors.FEEDPIXEL },
		"slug": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"worm": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"spider": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"algae": { elem2:null, chance:0.5, func:behaviors.FEEDPIXEL },
		"kelp": { elem2:"water", chance:0.5, func:behaviors.FEEDPIXEL },
		"oxygen": { elem2:"carbon_dioxide", chance:0.5 },
		"dead_bug": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"mercury": { elem1:"rotten_meat", chance:0.1 },
		"bleach": { elem1:"rotten_meat", chance:0.1 },
		"infection": { elem1:"rotten_meat", chance:0.025 },
		"uranium": { elem1:"rotten_meat", chance:0.1 },
		"cyanide": { elem1:"rotten_meat", chance:0.1 },
		"chlorine": { elem1:"meat", chance:0.1 },
		"alcohol": { elem1:"meat", chance:0.025 },
		"dirty_water": { elem1:"rotten_meat", chance:0.0001 },
		"pool_water": { elem1:"rotten_meat", chance:0.005 },
		"vinegar": { elem1:"rotten_meat", chance:0.001 }
	},
	foodNeed: 10,
	baby: "tadpole",
	eggColor:"#717c80",
	temp: 19.1,
	tempHigh: 100,
	stateHigh: "cooked_meat",
	stateHighColor: "#CDAF96",
	onStateHigh: function(pixel) {
		releaseElement(pixel,"steam");
	},
	tempLow: -18,
	stateLow: "frozen_frog",
	category:"life",
	breakInto: "slime",
	burn:15,
	burnTime:300,
	state: "solid",
	density: 1450,
	conduct: 0.2
},
"frozen_frog": {
	color: "#007349",
	behavior: behaviors.STURDYPOWDER,
	temp: -20,
	tempHigh: 5,
	stateHigh: "frog",
	category:"life",
	breakInto: "slime",
	hidden: true,
	state: "solid",
	density: 1500
},
"tadpole": {
	color: "#87b574",
	behavior: [
		"XX|XX|M2%25 AND SW:water,salt_water,sugar_water,dirty_water,seltzer,pool_water%14",
		"XX|FX%0.5|SW:water,salt_water,sugar_water,dirty_water,seltzer,pool_water%14",
		"XX|M1|SW:water,salt_water,sugar_water,dirty_water,seltzer,pool_water%14",
	],
	tick: function(pixel) {
		if (pixelTicks-pixel.start > 500) {
			changePixel(pixel,"frog");
		}
	},
	reactions: {
		"algae": { elem2:null, chance:0.25 },
		"kelp": { elem2:"water", chance:0.25 }
	},
	tempHigh: 100,
	stateHigh: "steam",
	tempLow: -10,
	stateLow: "ice",
	breakInto: ["slime",null],
	category:"life",
	hidden: true,
	state: "solid",
	density: 1450,
	conduct: 0.2
},
"fish": {
	color: "#ac8650",
	behavior: [
		"XX|M2%5|SW:water,salt_water,sugar_water,dirty_water,seltzer,pool_water,primordial_soup%14",
		"XX|FX%0.5|BO",
		"M2|M1|M2 AND SW:water,salt_water,sugar_water,dirty_water,seltzer,pool_water,primordial_soup%5",
	],
	reactions: {
		"algae": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"kelp": { elem2:"water", chance:0.25 },
		"plant": { elem2:null, chance:0.125, func:behaviors.FEEDPIXEL },
		"fly": { elem2:null, chance:0.4, func:behaviors.FEEDPIXEL },
		"firefly": { elem2:null, chance:0.6, func:behaviors.FEEDPIXEL },
		"worm": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"tadpole": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"spider": { elem2:null, chance:0.25, func:behaviors.FEEDPIXEL },
		"oxygen": { elem2:"carbon_dioxide", chance:0.5 },
		"dead_bug": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"broth": { elem2:"water", chance:0.2, func:behaviors.FEEDPIXEL },
		"slug": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"herb": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"lettuce": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"dead_plant": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"lichen": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"yeast": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"yogurt": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"tea": { elem2:null, chance:0.2, func:behaviors.FEEDPIXEL },
		"yolk": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"cell": { elem2:null, chance:0.15, func:behaviors.FEEDPIXEL },
		"crumb": { elem2:null, chance:0.1, func:behaviors.FEEDPIXEL },
		"alcohol": { elem1:"meat", chance:0.001 },
		"water": { elem2:"bubble", attr2:{"clone":"water"}, chance:0.001, oneway:true },
		"salt_water": { elem2:"bubble", attr2:{"clone":"salt_water"}, chance:0.001, oneway:true },
		"pool_water": { elem1:"meat", chance:0.001 },
		"chlorine": { elem1:"meat", chance:0.1 },
		"vinegar": { elem1:"meat", chance:0.001 }
	},
	foodNeed: 20,
	temp: 20,
	tempHigh: 120,
	stateHigh: "cooked_meat",
	stateHighColor: "#E4CFB9",
	tempLow: -20,
	stateLow: ["frozen_meat","frozen_meat","frozen_meat","frozen_fish"],
	category:"life",
	breakInto: "blood",
	burn:20,
	burnTime:200,
	state: "solid",
	density: 1080,
	conduct: 0.2,
	eggColor: ["#211316","#2C1A1D","#503734"]
},
"frozen_fish": {
	color: "#50ac86",
	behavior: behaviors.STURDYPOWDER,
	temp: -20,
	tempHigh: 5,
	stateHigh: "fish",
	category:"life",
	breakInto: "blood",
	hidden: true,
	state: "solid",
	density: 1050,
	conduct: 0.17
},
"slug": {
	color: ["#997e12","#997e12","#997e12","#997e12","#997e12","#997e12","#403314","#403314","#403314","#403314","#403314","#403314","#124a44"],
	buttonColor: ["#997e12","#403314"],
	behavior: [
		"XX|XX|XX",
		"XX|FX%0.25|M2%0.5 AND BO",
		"XX|M1|XX",
	],
	reactions: {
		"salt": { elem1: "slime", elem2: null },
		"potassium_salt": { elem1: "slime", elem2: null },
		"epsom_salt": { elem1: "slime", elem2: null },
		"coffee_bean": { elem1: null, chance:0.05 },
		"coffee_ground": { elem1: null, chance:0.05 },
		"coffee": { elem1: null, chance:0.05 },
		"soap": { elem1: null, chance:0.05 },
		"plant": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"evergreen": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"cactus": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"dead_plant": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"worm": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL },
		"mushroom_spore": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"grass": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"herb": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"lettuce": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"grass_seed": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"algae": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"kelp": { elem2:"water", chance:0.05, func:behaviors.FEEDPIXEL },
		"coral": { elem2:"water", chance:0.01, func:behaviors.FEEDPIXEL },
		"mushroom_cap": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"mushroom_stalk": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"mushroom_gill": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"lichen": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"hyphae": { elem2:"dirt", chance:0.05, func:behaviors.FEEDPIXEL },
		"mycelium": { elem2:"dirt", chance:0.05, func:behaviors.FEEDPIXEL },
		"pumpkin": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL },
		"grape": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL }
	},
	tempLow: 5,
	stateLow: "slime",
	tempHigh: 90,
	stateHigh: "slime",
	breakInto: "slime",
	category: "life",
	state: "solid",
	density: 1450,
	conduct: 0.17
},
"snail": {
	color: "#5c3104",
	behavior: [
		"XX|XX|XX",
		"XX|FX%0.25|M2%0.5 AND BO",
		"XX|M1|XX",
	],
	reactions: {
		"salt": { elem1: "limestone", elem2: null },
		"dirty_water": { elem2:"water", chance:0.05, func:behaviors.FEEDPIXEL },
		"broth": { elem2:"water", chance:0.05, func:behaviors.FEEDPIXEL },
		"tea": { elem2:"water", chance:0.05, func:behaviors.FEEDPIXEL },
		"potassium_salt": { elem1: "limestone", elem2: null },
		"epsom_salt": { elem1: "limestone", elem2: null },
		"coffee_bean": { elem1: "limestone", chance:0.05 },
		"coffee_ground": { elem1: "limestone", chance:0.05 },
		"coffee": { elem1: "limestone", chance:0.05 },
		"soap": { elem1: "limestone", chance:0.05 },
		"plant": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"evergreen": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"cactus": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"dead_plant": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"worm": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL },
		"mushroom_spore": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"grass": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"herb": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"lettuce": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"grass_seed": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"algae": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"kelp": { elem2:"water", chance:0.05, func:behaviors.FEEDPIXEL },
		"coral": { elem2:"water", chance:0.01, func:behaviors.FEEDPIXEL },
		"mushroom_cap": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"mushroom_stalk": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"mushroom_gill": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"lichen": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"hyphae": { elem2:"dirt", chance:0.05, func:behaviors.FEEDPIXEL },
		"mycelium": { elem2:"dirt", chance:0.05, func:behaviors.FEEDPIXEL },
		"pumpkin": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL },
		"calcium": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL },
		"limestone": { elem2:null, chance:0.001, func:behaviors.FEEDPIXEL },
		"quicklime": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL },
		"slaked_lime": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL },
		"paper": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL },
		"pickle": { elem2:null, chance:0.05, func:behaviors.FEEDPIXEL },
		"grape": { elem2:null, chance:0.01, func:behaviors.FEEDPIXEL }
	},
	tempLow: -6.4,
	stateLow: "limestone",
	tempHigh: 100,
	stateHigh: "limestone",
	breakInto: ["slime","limestone"],
	category: "life",
	state: "solid",
	density: 1500,
	conduct: 0.16
},
"burner": {
	color: "#d6baa9",
	behavior: [
		"CR:propane|CR:propane|CR:propane",
		"XX|XX|XX",
		"XX|XX|XX",
	],
	category: "machines",
	conduct: 0.73
},
"superheater": {
	color: "#dd1111",
	behavior: [
		"XX|HT:10|XX",
		"HT:10|XX|HT:10",
		"XX|HT:10|XX",
	],
	category:"machines",
	insulate:true
},
"freezer": {
	color: "#1111dd",
	behavior: [
		"XX|CO:10|XX",
		"CO:10|XX|CO:10",
		"XX|CO:10|XX",
	],
	category:"machines",
	insulate:true
},
"pipe": {
	color: "#414c4f",
	onSelect: function() {
		logMessage("Draw a pipe, wait for walls to appear, then erase the exit hole.");
	},
	tick: function(pixel) {
		if (!pixel.stage && pixelTicks-pixel.start > 60) {
			for (var i = 0; i < squareCoords.length; i++) {
				var coord = squareCoords[i];
				var x = pixel.x+coord[0];
				var y = pixel.y+coord[1];
				if (!isEmpty(x,y,true) && elements[pixelMap[x][y].element].movable) {
					deletePixel(x,y)
				}
				if (isEmpty(x,y)) {
					createPixel("pipe_wall",x,y);
				}
			}
			pixel.stage = 1;
		}
		else if (pixel.stage === 1 && pixelTicks-pixel.start > 70) { //uninitialized
			for (var i = 0; i < adjacentCoords.length; i++) {
				var coord = adjacentCoords[i];
				var x = pixel.x+coord[0];
				var y = pixel.y+coord[1];
				if (isEmpty(x,y)) {
					pixel.stage = 2; //blue
					pixel.color = pixelColorPick(pixel,"#000036");
					break;
				}
			}
		}
		else if (pixel.stage > 1 && pixelTicks % 3 === pixel.stage-2) { //initialized
			for (var i = 0; i < squareCoords.length; i++) {
				var coord = squareCoords[i];
				var x = pixel.x+coord[0];
				var y = pixel.y+coord[1];
				if (!isEmpty(x,y,true) && pixelMap[x][y].element === "pipe") {
					var newPixel = pixelMap[x][y];
					if (newPixel.stage === 1) {
						var newColor;
						switch (pixel.stage) {
							case 2: newPixel.stage = 3; newColor = "#003600"; break; //green
							case 3: newPixel.stage = 4; newColor = "#360000"; break; //red
							case 4: newPixel.stage = 2; newColor = "#000036"; break; //blue
						}
						newPixel.color = pixelColorPick(newPixel,newColor);
					}
				}
			}
			var moved = false;
			shuffleArray(squareCoordsShuffle);
			for (var i = 0; i < squareCoordsShuffle.length; i++) {
				var coord = squareCoordsShuffle[i];
				var x = pixel.x+coord[0];
				var y = pixel.y+coord[1];
				if (!isEmpty(x,y,true)) {
					var newPixel = pixelMap[x][y];
					if (newPixel.element === "pipe") {
						var nextStage;
						switch (pixel.stage) {
							case 2: nextStage = 4; break; //green
							case 3: nextStage = 2; break; //red
							case 4: nextStage = 3; break; //blue
						}
						if (pixel.con && !newPixel.con && newPixel.stage === nextStage) { //transfer to adjacent pipe
							newPixel.con = pixel.con;
							newPixel.con.x = newPixel.x;
							newPixel.con.y = newPixel.y;
							pixel.con = null;
							moved = true;
							break;
						}
					}
					else if (!pixel.con && elements[newPixel.element].movable) { //suck up pixel
						pixel.con = newPixel;
						deletePixel(newPixel.x,newPixel.y);
						pixel.con.x = pixel.x;
						pixel.con.y = pixel.y;
						pixel.con.del;
						moved = true;
						break;
					}
				}
			}
			if (pixel.con && !moved) { // move to same stage if none other
				for (var i = 0; i < squareCoordsShuffle.length; i++) {
					var coord = squareCoordsShuffle[i];
					var x = pixel.x+coord[0];
					var y = pixel.y+coord[1];
					if (isEmpty(x,y)) {
						delete pixel.con.del;
						pixel.con.x = x;
						pixel.con.y = y;
						pixelMap[x][y] = pixel.con;
						currentPixels.push(pixel.con);
						pixel.con = null;
						break;
					}
					if (!isEmpty(x,y,true) && pixelMap[x][y].element === "pipe") {
						var newPixel = pixelMap[x][y];
						if (pixel.con && !newPixel.con && newPixel.stage === pixel.stage) {
							newPixel.con = pixel.con;
							newPixel.con.x = newPixel.x;
							newPixel.con.y = newPixel.y;
							pixel.con = null;
							break;
						}
					}
				}
			}
		}
		doDefaults(pixel);
	},
	category: "machines",
	movable: false,
	canContain: true,
	forceSaveColor: true,
	hardness: 0.75
},
"pipe_wall": {
	color: "#586879",
	behavior: behaviors.WALL,
	category: "machines",
	noMix: true,
	hidden: true
},
"mixer": {
	color: ["#9f936f","#b4a98e","#c8beac"],
	behavior: [
		"MX|MX|MX",
		"MX|CC:#9f936f,#b4a98e,#c8beac|MX",
		"MX|MX|MX",
	],
	category: "machines",
	noMix: true,
	darkText: true
},
"grinder": {
	color: ["#8a8986","#a3a29f","#bcbbb9"],
	behavior: [
		"MX|SM%8 AND MX|MX",
		"SM%8 AND MX|CC:#8a8986,#a3a29f,#bcbbb9|SM%8 AND MX",
		"MX|SM%8 AND MX|MX",
	],
	category: "machines",
	noMix: true,
	darkText: true
},
"fuse": {
	color: "#825d38",
	tick: function(pixel) {
		doDefaults(pixel);
		if (pixel.charge < 1) {
			changePixel(pixel,"flash");
			pixel.charge = 0;
		}
	},
	movable: true,
	tempHigh: 500,
	stateHigh: "fire",
	burn: 100,
	burnTime: 1,
	fireElement: "flash",
	burnInto: "flash",
	category: "machines",
	state: "solid",
	density: 1000,
	conduct: 1,
	ignoreConduct:["ecloner","sensor"]
},
"ewall": {
	name: "e-wall",
	color: "#7a7769",
	behavior: behaviors.WALL,
	category: "machines",
	hardness: 1,
	noMix: true,
	conduct: 1
},
"torch": {
	color: "#d68542",
	behavior: [
		"XX|CR:fire|XX",
		"XX|XX|XX",
		"XX|XX|XX",
	],
	reactions: {
		"water": { elem1:"wood" },
		"sugar_water": { elem1:"wood" },
		"salt_water": { elem1:"wood" },
		"seltzer": { elem1:"wood" },
		"dirty_water": { elem1:"wood" },
		"pool_water": { elem1:"wood" },
		"steam": { elem1:"wood" },
		"smog": { elem1:"wood" },
		"rain_cloud": { elem1:"wood" },
		"cloud": { elem1:"wood" },
		"snow_cloud": { elem1:"wood" },
		"hail_cloud": { elem1:"wood" },
		"thunder_cloud": { elem1:"wood" },
		"ice_nine": { elem1:"wood" }
	},
	temp:600,
	category:"special",
	breakInto: "sawdust",
	tempLow: -273,
	stateLow: "wood"
},
"spout": {
	color: "#606378",
	behavior: [
		"XX|CR:water|XX",
		"CR:water|XX|CR:water",
		"XX|CR:water|XX",
	],
	category:"special",
	tempHigh: 1455.5,
	stateHigh: "molten_steel",
	conduct: 0.42
},
"udder": {
	color: "#ecb3f5",
	tick: function(pixel) {
		if (!isEmpty(pixel.x+1,pixel.y,true)) {
			let pixel2 = pixelMap[pixel.x+1][pixel.y];
			if (pixel2.element === "udder") {
				if (pixel2.clone && !pixel.clone) pixel.clone = pixel2.clone;
				else if (pixel.clone && !pixel2.clone) pixel2.clone = pixel.clone;
			}
		}
		if (!isEmpty(pixel.x,pixel.y+1,true)) {
			let pixel2 = pixelMap[pixel.x][pixel.y+1];
			if (pixel2.element === "udder") {
				if (pixel2.clone && !pixel.clone) pixel.clone = pixel2.clone;
				else if (pixel.clone && !pixel2.clone) pixel2.clone = pixel.clone;
			}
		}
		if (Math.random() <= 0.005 && isEmpty(pixel.x,pixel.y+1)) {
			createPixel(pixel.clone||"milk",pixel.x,pixel.y+1);
			pixelMap[pixel.x][pixel.y+1].temp = 38;
		}
		doDefaults(pixel);
	},
	onBreak: function(pixel) {
		if (Math.random() <= (shiftDown ? 0.33 : 0.1) && isEmpty(pixel.x,pixel.y+1)) {
			createPixel("milk",pixel.x,pixel.y+1);
			pixelMap[pixel.x][pixel.y+1].temp = 38;
		}
	},
	reactions: {
		"soda": { elem2:null, attr1:{"clone":"pilk"}, chance:0.1 },
		"juice": { elem2:null, attr1:{"clone":"fruit_milk"}, chance:0.1 },
		"melted_chocolate": { elem2:null, attr1:{"clone":"chocolate_milk"}, chance:0.1 },
		"yolk": { elem2:null, attr1:{"clone":"eggnog"}, chance:0.1 },
		"chocolate": { attr1:{"clone":"chocolate_milk"}, chance:0.1 }
	},
	tempHigh: 100,
	stateHigh: "cooked_meat",
	tempLow: -18,
	stateLow: "frozen_meat",
	burn:15,
	burnTime:200,
	burnInto:"cooked_meat",
	category:"special",
	movable: false,
},
"bone_marrow": {
	color: "#c97265",
	behavior: [
		"XX|CR:blood,bone,bone%1|XX",
		"CR:blood,bone,bone%1|XX|CR:blood,bone,bone%1",
		"XX|CR:blood,bone,bone%1|XX",
	],
	category:"life",
	tempHigh: 750,
	stateHigh: ["quicklime","salt","steam","ash"],
	tempLow: -10,
	stateLow: "frozen_meat",
	breakInto: ["quicklime","blood"],
	hidden: true
},
"bone": {
	color: "#d9d9d9",
	behavior: behaviors.SUPPORT,
	reactions: {
		"blood": {elem1:"bone_marrow",chance:0.0005},
		"antibody": {elem1:"bone_marrow",chance:0.0005},
		"water": { elem2:"broth", tempMin:70 },
		"salt_water": { elem2:"broth", tempMin:70 },
		"sugar_water": { elem2:"broth", tempMin:70 },
		"seltzer": { elem2:"broth", tempMin:70 }
	},
	category:"life",
	tempHigh: 760,
	stateHigh: "quicklime",
	state: "solid",
	density: 1900,
	hardness: 0.5,
	breakInto: ["quicklime","quicklime","quicklime","bone_marrow"]
},
"ball": {
	color: "#e35693",
	behavior: [
		"XX|XX|XX",
		"XX|FY:0%5|XX",
		"XX|M1 AND BO|XX",
	],
	tempHigh: 250,
	stateHigh: "molten_plastic",
	category: "special",
	state: "solid",
	density: 1052,
	flipY: false,
	flippableY: true,
	hidden: true
},
"balloon": {
	color: ["#fe4a75","#267cb0","#1a743c","#ff6ffa","#eaede5","#1dc9f3","#ff0101","#f4cd32","#bee347","#fab937","#91c7cc"],
	behavior: [
		"M1%50|M1%50|M1%50",
		"M2%5|XX|M2%5",
		"M2%5|M2%5|M2%5",
	],
	reactions: {
		"cloud": {elem1:"pop"},
		"rain_cloud": {elem1:"pop"},
		"snow_cloud": {elem1:"pop"},
		"thunder_cloud": {elem1:"pop"},
		"hail_cloud": {elem1:"pop"},
		"acid_cloud": {elem1:"pop"},
		"ozone": {elem1:"pop"}
	},
	category:"special",
	tempHigh: 120,
	stateHigh: "pop",
	tempLow: -272.20,
	stateLow: "pop",
	burn: 20,
	burnTime: 2,
	burnInto: "pop",
	state: "solid",
	density: 0.164,
	breakInto: ["confetti","helium","helium","helium","pop"]
},
"antipowder": {
	color: "#ebd1d8",
	behavior: behaviors.AGPOWDER,
	category:"special",
	tempHigh: 1850,
	stateHigh: "antimolten",
	state: "solid",
	density: 1850
},
"antimolten": {
	color: ["#ffb5b5","#ffd0b5","#ffd0b5"],
	behavior: [
		"M1|M1|M1",
		"M2|XX|M2",
		"XX|CR:antifire%2.5|XX",
	],
	temp: 1850,
	tempLow: 1750,
	stateLow: "antipowder",
	viscosity: 10000,
	hidden: true,
	state: "liquid",
	density: 1000,
	category: "special"
},
"antifire": {
	color: ["#ffc3a6","#ffdfa3","#ffb69e"],
	behavior: [
		"XX|M2|XX",
		"M2|XX|M2",
		"M1|M1|M1",
	],
	reactions: {
		"antifluid": { elem1: "antigas" },
		"water": { elem1: "antigas" },
		"steam": { elem1: "antigas" }
	},
	temp:600,
	tempLow:100,
	stateLow: "antigas",
	tempHigh: 7000,
	stateHigh: "plasma",
	category: "special",
	burning: true,
	burnTime: 25,
	burnInto: "antigas",
	fireElement: "flash",
	hidden: true,
	state: "gas",
	density: 0.2,
	ignoreAir: true,
},
"antifluid": {
	color: "#d1dbeb",
	behavior: behaviors.AGLIQUID,
	category:"special",
	tempHigh: 100,
	stateHigh: "antigas",
	tempLow: 0,
	stateLowName: "antiice",
	state: "liquid",
	density: 1000
},
"antigas": {
	color: "#e6fffc",
	behavior: [
		"M2|M2|M2",
		"M2|XX|M2",
		"M1|M1|M1"
	],
	category:"special",
	tempLow: 100,
	stateLow: "antifluid",
	tempHigh: 1000,
	temp: 150,
	stateHigh: "antifire",
	hidden: true,
	state: "gas",
	density: 10
},
"vertical": {
	color: "#d9d9d9",
	behavior: [
		"XX|M1 AND BO|XX",
		"CR:wall|XX|CR:wall",
		"XX|XX|XX",
	],
	reactions: {
		"electric": { elem1:"horizontal" }
	},
	category:"special",
	hidden:true,
	excludeRandom: true
},
"horizontal": {
	color: "#d9d9d9",
	behavior: [
		"XX|CR:wall|XX",
		"XX|XX|M1 AND BO",
		"XX|CR:wall|XX",
	],
	reactions: {
		"proton": { elem1:"vertical" },
		"positron": { elem1:"vertical" }
	},
	category:"special",
	hidden:true,
	excludeRandom: true
},
"ash": {
	color: ["#8c8c8c","#9c9c9c"],
	behavior: behaviors.POWDER,
	reactions: {
		"steam": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"rain_cloud": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"cloud": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"snow_cloud": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"hail_cloud": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"thunder_cloud": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"acid_cloud": { elem1: "pyrocumulus", chance:0.05, "y":[0,12], "setting":"clouds" },
		"pyrocumulus": { elem1: "pyrocumulus", chance:0.08, "y":[0,12], "setting":"clouds" },
		"tornado":{elem1:"pyrocumulus", oneway:true},
		"stench": { elem2:null, chance:0.1 }
	},
	category:"powders",
	state: "solid",
	density: 700,
	tempHigh: 2000,
	forceAutoGen: true,
	stateHigh: ["molten_ash","smoke","smoke","smoke"]
},
"molten_ash": {
	tempHigh: 3550,
	stateHigh: "smoke"
},
"light": {
	color: "#fffdcf",
	tick: function(pixel) {
	if (Math.random() < 0.02) {
		deletePixel(pixel.x,pixel.y);
		return;
	}
	if (pixel.bx===undefined) {
		// choose 1, 0, or -1
		pixel.bx = Math.random() < 0.5 ? 1 : Math.random() < 0.5 ? 0 : -1;
		pixel.by = Math.random() < 0.5 ? 1 : Math.random() < 0.5 ? 0 : -1;
		// if both are 0, make one of them 1 or -1
		if (pixel.bx===0 && pixel.by===0) {
			if (Math.random() < 0.5) { pixel.bx = Math.random() < 0.5 ? 1 : -1; }
			else { pixel.by = Math.random() < 0.5 ? 1 : -1; }
		}
	}
	// move and invert direction if hit
	if (pixel.bx && !tryMove(pixel, pixel.x+pixel.bx, pixel.y)) {
		var newX = pixel.x + pixel.bx;
		if (!isEmpty(newX, pixel.y, true)) {
			var newPixel = pixelMap[pixel.x+pixel.bx][pixel.y];
			if (!elements[newPixel.element].insulate) {
				newPixel.temp += 1;
				pixelTempCheck(newPixel);
			}
			if (!elements.light.reactions[newPixel.element]) {
				pixel.color = newPixel.color;
			}
		}
		pixel.bx = -pixel.bx;
	}
	if (!pixel.del && pixel.by && !tryMove(pixel, pixel.x, pixel.y+pixel.by)) {
		var newY = pixel.y + pixel.by;
		if (!isEmpty(pixel.x, newY, true)) {
			var newPixel = pixelMap[pixel.x][pixel.y+pixel.by];
			if (!elements[newPixel.element].insulate) {
				newPixel.temp += 1;
				pixelTempCheck(newPixel);
			}
			if (!elements.light.reactions[newPixel.element]) {
				pixel.color = newPixel.color;
			}
		}
		pixel.by = -pixel.by;
	}
	},
	reactions: {
		"glass": { "color1":["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"] },
		"glass_shard": { "color1":["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"] },
		"rad_glass": { "color1":["#9f6060","#9f8260","#9f9f60","#609f60","#609f9f","#60609f","#9f609f"] },
		"rad_shard": { "color1":["#9f6060","#9f8260","#9f9f60","#609f60","#609f9f","#60609f","#9f609f"] },
		"steam": { "color1":["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"] },
		"rain_cloud": { "color1":["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"] },
		"cloud": { "color1":["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"] },
		"smog": { "color1":["#9f6060","#9f8260","#9f9f60","#609f60","#609f9f","#60609f","#9f609f"] },
		"ice": { "color1":"#c2fff9" },
		"rime": { "color1":"#c2fff9" },
		"water": { "color1":"#a1bac9" },
		"salt_water": { "color1":"#a1bac9" },
		"sugar_water": { "color1":"#a1bac9" },
		"dirty_water": { "color1":"#a1c9a8" },
		"seltzer": { "color1":"#c2fff9" },
		"diamond": { "color1":["#c2c5ff","#c2d9ff"] },
		"rainbow": { "color1":["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"] },
		"static": { "color1":["#ffffff","#bdbdbd","#808080","#424242","#1c1c1c"] },
		"pipe": { },
		"pipe_wall": { },
		"wall": { },
	},
	temp: 35,
	tempLow: -273,
	stateLow: ["liquid_light",null],
	stateLowColorMultiplier: 0.8,
	category: "energy",
	state: "gas",
	density: 0.00001,
	ignoreAir: true,
	insulate: true,
	alias: "photon"
},
"liquid_light": {
	color: "#bdbc9d",
	//behavior: behaviors.SUPERFLUID,
	tick: function(pixel) {
		if (Math.random() < 0.0002) {
			deletePixel(pixel.x,pixel.y);
			return;
		}
		if (pixel.charge && elements[pixel.element].behaviorOn) {
			pixelTick(pixel)
		}
		if (Math.random() < 0.33) { tryMove(pixel, pixel.x, pixel.y+1) }
		if (!isEmpty(pixel.x, pixel.y+1)) {
			// go either left or right depending on pixel.flipX
			var newx = pixel.flipX ? pixel.x-1 : pixel.x+1;
			if (Math.random() < 0.5) {
				if (!tryMove(pixel, newx, pixel.y)) {
					if (!outOfBounds(newx, pixel.y) && !elements.liquid_light.reactions[pixelMap[newx][pixel.y].element]) {
						pixel.color = pixelMap[newx][pixel.y].color;
					}
					pixel.flipX = !pixel.flipX;
					if (!tryMove(pixel, newx, pixel.y+1) && !outOfBounds(newx, pixel.y+1) && !elements.liquid_light.reactions[pixelMap[newx][pixel.y+1].element]) {
						pixel.color = pixelMap[newx][pixel.y+1].color;
					}
				}
			}
			else {
				if (!tryMove(pixel, newx, pixel.y+1)) {
					if (!outOfBounds(newx, pixel.y+1) && !elements.liquid_light.reactions[pixelMap[newx][pixel.y+1].element]) {
						pixel.color = pixelMap[newx][pixel.y+1].color;
					}
					if (!tryMove(pixel, newx, pixel.y)) {
						pixel.flipX = !pixel.flipX;
						if (!outOfBounds(newx, pixel.y) && !elements.liquid_light.reactions[pixelMap[newx][pixel.y].element]) {
							pixel.color = pixelMap[newx][pixel.y].color;
						}
					}
				}
			}
		}
		doDefaults(pixel);
	},
	reactions: {
		"glass": { "color1":["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"] },
		"glass_shard": { "color1":["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"] },
		"rad_glass": { "color1":["#9f6060","#9f8260","#9f9f60","#609f60","#609f9f","#60609f","#9f609f"] },
		"rad_shard": { "color1":["#9f6060","#9f8260","#9f9f60","#609f60","#609f9f","#60609f","#9f609f"] },
		"steam": { "color1":["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"] },
		"rain_cloud": { "color1":["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"] },
		"cloud": { "color1":["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"] },
		"smog": { "color1":["#9f6060","#9f8260","#9f9f60","#609f60","#609f9f","#60609f","#9f609f"] },
		"laser": { "color1":"#ff0000" }
	},
	temp: -273,
	tempHigh: -272,
	stateHigh: "light",
	category: "energy",
	state: "gas",
	density: 0.00002,
	ignoreAir: true,
	viscosity: 0,
	insulate: true,
	hidden: true
},
"laser": {
	color: "#ff0000",
	behavior: [
		"XX|XX|XX",
		"XX|DL%0.25|XX",
		"XX|XX|XX",
	],
	tick: behaviors.BOUNCY,
	temp: 35,
	tempLow: -273,
	stateLow: ["liquid_light",null],
	stateLowColorMultiplier: 0.8,
	breakInto: "light",
	breakIntoColor: "#ffcfcf",
	category: "energy",
	state: "gas",
	density: 0.00001,
	ignoreAir: true
},
"pointer": {
	color: "#ff0000",
	tick: function(pixel) {
		if (pixelTicks - pixel.start > (tps/30)) {
			deletePixel(pixel.x, pixel.y)
		}
	},
	tool: function(pixel) {
		if (pixel.element === "pointer") {
			pixel.start = pixelTicks;
		}
	},
	canPlace: true,
	category:"special",
	customColor: true,
	hidden:true,
	movable: false,
	state: "gas",
	glow: false,
	density: 1,
},
"charcoal": {
	color: "#2b2b2b",
	behavior: behaviors.POWDER,
	reactions: {
		"broth": { elem2:"water", chance:0.02 },
		"tea": { elem2:"water", chance:0.02 },
		"poison": { elem2:"dirty_water", chance:0.02 },
		"sulfur": { elem1:"gunpowder", elem2:"gunpowder", chance:0.02 },
		"molten_sulfur": { elem1:"gunpowder", elem2:"gunpowder", chance:0.02 },
		"dead_plant": { elem2:"charcoal", tempMin:200, chance:0.005, oneway:true }
	},
	renderer: renderPresets.CHARCOALHEAT,
	burn: 25,
	burnTime: 1000,
	burnInto: ["fire","fire","fire","fire","ash","carbon_dioxide"],
	tempHigh: 6000,
	stateHigh: "fire",
	category: "powders",
	state: "solid",
	density: 208,
	breakInto: ["ash","ash","carbon_dioxide"],
	hardness: 0.5,
	conduct: 0.001,
	stain: 0.02
},
"tinder": {
	color: ["#917256","#87684f","#735f4a","#5d4c3e","#4b3a2e"],
	behavior: behaviors.STURDYPOWDER,
	category: "powders",
	tempHigh: 400,
	stateHigh: "fire",
	burn: 50,
	burnTime: 100,
	state: "solid",
	density: 23
},
"sawdust": {
	color: ["#dec150","#c7b15a"],
	behavior: behaviors.POWDER,
	reactions: {
		"water": { elem1:"cellulose", elem2:null },
		"dirty_water": { elem1:"cellulose", elem2:null },
		"salt_water": { elem1:"cellulose", elem2:null },
		"sugar_water": { elem1:"cellulose", elem2:null },
		"honey": { elem1:"particleboard", elem2:null },
		"glue": { elem1:"particleboard", elem2:null }
	},
	tempHigh: 400,
	stateHigh: "fire",
	category: "powders",
	burn: 25,
	burnTime: 150,
	burnInto: ["ash","fire","fire","fire"],
	state: "solid",
	density: 393
},
"hail": {
	color: "#c5e9f0",
	tick: function(pixel) {
		for (var i=0; i<3; i++) {
			if (!tryMove(pixel, pixel.x, pixel.y+1)) {
				if (!isEmpty(pixel.x, pixel.y+1,true)) {
					var newPixel = pixelMap[pixel.x][pixel.y+1];
					if (newPixel.element === "hail") { break; }
					if (elements[newPixel.element].state == "solid" || !elements[newPixel.element].state) {
						if (Math.random() > (elements[newPixel.element].hardness || 0)) {
							if (isBreakable(newPixel)) {
								breakPixel(newPixel);
							}
							else {
								deletePixel(newPixel.x, newPixel.y);
							}}}}
				deletePixel(pixel.x,pixel.y);
				break;
			}}
		doHeat(pixel)},
	temp: -20,
	tempHigh: 10,
	stateHigh: "water",
	category: "powders",
	state: "solid",
	density: 850,
	insulate: true,
	hidden: true
},
"hydrogen": {
	color: "#558bcf",
	behavior: behaviors.GAS,
	reactions: {
		"oxygen": { elem1:null, elem2:"steam", tempMin:500, tempMax:3000 },
		"hydrogen": { elem1:"neutron", elem2:"helium", tempMin:10000, temp1:20000, temp2:20000 },
		"nitrogen": { elem1:null, elem2:"oxygen", tempMin:10000 },
		"sulfur": { elem1:null, elem2:"chlorine", tempMin:10000 },
		"neon": { elem1:null, elem2:"sodium", tempMin:10000 },
		"fire": { elem1:"explosion", chance:0.005 },
		"carbon_dioxide": { elem1:["methane",null], elem2:"steam", tempMin:300 },
		"charcoal": { elem1:null, elem2:"oil", tempMin:400, chance:0.1 }
	},
	category: "gases",
	burn: 100,
	burnTime: 2,
	burnInto: ["fire","fire","fire","fire","fire","fire","fire","fire","fire","fire","fire","fire","steam"],
	fireColor: "#637980",
	tempLow: -253,
	stateLow: "liquid_hydrogen",
	state: "gas",
	density: 0.08375,
	conduct: 0.02,
	colorOn: "#7d15e5"
},
"oxygen": {
	color: "#99c7ff",
	behavior: behaviors.GAS,
	reactions: {
		"copper": { elem1:null, elem2:"oxidized_copper", chance:0.05 },
		"bronze": { elem1:null, elem2:"oxidized_copper", chance:0.025 },
		"iron": { elem1:null, elem2:"rust", chance:0.025 },
		"steel": { elem1:null, elem2:"rust", chance:0.02 },
		"water": { elem1:"foam", attr1:{"clone":"oxygen"} },
		"salt_water": { elem1:"foam", attr1:{"clone":"oxygen"} },
		"sugar_water": { elem1:"foam", attr1:{"clone":"oxygen"} },
		"seltzer": { elem1:"foam", attr1:{"clone":"oxygen"} },
		"soda": { elem1:"foam", attr1:{"clone":"oxygen"} },
		"dirty_water": { elem1:"foam", attr1:{"clone":"oxygen"} },
		"oxygen": { elem1: null, elem2: "ozone", chance:0.01, "y":[0,12], "setting":"clouds" },
		"ozone": { elem1: "ozone", chance:0.01, "y":[0,12], "setting":"clouds" },
		"light": { elem1: "ozone", elem2: null, chance:0.3, "y":[0,12], "setting":"clouds" },
		"proton": { elem1:"flash", color1:"#e36d88", attr1:{delay:500}, elem2:"flash", color2:"#e36d88", attr2:{delay:500}, chance:0.25, "y":[0,10] },
		"paper": { elem1:"fragrance", chance:0.005 }
	},
	category: "gases",
	// burn: 100,
	// burnTime: 2,
	tempLow: -183.94,
	stateLow: "liquid_oxygen",
	state: "gas",
	density: 1.292
},
"nitrogen": {
	color: "#b8d1d4",
	behavior: behaviors.GAS,
	reactions: {
		"oxygen": { elem1:null, elem2:"anesthesia", tempMin:250 },
		"hydrogen": { elem1:null, elem2:"ammonia" },
		"neon": { elem1:null, elem2:"chlorine", tempMin:10000 },
		"proton": { elem1:"flash", color1:"#895adb", attr1:{delay:500}, elem2:"flash", color2:"#895adb", attr2:{delay:500}, chance:0.05, "y":[0,20] }
	},
	category: "gases",
	tempLow: -195.8,
	stateLow: "liquid_nitrogen",
	state: "gas",
	density: 1.165
},
"helium": {
	color: "#a69494",
	behavior: behaviors.GAS,
	category: "gases",
	tempLow: -272.20,
	stateLow: "liquid_helium",
	state: "gas",
	density: 0.1786,
	conduct: 0.02,
	colorOn: "#f1a1ff"
},
"anesthesia": {
	color: "#d3e1e3",
	behavior: behaviors.GAS,
	category: "gases",
	tempHigh: 600,
	stateHigh: ["oxygen","fire"],
	tempLow: -88.48,
	stateLow: ["nitrogen","oxygen"],
	hidden: true,
	state: "gas",
	density: 1.9781,
	alias: ["nitrous oxide","anaesthesia","anesthetic"]
},
"carbon_dioxide": {
	color: "#2f2f2f",
	behavior: behaviors.GAS,
	reactions: {
		"plant": { elem1:"oxygen" },
		"evergreen": { elem1:"oxygen" },
		"grass": { elem1:"oxygen" },
		"cactus": { elem1:"oxygen" },
		"bamboo": { elem1:"oxygen" },
		"bamboo_plant": { elem1:"oxygen" },
		"vine": { elem1:"oxygen" },
		"flower_seed": { elem1:"oxygen" },
		"grass_seed": { elem1:"oxygen" },
		"algae": { elem1:"oxygen" },
		"kelp": { elem1:"oxygen" }
	},
	category: "gases",
	tempLow: -78.5,
	stateLow: "dry_ice",
	state: "gas",
	density: 1.977,
	alias: ["CO2","CO₂"]
},
"bubble": {
	color: "#afc7fa",
	behavior: [
		"XX|XX|XX",
		"XX|FX%1|M1%5",
		"XX|M1%1|M1%2",
	],
	tick: function(pixel) {
		if (Math.random() < 0.0025 || (pixel.clone && isEmpty(pixel.x,pixel.y-1))) {
			if (pixel.clone) {
				changePixel(pixel,pixel.clone);
				return;
			}
			deletePixel(pixel.x,pixel.y)
		}
	},
	category: "gases",
	state: "gas",
	breakInto: null,
	tempHigh: 200,
	stateHigh: null,
	tempLow: -10,
	stateLow: null,
	density: 1.294,
	stain: -0.1
},
"ammonia": {
	color: "#bab6a9",
	behavior: behaviors.GAS,
	function(pixel) {
		if (pixel.temp > 650 && Math.random() < 0.01) {
			changePixel(pixel,Math.random() < 0.5 ? "nitrogen" : "hydrogen");
		}
	},
	reactions: {
		"methane": { elem1:["hydrogen","water"], elem2:"cyanide_gas", chance:0.25 },
		"vinegar": { elem1:"salt_water", elem2:"salt_water", chance:0.05 },
		"plant": { elem1:"plant", chance:0.05 },
		"evergreen": { elem1:"evergreen", chance:0.05 },
		"cactus": { elem1:"cactus", chance:0.05 },
		"wheat": { elem1:"wheat", chance:0.05 },
		"wheat_seed": { elem1:"wheat", chance:0.05 },
		"grass": { elem1:"grass", chance:0.05 },
		"grass_seed": { elem1:"grass", chance:0.05 },
		"bamboo_plant": { elem1:"bamboo", chance:0.05 },
		"flower_seed": { elem1:"flower_seed", chance:0.05 },
		"petal": { elem1:"flower_seed", chance:0.05 },
		"vine": { elem1:"vine", chance:0.05 },
		"sapling": { elem1:"tree_branch", chance:0.05 },
		"tree_branch": { elem1:"tree_branch", chance:0.05 },
		"corn_seed": { elem1:"corn", chance:0.05 },
		"root": { elem1:"root", chance:0.05 },
		"dirt": { elem1:"grass", chance:0.05 },
		"mud": { elem1:"grass", chance:0.05 },
		"water": { elem1:"algae", chance:0.005 },
		"kelp": { elem1:["kelp","algae"], chance:0.005 },
		"coral": { elem1:"coral", chance:0.005 },
		"potato_seed": { elem1:"potato", chance:0.05 },
		"pumpkin_seed": { elem1:"pumpkin", chance:0.05 },
		"herb": { elem1:"herb", chance:0.05 },
		"lettuce": { elem1:"lettuce", chance:0.05 },
		"yeast": { elem1:"yeast", chance:0.05 },
		"fish": { elem2:"meat", chance:0.05 },
		"bird": { elem2:"meat", chance:0.05 },
		"frog": { elem2:"meat", chance:0.05 },
		"rat": { elem2:"rotten_meat", chance:0.05 }
	},
	tempLow: -33.34,
	category: "gases",
	state: "gas",
	density: 0.73
},
"liquid_ammonia": {
	tempLow: -77.78,
	density: 681.9,
},
"oil": {
	color: "#470e00",
	behavior: behaviors.LIQUID,
	tick: function(pixel) {
		if (!pixel.burning && pixel.temp > 90 && Math.random() < 0.001) {
			if (pixel.temp < 150) { changePixel(pixel,"propane") }
			else if (pixel.temp < 300) { changePixel(pixel,"molten_plastic") }
			else { changePixel(pixel,"lamp_oil") }
		}
	},
	reactions: {
		"dirt": { elem1:null, elem2:"mud" },
		"sand": { elem1:null, elem2:"wet_sand" },
		"sap": { elem1:"greek_fire", elem2:"greek_fire" },
		"water": { burning1:true, elem2:"explosion" },
		"steam": { burning1:true, elem2:"explosion" },
		"salt_water": { burning1:true, elem2:"explosion" },
		"sugar_water": { burning1:true, elem2:"explosion" },
		"dirty_water": { burning1:true, elem2:"explosion" },
		"pool_water": { burning1:true, elem2:"explosion" },
		"seltzer": { burning1:true, elem2:"explosion" },
		"coral": { elem2:null, chance:0.01 },
		"hydrogen": { elem1:"sulfur", elem2:"steam", burning1:false, burning2:false, tempMin:90, chance:0.1 },
	},
	category: "liquids",
	tempHigh: 500,
	stateHigh: "fire",
	burn: 5,
	burnTime: 300,
	burnInto: ["carbon_dioxide","fire"],
	viscosity: 250,
	state: "liquid",
	density: 825,
	stain: 0.05,
	alias: "petroleum"
},
"lamp_oil": {
	color: "#b3b38b",
	behavior: behaviors.LIQUID,
	tick: function(pixel) {
		if (pixel.temp > 500 && !pixel.burning) {
			pixel.burning = true;
			pixel.burnStart = pixelTicks;
		}
	},
	reactions: {
		"glue": {elem2:null, chance:0.05},
		"wax": {elem2:null, chance:0.005},
		"melted_wax": {elem2:null, chance:0.025},
		"dirt": { elem1:null, elem2:"mud" },
		"steam": { burning1:true, elem2:"explosion" }
	},
	category: "liquids",
	tempHigh: 2100,
	stateHigh: "fire",
	tempLow: -30,
	stateLow: "wax",
	burn: 5,
	burnTime: 2000,
	burnInto: ["carbon_dioxide","fire"],
	viscosity: 3,
	state: "liquid",
	density: 850,
	alias: "kerosene"
},
"propane": {
	color: "#cfcfcf",
	behavior: behaviors.GAS,
	behaviorOn: [
		"XX|XX|XX",
		"XX|CH:fire|XX",
		"XX|XX|XX",
	],
	conduct: 0.01,
	category: "gases",
	tempHigh: 600,
	stateHigh: "fire",
	tempLow: -43,
	burn: 100,
	burnTime: 5,
	fireColor: ["#00ffff","#00ffdd"],
	state: "gas",
	density: 2.0098,
	alias: "gas"
},
"liquid_propane": {
	tempHigh: -40,
	stateHigh: "propane",
	tempLow: -188
},
"methane": {
	color: "#9f9f9f",
	behavior: behaviors.GAS,
	behaviorOn: [
		"XX|XX|XX",
		"XX|CH:fire|XX",
		"XX|XX|XX",
	],
	conduct: 0.01,
	category: "gases",
	tempHigh: 537,
	stateHigh: "fire",
	tempLow: -161.5,
	burn: 85,
	burnTime: 5,
	fireColor: ["#00ffff","#00ffdd"],
	state: "gas",
	density: 0.554
},
"liquid_methane": {
	"tempLow": -182
},
"stained_glass": {
	color: ["#6b2e2e","#6b4f2e","#6b6b2e","#2e6b2e","#2e6b6b","#2e2e6b","#6b2e6b"],
	behavior: behaviors.WALL,
	onPlace: behaviors.DO_TICK,
	renderer: renderPresets.BORDER,
	tick: function(pixel) {
		if (pixel.start-1 <= pixelTicks) {
			if (pixel.colorstart === undefined) {
				pixel.colorstart = pixel.start;
			}
			pixel.color = "hsl(" + pixel.colorstart + ",40%,30%)";
		}
	},
	tempHigh: 1500,
	category: "solids",
	state: "solid",
	density: 2500,
	breakInto: "color_sand",
	noMix: true,
	movable: false,
	grain: 0
},
"molten_stained_glass": {
	color: ["#c27070","#c29c70","#c2c270","#70c270","#70c2c2","#7070c2","#c270c2"],
	onPlace: behaviors.DO_TICK,
	behavior: function(pixel) {
		if (pixel.start-1 <= pixelTicks) {
			if (pixel.colorstart === undefined) {
				pixel.colorstart = pixel.start;
			}
			pixel.color = "hsl(" + pixel.colorstart + ",40%,60%)";
		}

		if (Math.random() < 0.025 && isEmpty(pixel.x,pixel.y-1)) {
			createPixel("fire",pixel.x,pixel.y-1);
			pixelMap[pixel.x][pixel.y-1].temp = pixel.temp;
			pixelMap[pixel.x][pixel.y-1].color = "hsl(" + pixel.colorstart + ",70%,70%)";
		}
		behaviors.LIQUID(pixel);
	}
},
"art": {
	color: "#ffffff",
	behavior: behaviors.WALL,
	tool: function(pixel) {
		if (pixel.element === "paper") {
			deletePixel(pixel.x,pixel.y)
		}
	},
	canPlace: true,
	customColor: true,
	category: "special"
},
"rainbow": {
	color: ["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"],
	tick: function(pixel) {
		var t = pixelTicks+pixel.x+pixel.y;
		var r = Math.floor(127*(1-Math.cos(t*Math.PI/90)));
		var g = Math.floor(127*(1-Math.cos(t*Math.PI/90+2*Math.PI/3)));
		var b = Math.floor(127*(1-Math.cos(t*Math.PI/90+4*Math.PI/3)));
		pixel.color = "rgb("+r+","+g+","+b+")";
		doDefaults(pixel);
	},
	onPlace: behaviors.DO_TICK,
	category: "special",
	movable: false,
	breakInto: "static",
	fireColor: ["#ff0000","#ff8800","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff"]
},
"static": {
	color: ["#ffffff","#888888","#000000"],
	tick: function(pixel) {
		for (var i = 0; i < adjacentCoords.length; i++) {
			var coords = adjacentCoords[i];
			var x = pixel.x + coords[0];
			var y = pixel.y + coords[1];
			if (!isEmpty(x,y,true) && pixelMap[x][y].element === "rainbow" && pixel.start !== pixelTicks) {
				changePixel(pixel,"rainbow");
				return;
			}
		}
		var top = mousePos.y - Math.floor(mouseSize/2);
		var bottom = mousePos.y + Math.floor(mouseSize/2);
		var left = mousePos.x - Math.floor(mouseSize/2);
		var right = mousePos.x + Math.floor(mouseSize/2);
		if (pixel.x > left && pixel.x < right && pixel.y > top && pixel.y < bottom) {
			pixel.color = choose(["#ffffff","#888888"]);
		}
		else {
			pixel.color = choose(["#ffffff","#888888","#000000"]);
		}
		doDefaults(pixel);
	},
	onPlace: behaviors.DO_TICK,
	category: "special",
	conduct: 1,
	movable: false,
	breakInto: "malware",
	fireColor: ["#ffffff","#bfbfbf","#888888","#404040","#000000"]
},
"border": {
	color: ["#00ffff","#000000","#00ffff","#000000","#00ffff"],
	tick: function(pixel) {
		if (pixel.start === pixelTicks) {
			pixel.color = pixelColorPick(pixel,"#00ffff");
		}
		var t = pixelTicks/2+pixel.x+pixel.y;
		var r = Math.floor(127*Math.sin(t/1.5));
		pixel.alpha = Math.max(0,r/127);
	},
	onPlace: behaviors.DO_TICK,
	category: "special",
	hardness: 1,
	insulate: true,
	movable: false,
},
"clay": {
	color: "#d4c59c",
	behavior: behaviors.SUPPORT,
	reactions: {
		"dirt": { elem1:"clay_soil", elem2:"clay_soil" },
		"gravel": { elem1:"clay_soil", elem2:"clay_soil" },
		"brick_rubble": { elem1:"clay_soil", elem2:"clay_soil" },
		"quicklime": { elem1:"cement", elem2:"cement" }
	},
	tempHigh: 135,
	stateHigh: "baked_clay",
	tempLow: -50,
	stateLow: "clay_soil",
	category: "land",
	state: "solid",
	density: 1760
},
"clay_soil": {
	color: ["#f49a6f","#ab7160","#b56c52"],
	behavior: [
		"XX|XX|XX",
		"XX|XX|XX",
		"M2%25|M1|M2%25",
	],
	reactions: {
		"water":{elem1:"clay",elem2:null},
		"salt_water":{elem1:"clay",elem2:null},
		"sugar_water":{elem1:"clay",elem2:null},
		"seltzer":{elem1:"clay",elem2:null},
		"dirty_water":{elem1:"clay",elem2:null},
		"pool_water":{elem1:"clay",elem2:null},
		"slush":{elem1:"clay",elem2:null},
		"soda":{elem1:"clay",elem2:null},
		"juice":{elem1:"clay",elem2:null},
		"milk":{elem1:"clay",elem2:null},
		"chocolate_milk":{elem1:"clay",elem2:null},
		"fruit_milk":{elem1:"clay",elem2:null},
		"pilk":{elem1:"clay",elem2:null},
		"eggnog":{elem1:"clay",elem2:null},
		"nut_milk":{elem1:"clay",elem2:null},
		"cream":{elem1:"clay",elem2:null},
		"vinegar":{elem1:"clay",elem2:null},
		"blood":{elem1:"clay",elem2:null},
		"vaccine":{elem1:"clay",elem2:null},
		"antibody":{elem1:"clay",elem2:null},
		"infection":{elem1:"clay",elem2:null},
		"poison":{elem1:"clay",elem2:null},
		"antidote":{elem1:"clay",elem2:null}
	},
	tempHigh: 140,
	stateHigh: "brick",
	category: "land",
	state: "solid",
	density: 1600
},
"brick": {
	color: "#cb4141",
	buttonColor: ["#e05555","#cb4141","#a62e2e"],
	colorPattern: textures.BRICK,
	colorKey: {
		"l": "#e05555",
		"r": "#cb4141",
		"d": "#a62e2e",
		"w": "#bababa"},
	behavior: behaviors.WALL,
	category: "solids",
	tempHigh: 1540,
	state: "solid",
	density: 1650,
	hardness: 0.33,
	breakInto: "brick_rubble"
},
"ruins": {
	color: "#5c5c5c",
	buttonColor: ["#5c5c5c","#474747","#383838"],
	colorPattern: textures.BRICK,
	colorKey: {
		"l": "#5c5c5c",
		"r": "#474747",
		"d": "#383838",
		"w": "#212121"},
	behavior: [
		"XX|SP|XX",
		"XX|XX|XX",
		"M2%1|M1|M2%1"
	],
	reactions: {
		"fire": { elem1:"gravel", chance:0.005 },
		"smoke": { elem1:"gravel", chance:0.002 },
		"smog": { elem1:"gravel", chance:0.008 },
		"dirty_water": { elem1:"dust", color1:["#424242","#4a4a4a","#787878"], chance:0.001 },
		"body": { elem1:"dust", color1:["#424242","#4a4a4a","#787878"], chance:0.001 }
	},
	tempHigh: 1500,
	stateHigh: "magma",
	category:"solids",
	state: "solid",
	density: 2400,
	hardness: 0.33,
	breakInto: "dust",
	breakIntoColor: ["#424242","#4a4a4a","#787878"],
	movable: false
},
"adobe": {
	color: "#8a6249",
	buttonColor: ["#986c51","#8a6249","#7f5943"],
	colorPattern: textures.BRICK,
	colorKey: {
		"l": "#986c51",
		"r": "#8a6249",
		"d": "#7f5943",
		"w": "#634933"},
	behavior: behaviors.WALL,
	category: "solids",
	state: "solid",
	tempHigh: 1200,
	stateHigh: "molten_dirt",
	hardness: 0.33,
	breakInto: ["dirt","dirt","dirt","dirt","dirt","flour"],
	alias: "mud brick"
},
"sapling": {
	color: "#3e9c3e",
	tick: function(pixel) {
		if (!tryMove(pixel,pixel.x,pixel.y+1)) {
			if (Math.random() < 0.02 && pixel.age > 50 && pixel.temp < 100) {
				if (!outOfBounds(pixel.x,pixel.y+1)) {
					var dirtPixel = pixelMap[pixel.x][pixel.y+1];
					if (dirtPixel && (eLists.SOIL.indexOf(dirtPixel.element) !== -1 || dirtPixel.element === "grass")) {
						changePixel(dirtPixel,"root");
					}
				}
				if (isEmpty(pixel.x,pixel.y-1)) {
					if (!pixel.wc) {
						var c = Math.random();
						if (c < 0.01) { pixel.wc="#632e1f"; pixel.lc="#ff7ad3" } //cherry
						else if (c < 0.05) { pixel.wc="#632a0d"; pixel.lc="#d5ebce" } //white
						else if (c < 0.1) { pixel.wc="#4a2818"; pixel.lc="#990000" } //red
						else if (c < 0.2) { pixel.wc="#5c311f"; pixel.lc="#c24008" } //fall
						else if (c < 0.3) { pixel.wc="#824427"; pixel.lc="#b58b0d" } //gold
						else if (c < 0.4) { pixel.wc="#471b05"; pixel.lc="#157515" } //dark
						else if (c < 0.45) { pixel.wc="#a0522d"; pixel.lc="#51a953" } //pale
						else if (c < 0.5) { pixel.wc="#c2c1ba"; pixel.lc="#7ab31e" } //birch
						else { pixel.wc="#a0522d"; pixel.lc="#00bf00" } //basic
						pixel.color = pixelColorPick(pixel, pixel.lc);
					}
					movePixel(pixel,pixel.x,pixel.y-1);
					createPixel(Math.random() > 0.5 ? "wood" : "tree_branch",pixel.x,pixel.y+1);
					pixelMap[pixel.x][pixel.y+1].wc = pixel.wc;
					pixelMap[pixel.x][pixel.y+1].lc = pixel.lc;
					pixelMap[pixel.x][pixel.y+1].color = pixelColorPick(pixelMap[pixel.x][pixel.y+1], pixel.wc);
				}
			}
			else if (pixel.age > 1000 && Math.random() < 0.05) {
				changePixel(pixel,"wood");
				pixel.color = pixelColorPick(pixel, pixel.wc);
			}
			pixel.age++;
		}
		doDefaults(pixel);
	},
	properties: {
		"age":0
	},
	tempHigh: 100,
	stateHigh: "dead_plant",
	tempLow: -2,
	stateLow: "frozen_plant",
	burn: 65,
	burnTime: 15,
	category: "life",
	state: "solid",
	density: 1500,
	cooldown: defaultCooldown,
	seed: true
},
"pinecone": {
	color: ["#5c3e33","#472f27","#31211b"],
	tick: function(pixel) {
		if (!tryMove(pixel,pixel.x,pixel.y+1) && pixelTicks-pixel.start > 50) {
			if (pixel.h === undefined) { // set to even number between 6 and 20
				pixel.h = Math.floor(Math.random()*7)*2+6;
			}
			if (Math.random() < 0.02 && pixel.h > 0 && pixel.temp < 100) {
				if (!outOfBounds(pixel.x,pixel.y+1)) { // grow roots
					var dirtPixel = pixelMap[pixel.x][pixel.y+1];
					if (dirtPixel && (eLists.SOIL.indexOf(dirtPixel.element) !== -1  || dirtPixel.element === "grass")) {
						changePixel(dirtPixel,"root");
					}
				}
				if (isEmpty(pixel.x,pixel.y-1) && tryMove(pixel,pixel.x,pixel.y-1)) {
					if (pixel.h % 2 && pixel.h < 12) {
						createPixel("evergreen",pixel.x,pixel.y+1);
						pixelMap[pixel.x][pixel.y+1].h = pixel.h;
					}
					else {
						createPixel("wood",pixel.x,pixel.y+1);
					}
					pixel.h --;
				}
			}
			else if (pixel.h === 0) {
				changePixel(pixel,"evergreen");
			}
		}
		doDefaults(pixel);
	},
	tempHigh: 500,
	stateHigh: "wood",
	burn: 5,
	burnTime: 100,
	category: "life",
	state: "solid",
	density: 1500,
	cooldown: defaultCooldown,
	seed: true
},
"evergreen": {
	color: "#006300",
	tick: function (pixel) {
		if (pixel.h > 0 && pixelTicks % (50+pixel.h) === 0) {
			// extend to the left and right, giving the next evergreen h-1
			if (isEmpty(pixel.x-1,pixel.y)) {
				createPixel("evergreen",pixel.x-1,pixel.y);
				pixelMap[pixel.x-1][pixel.y].h = pixel.h-2;
			}
			if (isEmpty(pixel.x+1,pixel.y)) {
				createPixel("evergreen",pixel.x+1,pixel.y);
				pixelMap[pixel.x+1][pixel.y].h = pixel.h-2;
			}
		}
		doDefaults(pixel);
	},
	reactions: {
		"vinegar": { elem1:"dead_plant", elem2:null, chance:0.035 },
		"baking_soda": { elem1:"dead_plant", elem2:null, chance:0.01 },
		"bleach": { elem1:"dead_plant", elem2:null, chance:0.05 },
		"alcohol": { elem1:"dead_plant", elem2:null, chance:0.035 }
	},
	category:"life",
	tempHigh: 100,
	stateHigh: "dead_plant",
	burn:45,
	burnTime:75,
	burnInto: ["dead_plant","dead_plant","dead_plant","dead_plant","pinecone"],
	breakInto: ["dead_plant","dead_plant","dead_plant","dirt","sap"],
	state: "solid",
	density: 1050,
	seed: "pinecone",
	hidden: true,
	movable: false
},
"cactus": {
	color: ["#78a33e","#84b543","#cce37b","#84b543","#78a33e"],
	tick: function(pixel) {
		behaviors.SEEDRISE(pixel);
		if (!pixel.stage) {
			if (!tryMove(pixel,pixel.x,pixel.y+1)) {
				if (Math.random() < 0.02 && isEmpty(pixel.x,pixel.y-1)) {
					createPixel("cactus",pixel.x,pixel.y-1);
					pixelMap[pixel.x][pixel.y-1].stage = 0;
					pixelMap[pixel.x][pixel.y-1].h = (pixel.h||0)+1;
					pixel.stage = 1;
				}
				else if (Math.random() < 0.0025) {
					pixel.stage = 2;
					if (Math.random() < 0.25) {
						pixel.color = pixelColorPick(pixel, "#E0007B")
					}
				}
			}
		}
		else if (pixel.stage === 1) { // create sides or stop
			if (Math.random() < 0.02) {
				if (Math.random() < 0.15 && pixel.h) { // create side
					var nx = pixel.x + (Math.random() < 0.5 ? -1 : 1);
					if (isEmpty(nx,pixel.y)) {
						createPixel("cactus",nx,pixel.y);
						pixelMap[nx][pixel.y].stage = 3;
						pixel.stage = 2;
					}
				}
				else {
					pixel.stage = 2; // do nothing
				}
			}
		}
		else if (pixel.stage === 3) { // just grow one to the side
			if (Math.random() < 0.02) {
				var nx = null;
				if (isEmpty(pixel.x+1,pixel.y)) { nx=pixel.x+1; }
				else if (isEmpty(pixel.x-1,pixel.y)) { nx=pixel.x-1; }
				if (nx) {
					createPixel("cactus",nx,pixel.y);
					pixelMap[nx][pixel.y].stage = 4;
				}
			}
		}
		else if (pixel.stage === 4) { // grow a bit
			if (Math.random() < 0.02) {
				if (Math.random() < 0.66) { // grow up
					if (isEmpty(pixel.x,pixel.y-1) && isEmpty(pixel.x,pixel.y-2)) {
						createPixel("cactus",pixel.x,pixel.y-1);
						pixelMap[pixel.x][pixel.y-1].stage = 4;
						pixel.stage = 2;
					}
				}
				else {
					pixel.stage = 2; // do nothing
				}
			}
		}
		doDefaults(pixel);
	},
	reactions: {
		"water": { elem2:null, chance:0.01 },
		"vinegar": { elem1:"dead_plant", elem2:null, chance:0.035 },
		"baking_soda": { elem1:"dead_plant", elem2:null, chance:0.01 },
		"bleach": { elem1:"dead_plant", elem2:null, chance:0.05 },
		"alcohol": { elem1:"dead_plant", elem2:null, chance:0.035 }
	},
	tempHigh: 250,
	stateHigh: ["dead_plant","dead_plant","dead_plant","dead_plant","dead_plant","steam"],
	tempLow: -5,
	stateLow: "frozen_plant",
	breakInto: [null,null,null,"sap"],
	breakIntoColor: "#D7E1D9",
	burn: 10,
	burnTime: 300,
	category: "life",
	state: "solid",
	density: 600,
	cooldown: defaultCooldown,
	seed: true
},
"kelp": {
	color: ["#b2b51b","#849c00","#648200"],
	tick: function(pixel) {
		if (isEmpty(pixel.x,pixel.y+1)) {
			tryMove(pixel,pixel.x,pixel.y+1);
		}
		else if (!pixel.stage) {
			if (!tryMove(pixel,pixel.x,pixel.y+1)) {
				if (!pixel.stage && !isEmpty(pixel.x,pixel.y+1,true)) {
					var below = pixelMap[pixel.x][pixel.y+1];
					if (below.element === "kelp") {
						if (below.stage) pixel.stage = 1;
					}
					else if (elements[below.element].state !== "liquid" && !elements[below.element].foodNeed) {
						pixel.stage = 1;
					}
				}
				if (outOfBounds(pixel.x,pixel.y+1)) pixel.stage = 1;
			}
		}
		else if (pixel.stage === 1) {
			if (Math.random() < 0.01) { //grow
				var newPixel = null;
				if (!isEmpty(pixel.x,pixel.y-1,true)) {
					var above = pixelMap[pixel.x][pixel.y-1];
					if (elements[above.element].state === "liquid") newPixel = above
				}
				if (!isEmpty(pixel.x,pixel.y+1,true)) {
					var below = pixelMap[pixel.x][pixel.y+1];
					if (elements[below.element].state === "liquid") newPixel = below
				}
				if (newPixel) {
					changePixel(newPixel,"kelp");
					newPixel.stage = 1;
					if (Math.random() < 0.1) {
						var nx = pixel.x + (Math.random() < 0.5 ? -1 : 1);
						if (!isEmpty(nx,pixel.y,true) && elements[pixelMap[nx][pixel.y].element].state === "liquid") {
							changePixel(pixelMap[nx][pixel.y],"kelp");
							pixelMap[nx][pixel.y].stage = 2;
						}
					}
				}
			}
			else if (Math.random() < 0.01) tryMove(pixel,pixel.x,pixel.y+1)
		}
		doDefaults(pixel);
	},
	category:"life",
	tempHigh: 80,
	stateHigh: "dead_plant",
	stateHighColor: "#232F17",
	tempLow: 0,
	stateLow: "frozen_plant",
	burn:1,
	burnTime:100,
	breakInto: "dead_plant",
	breakIntoColor: "#232F17",
	state: "solid",
	cooldown: defaultCooldown,
	density: 1500,
	seed: "kelp"
},
"coral": {
	color: ["#ff7d7d","#ff9e80","#ffe880","#80ff8d","#bf80ff","#ff80ec"],
	tick: function(pixel) {
		if ((pixel.stage !== undefined || !tryMove(pixel,pixel.x,pixel.y+1)) && Math.random() < 0.02) {
			let below = null;
			if (!isEmpty(pixel.x,pixel.y+1,true)) {
				below = pixelMap[pixel.x][pixel.y+1];
			}
			if (pixel.stage === -1) {}
			else if (pixel.stage !== undefined || below === null || (elements[below.element].state !== "liquid" && elements[below.element].foodNeed === undefined)) {
				if (pixel.n === undefined) pixel.n = Math.floor(Math.random() * 3)-1;
				if (pixel.n2 === undefined) pixel.n2 = Math.floor(Math.random() * 3)-1;
				if (pixel.lc === undefined && pixel.color.indexOf("rgb") !== -1) {
					let rgb = pixel.color.match(/\d+/g);
					pixel.lc = RGBToHex(rgb);
				}
				if ((!pixel.stage || pixel.stage < 20)) {
					if (!isEmpty(pixel.x+pixel.n, pixel.y-1, true)) {
						let newPixel = pixelMap[pixel.x+pixel.n][pixel.y-1];
						if (elements[newPixel.element].movable && elements[newPixel.element].state === "liquid") {
							changePixel(newPixel,"coral");
							newPixel.stage = (pixel.stage||0) + Math.floor(Math.random() * 5 + 1);
							newPixel.lc = pixel.lc;
							newPixel.color = pixelColorPick(newPixel,pixel.lc);
						}
					}
					if (pixel.n2 !== 0 && !isEmpty(pixel.x+pixel.n2, pixel.y-1, true)) {
						let newPixel = pixelMap[pixel.x+pixel.n2][pixel.y-1];
						if (elements[newPixel.element].movable && elements[newPixel.element].state === "liquid") {
							changePixel(newPixel,"coral");
							newPixel.stage = (pixel.stage||0) + Math.floor(Math.random() * 5 + 1);
							newPixel.lc = pixel.lc;
							newPixel.color = pixelColorPick(newPixel,pixel.lc);
						}
					}
				}
			}
		}
		if (pixel.origColor) delete pixel.origColor;
		if (pixel.temp > 80) {
			stainPixel(pixel,"#cccccc",0.05);
			let rgb = pixel.color.match(/\d+/g);
			pixel.lc = RGBToHex(rgb);
		}
		if (pixel.temp > 150 && pixel.stage !== -1) {
			pixel.stage = -1;
		}
		doDefaults(pixel);
	},
	reactions: {
		"oxygen": { elem2:"carbon_dioxide", chance:0.5 }
	},
	category:"life",
	state: "solid",
	cooldown: defaultCooldown,
	darkText: true,
	density: 1500,
	grain: 5,
	seed: "coral",
	tempHigh: 825,
	stateHigh: "quicklime",
	tempLow: 0,
	stateLow: "limestone",
	breakInto: "sand",
	hardness: 0.25,
	forceSaveColor: true
},
"seeds": {
	color: ["#359100","#74b332","#b9d461","#dede7a"],
	tick: function(pixel) { 
		// Choose randomly from eLists.SEEDS
		changePixel(pixel,eLists.SEEDS[Math.floor(Math.random()*eLists.SEEDS.length)]);
	},
	onPlace: behaviors.DO_TICK,
	category: "life",
	cooldown: defaultCooldown,
	seed: true
},
"grass_seed": {
	color: ["#439809","#258b08","#118511","#127b12","#136d14"],
	behavior: [
		"XX|M2%0.05|XX",
		"XX|L2:grass|XX",
		"XX|M1|XX",
	],
	tick: behaviors.SEEDRISE,
	tempHigh: 100,
	stateHigh: "dead_plant",
	tempLow: -2,
	stateLow: "frozen_plant",
	burn: 50,
	burnTime: 20,
	category: "life",
	state: "solid",
	density: 1400,
	breakInto: null,
	hidden: true,
	cooldown: defaultCooldown,
	seed: true
},
"wheat_seed": {
	color: "#b6c981",
	behavior: [
		"XX|M2%0.25|XX",
		"XX|L2:wheat AND C2:wheat%30|XX",
		"XX|M1|XX",
	],
	tick: behaviors.SEEDRISE,
	tempHigh: 400,
	stateHigh: "fire",
	tempLow: -2,
	stateLow: "frozen_plant",
	burn: 50,
	burnTime: 20,
	breakInto: null,
	category: "life",
	state: "solid",
	density: 769,
	hidden: true,
	cooldown: defaultCooldown,
	seed: true
},
"straw": {
	color: ["#e9d391","#a3835e","#b79a73"],
	behavior: behaviors.WALL,
	tempHigh: 400,
	stateHigh: "fire",
	burn: 30,
	burnTime: 200,
	burnInto: ["smoke","smoke","smoke","smoke","ash"],
	breakInto: "flour",
	category: "solids",
	state: "solid",
	density: 67.5
},
"porcelain": {
	color: "#e1e4dd",
	behavior: behaviors.WALL,
	category: "solids",
	state: "solid",
	density: 2403,
	hardness: 0.4,
	breakInto: "porcelain_shard",
	noMix: true,
},
"paper": {
	color: "#f0f0f0",
	behavior: behaviors.WALL,
	reactions: {
		"water": { elem1:"cellulose", elem2:null },
		"dirty_water": { elem1:"cellulose", elem2:null },
		"salt_water": { elem1:"cellulose", elem2:null },
		"sugar_water": { elem1:"cellulose", elem2:null },
		"seltzer": { elem1:"cellulose", elem2:null },
		"soda": { elem1:"cellulose", elem2:null },
		"blood": { elem1:"cellulose", elem2:null },
		"foam": { elem1:"cellulose", elem2:null },
		"bubble": { elem1:"cellulose", elem2:null },
		"oil": { elem1:"cellulose", elem2:null },
		"alcohol": { elem1:"cellulose", elem2:null },
		"vinegar": { elem1:"cellulose", elem2:null },
		"light": { stain1:"#ebdfa7" },
		"oxygen": { stain1:"#ebdfa7" }
	},
	tempHigh: 248,
	stateHigh: ["fire","fire","fire","fire","fire","ash"],
	burn: 70,
	burnTime: 300,
	burnInto: ["fire","fire","fire","fire","fire","ash"],
	category: "solids",
	state: "solid",
	density: 1201,
	breakInto: "confetti",
	breakIntoColor: ["#ffffff","#e6e6e6","#dbdbdb"]
},
"pollen": {
	color: "#ffffc0",
	tick: function(pixel) {
		if (Math.random() < 0.01 && !isEmpty(pixel.x,pixel.y+1,true)) {
			if (Math.random() < 0.5 && eLists.SOIL.indexOf(pixelMap[pixel.x][pixel.y+1].element) !== -1) {
				changePixel(pixel,pixel.seed||"flower_seed");
			}
			else {
				deletePixel(pixel.x,pixel.y)
				return;
			}
		}
		behaviors.POWDER(pixel);
	},
	reactions: {
		"sugar_water": { elem1: null, elem2: "honey" },
		"water": { elem1: null },
		"salt_water": { elem1: null },
		"dirty_water": { elem1: null },
		"seltzer": { elem1: null },
		"pool_water": { elem1: null }
	},
	category:"life",
	tempHigh: 400,
	stateHigh: "ash",
	burn:50,
	burnTime:20,
	breakInto: [null,null,"dust"],
	state: "solid",
	density: 1435
},
"flower_seed": {
	color: "#0e990e",
	behavior: [
		"XX|M2%1.5|XX",
		"XX|L2:plant AND C2:pistil%30|XX",
		"XX|M1|XX",
	],
	tick: behaviors.SEEDRISE,
	tempHigh: 100,
	stateHigh: "dead_plant",
	tempLow: -2,
	stateLow: "frozen_plant",
	burn:50,
	burnTime:20,
	breakInto: null,
	category:"life",
	state: "solid",
	density: 1400,
	cooldown: defaultCooldown,
	seed: true
},
"pistil": {
	color: ["#734e39","#2f0603","#d2ac3a","#8a978f","#593117"],
	tick: function(pixel) {
		if (!pixel.fColor) {
			// make it a hsl random hue, 100% saturation, 50% lightness
			pixel.fColor = "hsl(" + Math.floor(Math.random()*360) + ",100%,"+ (Math.floor(Math.random() * (95 - 24)) + 25) +"%)";
		}
		var coordsToCheck = [
			[pixel.x-1,pixel.y],
			[pixel.x+1,pixel.y],
			[pixel.x,pixel.y-1],
			[pixel.x,pixel.y+1],
		]
		// check if each pixel is empty, if it is create a petal with the color fColor
		for (var i = 0; i < coordsToCheck.length; i++) {
			var coord = coordsToCheck[i];
			if (isEmpty(coord[0],coord[1])) {
				createPixel("petal",coord[0],coord[1]);
				pixelMap[coord[0]][coord[1]].color = pixel.fColor;
			}
		}
		doDefaults(pixel)
	},
	reactions: {
		"alcohol": { elem1:null, chance:0.1 }
	},
	tempHigh: 100,
	stateHigh: "dead_plant",
	tempLow: -2,
	stateLow: "frozen_plant",
	burn:50,
	burnTime:20,
	category:"life",
	hidden: true,
	movable: false,
	state: "solid",
	density: 1400,
	breakInto: "dead_plant",
	seed: "flower_seed",
	forceSaveColor: true
},
"petal": {
	color: ["#ff0000","#ff8800","#ffff00","#88ff00","#00ff00","#00ff88","#00ffff","#0088ff","#0000ff","#8800ff","#ff00ff"],
	behavior: [
		"XX|ST:pistil|XX",
		"ST:pistil|FX%0.25|ST:pistil",
		"M2%10|ST:pistil AND M1%10|M1%10",
	],
	reactions: {
		"water": { elem2:"tea", tempMin:80, color2:"#9e4c00" },
		"salt_water": { elem2:"tea", tempMin:80, color2:"#9e4c00" },
		"sugar_water": { elem2:"tea", tempMin:80, color2:"#9e4c00" },
		"seltzer": { elem2:"tea", tempMin:80, color2:"#9e4c00" }
	},
	tempHigh: 100,
	stateHigh: "dead_plant",
	tempLow: -2,
	stateLow: "frozen_plant",
	burn:50,
	burnTime:20,
	category:"life",
	state: "solid",
	density: 1400,
	seed: "flower_seed",
	forceSaveColor: true,
	darkText: true
},
"tree_branch": {
	color: "#a0522d",
	tick: function(pixel) {
		if (!pixel.burning) {
			if (!pixel.lc) { pixel.lc = "#00bf00" }
			if (!pixel.wc) { pixel.wc = "#a0522d" }
			if (isEmpty(pixel.x-1,pixel.y-1) && Math.random() < 0.02) {
				if (Math.random() < 0.5) {
					createPixel("plant",pixel.x-1,pixel.y-1);
					pixelMap[pixel.x-1][pixel.y-1].color = pixelColorPick(pixelMap[pixel.x-1][pixel.y-1], pixel.lc);
				}
				else {
					createPixel("tree_branch",pixel.x-1,pixel.y-1);
					pixelMap[pixel.x-1][pixel.y-1].color = pixelColorPick(pixelMap[pixel.x-1][pixel.y-1], pixel.wc);
					pixelMap[pixel.x-1][pixel.y-1].wc = pixel.wc;
					pixelMap[pixel.x-1][pixel.y-1].lc = pixel.lc;
				}
			}
			if (isEmpty(pixel.x+1,pixel.y-1) && Math.random() < 0.02) {
				if (Math.random() < 0.5) {
					createPixel("plant",pixel.x+1,pixel.y-1);
					pixelMap[pixel.x+1][pixel.y-1].color = pixelColorPick(pixelMap[pixel.x+1][pixel.y-1], pixel.lc);
				}
				else {
					createPixel("tree_branch",pixel.x+1,pixel.y-1);
					pixelMap[pixel.x+1][pixel.y-1].color = pixelColorPick(pixelMap[pixel.x+1][pixel.y-1], pixel.wc);
					pixelMap[pixel.x+1][pixel.y-1].wc = pixel.wc;
					pixelMap[pixel.x+1][pixel.y-1].lc = pixel.lc;
				}
			}
			if (isEmpty(pixel.x,pixel.y-1) && Math.random() < 0.02) {
				if (Math.random() < 0.75) {
					createPixel("plant",pixel.x,pixel.y-1);
					pixelMap[pixel.x][pixel.y-1].color = pixelColorPick(pixelMap[pixel.x][pixel.y-1], pixel.lc);
				}
				else {
					createPixel("tree_branch",pixel.x,pixel.y-1);
					pixelMap[pixel.x][pixel.y-1].color = pixelColorPick(pixelMap[pixel.x][pixel.y-1], pixel.wc);
					pixelMap[pixel.x][pixel.y-1].wc = pixel.wc;
					pixelMap[pixel.x][pixel.y-1].lc = pixel.lc;
				}
			}
		}
		doDefaults(pixel);
	},
	renderer: renderPresets.WOODCHAR,
	movable: false,
	tempHigh: 100,
	stateHigh: "wood",
	tempLow: -30,
	stateLow: "wood",
	category: "life",
	burn: 2,
	burnTime: 300,
	burnInto: ["sap","ember","charcoal","smoke"],
	hidden: true,
	state: "solid",
	density: 1500,
	hardness: 0.15,
	breakInto: ["sap","sawdust"],
	seed: "sapling",
	forceSaveColor: true
},
"vine": {
	color: "#005900",
	tick: function(pixel) {
		doDefaults(pixel);
		if (pixel.start === pixelTicks && pixel.fruit === undefined && !pixel.stop) {
			if (Math.random() < 0.1) {
				pixel.fruit = Math.random() < 0.5 ? "grape" : "tomato";
			}
			else { pixel.fruit = null }
		}
		if (isEmpty(pixel.x,pixel.y-1)) {
			pixel.sp = 0; //not supported
		}
		else if (!outOfBounds(pixel.x,pixel.y-1) && pixelMap[pixel.x][pixel.y-1].element === "vine" && pixelMap[pixel.x][pixel.y-1].sp === 0) {
			pixel.sp = 0;
		}
		else { pixel.sp = 1 } //supported
		if (pixel.stop) {
			if (pixel.sp === 0) { tryMove(pixel, pixel.x, pixel.y+1); }
			return;
		}
		if (pixel.sp === 0) { tryMove(pixel, pixel.x, pixel.y+1); }
		else {
			if (pixel.fert && pixel.stage && Math.random() < 0.01 && isEmpty(pixel.x,pixel.y+1)) {
				clonePixel(pixel,pixel.x,pixel.y+1);
				pixelMap[pixel.x][pixel.y+1].fert = true;
				pixelMap[pixel.x][pixel.y+1].stage = pixel.stage-1;
			}
		}
		if (pixel.fert===undefined) { // able to grow down
			pixel.fert = Math.random() < 0.50;
		}
		if (pixel.stage===undefined) {
			pixel.stage = Math.floor(Math.random()*20)+10;
		}
		if (Math.random() < 0.03 && isEmpty(pixel.x-1,pixel.y) && !isEmpty(pixel.x-1,pixel.y-1) && (outOfBounds(pixel.x-1,pixel.y-1) || pixelMap[pixel.x-1][pixel.y-1].element !== "vine")) {
			createPixel("vine",pixel.x-1,pixel.y);
			pixelMap[pixel.x-1][pixel.y].fruit = pixel.fruit;
		}
		if (Math.random() < 0.03 && isEmpty(pixel.x+1,pixel.y) && !isEmpty(pixel.x+1,pixel.y-1) && (outOfBounds(pixel.x+1,pixel.y-1) || pixelMap[pixel.x+1][pixel.y-1].element !== "vine")) {
			createPixel("vine",pixel.x+1,pixel.y);
			pixelMap[pixel.x+1][pixel.y].fruit = pixel.fruit;
		}
		if (Math.random() < 0.03 && isEmpty(pixel.x,pixel.y-1) && (
			(!isEmpty(pixel.x-1,pixel.y-1) && (outOfBounds(pixel.x-1,pixel.y-1) || pixelMap[pixel.x-1][pixel.y-1].element !== "vine")) ||
			(!isEmpty(pixel.x+1,pixel.y-1) && (outOfBounds(pixel.x+1,pixel.y-1) || pixelMap[pixel.x+1][pixel.y-1].element !== "vine")))
		) {
			createPixel("vine",pixel.x,pixel.y-1);
			pixelMap[pixel.x][pixel.y-1].fruit = pixel.fruit;
		}
		if (pixel.sp === 1) {
			if (pixel.fruit && Math.random() < 0.01) {
				for (var i = 0; i < adjacentCoords.length; i++) {
					var coords = adjacentCoords[i];
					var x = pixel.x + coords[0];
					var y = pixel.y + coords[1];
					if (isEmpty(x,y)) {
						createPixel(pixel.fruit,x,y)
						break;
					}
				}
			}
		}
	},
	tempHigh: 100,
	stateHigh: "dead_plant",
	tempLow: -2,
	stateLow: "frozen_plant",
	burn: 35,
	burnTime: 100,
	breakInto: "dead_plant",
	category: "life",
	state: "solid",
	density: 1050,
	seed: "vine",
	ignore: ["vine"]
},
"bamboo_plant": {
	color: ["#fbc882","#dfad64"],
	behavior: [
		"XX|M2%2|XX",
		"XX|L2:bamboo AND C2:bamboo%10|XX",
		"XX|M1|XX",
	],
	tick: behaviors.SEEDRISE,
	tempHigh: 100,
	stateHigh: "dead_plant",
	tempLow: -2,
	stateLow: "bamboo",
	burn: 30,
	burnTime: 100,
	category: "life",
	state: "solid",
	density: 686,
	breakInto: "sawdust",
	cooldown: defaultCooldown,
	seed: true
},
"foam": {
	color: "#cad2e3",
	behavior: [
		"XX|XX|XX",
		"XX|XX|XX",
		"M2%25|M1%25|M2%25",
	],
	tick: function(pixel) {
		if (pixel.foam && isEmpty(pixel.x,pixel.y-1)) {
			createPixel("foam",pixel.x,pixel.y-1);
			pixel.foam--;
			pixelMap[pixel.x][pixel.y-1].foam = pixel.foam;
			pixelMap[pixel.x][pixel.y-1].temp = pixel.temp;
		}
		if (Math.random() < 0.05) {
			if (pixel.clone) {
				changePixel(pixel,pixel.clone);
				return;
			}
			deletePixel(pixel.x,pixel.y)
		}
	},
	category: "liquids",
	state: "gas",
	tempLow: -78.5,
	stateLow: null,
	density: 40,
	stain: -0.1,
	extinguish: true
},
"acid": {
	color: ["#b5cf91","#a1ff5e","#288f2a"],
	behavior: [
		"XX|DB%5|XX",
		"DB%5 AND M2|XX|DB%5 AND M2",
		"DB%5 AND M2|DB%10 AND M1|DB%5 AND M2",
	],
	ignore: ["fire","smoke","glass","rad_glass","glass_shard","rad_shard","stained_glass","baked_clay","acid_gas","neutral_acid","acid_cloud","water","salt_water","sugar_water","dirty_water","copper","gold","porcelain","plastic","bead","microplastic","molten_plastic","pool_water","chlorine","hydrogen","gold_coin","silver","nickel","calcium","bone","earthquake","tornado","tsunami","liquid_light","sensor","clay","pipe","pipe_wall","lye","rose_gold","purple_gold","blue_gold","electrum"],
	reactions: {
		"ash": { elem1:"neutral_acid", elem2:null },
		"limestone": { elem1:"neutral_acid", elem2:["calcium","carbon_dioxide"] },
		"quicklime": { elem1:"neutral_acid", elem2:null },
		"slaked_lime": { elem1:"neutral_acid", elem2:null },
		"borax": { elem1:"neutral_acid", elem2:null },
		"ammonia": { elem1:"neutral_acid", elem2:null },
		"cement": { elem1:"neutral_acid", elem2:null },
		"potassium": { elem1:["fire","hydrogen","pop","explosion"], elem2:"potassium_salt" },
		"molten_potassium": { elem1:["fire","hydrogen","pop","explosion"], elem2:"potassium_salt" },
		"caustic_potash": { elem1:"water", elem2:"potassium_salt" },
		"bone": { elem1:"neutral_acid", chance:0.01 },
		"head": { elem1:"bone", chance:0.03 },
		"body": { elem1:"bone", chance:0.03 },
		"water": { elem1:null, elem2:"dirty_water" },
		"salt_water": { elem1:null, elem2:"water" },
		"sugar_water": { elem1:null, elem2:"water" },
		"plant": { elem1:null, elem2:"dead_plant" },
		"tree_branch": { elem1:null, elem2:"wood" },
		"charcoal": { elem1:null, elem2:"carbon_dioxide" },
		"rock": { elem1:null, elem2:"sand", chance:0.05 },
		"baking_soda": { elem1:"salt_water", elem2:["carbon_dioxide","foam"] },
		"calcium": { elem1:"chlorine", elem2:"hydrogen", chance:0.01 },
		"zinc": { elem1:"hydrogen", elem2:null, chance:0.03 },
		"magnesium": { elem1:"hydrogen", elem2:null, temp1:50, chance:0.03 },
		"sugar": { elem1:"steam", elem2:"carbon_dioxide" },
		"gravel": { elem1:null, elem2:"sand", chance:0.1 },
		"wet_sand": { elem1:"neutral_acid", elem2:"clay" },
		"snail": { elem1:"neutral_acid", elem2:"slug" },
		"silver": { stain2:"#2a2e2a" }
	},
	category: "liquids",
	tempHigh: 110,
	stateHigh: "acid_gas",
	tempLow: -58.88,
	burn: 30,
	burnTime: 1,
	state: "liquid",
	density: 1049,
	stain: -0.1,
	alias: "hydrochloric acid"
},
"neutral_acid": {
	color: ["#c8d9b0","#c1d9b0","#b8dbb9"],
	behavior: behaviors.LIQUID,
	reactions: {
		"bone": { elem2:"glue", tempMin:60, chance:0.005 }
	},
	category: "liquids",
	state: "liquid",
	tempHigh: 110,
	stateHigh: "hydrogen",
	density: 1020,
	hidden: true
},
"acid_gas": {
	color: ["#85a758","#3b7810","#256626"],
	behavior: [
		"M1|DB%5 AND M1|M1",
		"DB%5 AND M1|XX|DB%5 AND M1",
		"DB%5 AND M1|DB%10 AND M1|DB%5 AND M1",
	],
	tick: function(pixel) {
		if (pixel.temp > 1000 && Math.random() < 0.01) {
			changePixel(pixel,Math.random() < 0.66 ? "hydrogen" : "chlorine");
		}
	},
	ignore: ["fire","smoke","glass","rad_glass","glass_shard","rad_shard","stained_glass","baked_clay","acid_gas","neutral_acid","acid_cloud","water","salt_water","sugar_water","dirty_water","copper","gold","porcelain","plastic","bead","microplastic","molten_plastic","pool_water","chlorine","hydrogen","gold_coin","silver","nickel","calcium","bone","earthquake","tornado","tsunami","liquid_light","sensor","pipe","pipe_wall","lye"],
	reactions: {
		"acid_gas": { elem1: null, elem2: "acid_cloud", chance:0.3, "y":[0,12], "setting":"clouds" },
		"rain_cloud": { elem1: null, elem2: "acid_cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"cloud": { elem1: null, elem2: "acid_cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"snow_cloud": { elem1: null, elem2: "acid_cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"hail_cloud": { elem1: null, elem2: "acid_cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"thunder_cloud": { elem1: null, elem2: "acid_cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"pyrocumulus": { elem1: null, elem2: "acid_cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"fire_cloud": { elem1: null, elem2: "acid_cloud", chance:0.4, "y":[0,12], "setting":"clouds" },
		"ash": { elem1:"hydrogen", elem2:null, chance:0.05 },
		"limestone": { elem1:"hydrogen", elem2:null, chance:0.05 },
		"quicklime": { elem1:"hydrogen", elem2:null, chance:0.05 },
		"slaked_lime": { elem1:"hydrogen", elem2:null, chance:0.05 },
		"borax": { elem1:"hydrogen", elem2:null, chance:0.05 },
		"ammonia": { elem1:"hydrogen", elem2:null, chance:0.05 },
		"bleach": { elem1:"hydrogen", elem2:null, chance:0.05 }
	},
	category: "gases",
	temp: 120,
	tempLow: 30,
	stateLow: "acid",
	burn: 30,
	burnTime: 1,
	state: "gas",
	density: 1.29,
	alias: "hydrochloric acid gas"
},
"glue": {
	color: "#f0f0f0",
	behavior: behaviors.STICKY,
	reactions: {
		"clay_shard": {elem1:null, elem2:"baked_clay"},
		"porcelain_shard": {elem1:null, elem2:"porcelain"},
		"glass_shard": {elem1:null, elem2:"glass"},
		"ruins": {elem1:null, elem2:"rock_wall"},
		"rad_shard": {elem1:null, elem2:"rad_glass"},
		"color_sand": {elem1:null, elem2:"stained_glass"},
		"confetti": {elem1:null, elem2:"paper"},
		"gold_coin": {elem1:null, elem2:"gold"},
		"cellulose": {elem1:null, elem2:"paper"},
		"feather": {elem1:null, elem2:"cloth"},
		"rock": {elem1:null, elem2:"rock_wall"},
		"brick_rubble": {elem1:null, elem2:"brick"},
		"bead": {elem1:null, elem2:"plastic"},
		"dirt": {elem1:null, elem2:"mudstone"},
		"sand": {elem1:null, elem2:"packed_sand"},
		"crumb": {elem1:null, elem2:"bread"},
		"fly": {elem2:"dead_bug"},
		"firefly": {elem2:"dead_bug"},
		"ant": {elem2:"dead_bug"},
		"rat": {elem2:"rotten_meat", chance:0.05}
	},
	tempHigh: 475,
	stateHigh: ["cyanide_gas","dioxin"],
	category: "liquids",
	state: "liquid",
	density: 1300,
	ignore: ["sawdust","particleboard","ice","rime","dry_ice","oxygen_ice","hydrogen_ice","nitrogen_ice"]
},
"soda": {
	color: "#422016",
	behavior: [
		"XX|XX|XX",
		"M2|XX|M2",
		"M2|M1|M2",
	],
	tick: function(pixel) {
		if (Math.random() < 0.02 && isEmpty(pixel.x,pixel.y-1)) {
			let foam = releaseElement(pixel, "foam");
			if (foam) foam.color = pixelColorPick(foam,"#dbb586");
		}
	},
	onMix: function(pixel) {
		let foam = releaseElement(pixel, "foam");
		if (foam) foam.color = pixelColorPick(foam,"#dbb586");
	},
	tempHigh: 100,
	stateHigh: ["steam","carbon_dioxide","sugar"],
	tempLow: -1.11,
	category: "liquids",
	reactions: {
		"rock": { elem2: "wet_sand", chance: 0.0004 },
		"water": { elem1: "sugar_water", elem2: "sugar_water" },
		"salt": { elem2:"foam", chance:0.05, color2:"#dbb586" },
		"salt_water": { elem2:"foam", chance:0.01, color2:"#dbb586" },
		"sugar": { elem2:"foam", chance:0.001, color2:"#dbb586" },
		"egg": { elem2:"yolk", chance:0.001 },
		"candy": { elem2:"foam", chance:0.01, color2:"#dbb586" },
		"caramel": { elem2:"foam", chance:0.01, color2:"#dbb586" },
		"rust": { elem2:"iron", chance:0.01 },
		"oxidized_copper": { elem2:"copper", chance:0.01 }
	},
	state: "liquid",
	density: 1030,
	isFood: true,
	alias: "cola"
},
"gray_goo": {
	color: "#c0c0c0",
	behavior: [
		"XX|CH:gray_goo%25|XX",
		"M2%5 AND CH:gray_goo%25|DL%5|M2%5 AND CH:gray_goo%25",
		"XX|CH:gray_goo%25 AND M1|XX",
	],
	behaviorOn: [
		"XX|XX|XX",
		"XX|DL%10|XX",
		"M1|M2|M1",
	],
	reactions: {
		"antibody": { elem1:"malware", elem2:null }
	},
	ignore: ["fire","smoke","malware","flash","light","laser"],
	category: "special",
	state: "solid",
	density: 21450,
	excludeRandom: true,
	conduct: 0.25,
	darkText: true,
	tempHigh: 1456,
	stateHigh: "molten_steel"
},
"malware": {
	color: ["#8c4ac7","#a13d6a"],
	behavior: [
		"CL%1|CL%1 AND SH|CL%1",
		"CL%1 AND SH|SH%5 AND DL%10|CL%1 AND SH",
		"M1%15 AND CL%1|M1%50 AND CL%2 AND SH|M1%15 AND CL%1",
	],
	reactions: {
		"gray_goo": { elem2:"malware" },
		"fireball": { elem2:"rocket" },
		"wire": { elem2:null, chance:0.01 },
		"cloner": { elem2:["ecloner","slow_cloner"], chance:0.01, func:(pixel,cloner) => { cloner.clone = "malware" } },
		"ecloner": { elem2:["cloner","slow_cloner"], chance:0.01, func:(pixel,cloner) => { cloner.clone = "malware" } },
		"slow_cloner": { elem2:["cloner","ecloner"], chance:0.01, func:(pixel,cloner) => { cloner.clone = "malware" } },
		"loopy": { func:(pixel,cloner) => { cloner.clone = "malware" } },
		"snake": { elem2:"loopy", chance:0.25 },
		"pipe": { func:(pixel,pipe) => {
			// change pipe.stage into 2, 3, or 4
			pipe.stage = Math.floor(Math.random()*3)+2;
			// change color to "#003600", "#360000", or "#000036"
			pipe.color = ["#003600","#360000","#000036"][pipe.stage-2];
		} },
		"pipe_wall": { elem2:"rock", chance:0.01 },
		"lattice": { elem1:"lattice", elem2:null },
		"light_bulb": { elem2:"explosion", chance:0.01 },
		"battery": { elem2:"explosion", chance:0.01 },
		"heater": { elem2:["cooler","superheater"], chance:0.01 },
		"cooler": { elem2:["heater","freezer"], chance:0.01 },
		"superheater": { elem2:["heater","freezer"], chance:0.01 },
		"freezer": { elem2:["cooler","superheater"], chance:0.01 },
		"led_r": { elem2:["led_g","led_b"], chance:0.01 },
		"led_g": { elem2:["led_r","led_b"], chance:0.01 },
		"led_b": { elem2:["led_r","led_g"], chance:0.01 },
		"ewall": { elem2:"wall", chance:0.01 },
		"border": { elem2:null, chance:0.01 },
		"virus": { func: function(pixel1,pixel2){pixel2.heal=false;pixel2.origElem="malware"} }
	},
	category: "special",
	state: "solid",
	density: 2.1
},
"ecloner": {
	name: "e-cloner",
	color: "#dddd00",
	behavior: behaviors.WALL,
	behaviorOn: behaviors.CLONER,
	tick: function(pixel) {
		if (pixel.clone) { return }
		for (var i = 0; i < adjacentCoords.length; i++) {
			var coords = adjacentCoords[i];
			var x = pixel.x + coords[0];
			var y = pixel.y + coords[1];
			if (!isEmpty(x,y,true)) {
				pixel.temp = pixelMap[x][y].temp;
				if (pixelMap[x][y].clone) { pixel.clone = pixelMap[x][y].clone; break }
				var element = pixelMap[x][y].element;
				if (element === pixel.element || elements[pixel.element].ignore.indexOf(element) !== -1 && element !== "fuse") { continue }
				pixel.clone = element;
				break;
			}
		}
	},
	onClicked: behaviors.CLONE_ON_CLICK,
	ignore: ["cloner","slow_cloner","clone_powder","floating_cloner","wire","ewall","sensor","battery","fuse"],
	ignoreConduct:["fuse"],
	category:"machines",
	insulate:true,
	darkText: true,
	conduct: 1,
	hardness: 1,
	movable: false
},
"slow_cloner": {
	color: "#888800",
	behavior: [
		"XX|CF%10|XX",
		"CF%10|XX|CF%10",
		"XX|CF%10|XX",
	],
	onClicked: behaviors.CLONE_ON_CLICK,
	ignore: ["cloner","ecloner","clone_powder","floating_cloner","wall","ewall"],
	category:"machines",
	insulate:true,
	hardness: 1
},
"clone_powder": {
	color: "#f0f000",
	behavior: [
		"XX|CF|XX",
		"CF|XX|CF",
		"M2|CF AND M1|M2",
	],
	onClicked: behaviors.CLONE_ON_CLICK,
	reactions: {
		"malware": { elem1:"floating_cloner" }
	},
	ignore: ["cloner","ecloner","slow_cloner","floating_cloner","wall","ewall"],
	category:"machines",
	insulate:true,
	state:"solid",
	density:2710,
	hardness: 1,
	darkText: true,
	hidden: true
},
"floating_cloner": {
	color: "#c7c787",
	behavior: [
		"XX|CF%3 AND M1%10|XX",
		"CF%3 AND M1%10|XX|CF%3 AND M1%10",
		"XX|CF%3 AND M1%10|XX",
	],
	onClicked: behaviors.CLONE_ON_CLICK,
	reactions: {
		"malware": { elem1:"clone_powder" }
	},
	ignore: ["cloner","ecloner","slow_cloner","clone_powder","wall","ewall"],
	category:"machines",
	insulate:true,
	state:"solid",
	density:1355,
	hardness: 1,
	darkText: true
},
"virus": {
	color: "#cc00ff",
	tick: function(pixel) {
		for (var i = 0; i < adjacentCoords.length; i++) {
			var coords = adjacentCoords[i];
			var x = pixel.x + coords[0];
			var y = pixel.y + coords[1];
			if (!isEmpty(x,y,true)) {
				var newPixel = pixelMap[x][y]
				if (elements[newPixel.element].id !== elements.virus.id && elements[newPixel.element].hardness !== 1 && !pixel.heal && elements.virus.ignore.indexOf(newPixel.element) === -1) {
					if (Math.random() < 0.25) { newPixel.origElem = newPixel.element; changePixel(newPixel,"virus"); }
				}
				else if (elements[newPixel.element].id === elements.virus.id && pixel.heal) { newPixel.heal = true }
			}
		}
		if (pixel.heal && Math.random() < 0.01) {
			if (pixel.origElem) { changePixel(pixel,pixel.origElem); delete pixel.heal; delete pixel.origElem }
			else { deletePixel(pixel.x,pixel.y); return }
		}
		tryMove(pixel,pixel.x,pixel.y+1);
		doDefaults(pixel)
	},
	reactions: {
		"chlorine": { elem1:null },
		"liquid_chlorine": { elem1:null },
		"light": { elem1:null, chance:0.1 },
		"liquid_light": { elem1:null, chance:0.1 },
		"electric": { elem2:"malware" }
	},
	ignore: ["fire","smoke","soap","plague","cancer","plasma","light","loopy","liquid_light","malware","electric","pointer"],
	category: "special",
	state: "solid",
	density: 600,
	excludeRandom: true
},
"ice_nine": {
	color: ["#b0dcf7","#bbe9fc","#cefcfc"],
	behavior: [
		"XX|XX|XX",
		"XX|CH:ice%0.5|XX",
		"M2|M1|M2",
	],
	reactions: {
		"water": { elem2: "ice_nine" },
		"salt_water": { elem2: "ice_nine" },
		"dirty_water": { elem2: "ice_nine" },
		"sugar_water": { elem2: "ice_nine" },
		"seltzer": { elem2: "ice_nine" },
		"pool_water": { elem2: "ice_nine" },
		"steam": { elem2: "ice_nine" },
		"rain_cloud": { elem2: "ice_nine" },
		"cloud": { elem2: "ice_nine" },
		"snow_cloud": { elem2: "ice_nine" },
		"hail_cloud": { elem2: "ice_nine" },
		"thunder_cloud": { elem2: "ice_nine" },
		"snow": { elem2: "ice_nine" },
		"smog": { elem2: "ice_nine" },
		"rad_steam": { elem2: "ice_nine" }
	},
	temp:-100,
	category: "special",
	state: "solid",
	density: 917,
	excludeRandom: true
},
"strange_matter": {
	color: ["#a4c730","#b6ff57","#74e846","#2ba31d"],
	tick: function(pixel) {
		for (var i = 0; i < adjacentCoords.length; i++) {
			var coords = adjacentCoords[i];
			var x = pixel.x + coords[0];
			var y = pixel.y + coords[1];
			if ((Math.random() < 0.05 || coords[0]) && !isEmpty(x,y,true)) {
				var elem = pixelMap[x][y].element;
				if (elements.strange_matter.ignore.indexOf(elem) === -1 && elements[elem].hardness !== 1) {
					if (coords[1]) {
						swapPixels(pixel,pixelMap[x][y]);
					}
					else {
						changePixel(pixelMap[x][y],"strange_matter");
					}
				}
			}
		}
		var move1Spots = [
			[pixel.x, pixel.y+1],
			[pixel.x+1, pixel.y+1],
			[pixel.x-1, pixel.y+1],
		]
		if (Math.random() < 0.1) { move1Spots.push([pixel.x-1,pixel.y]) }
		if (Math.random() < 0.1) { move1Spots.push([pixel.x+1,pixel.y]) }
		if (Math.random() < 0.1) { move1Spots.push([pixel.x,pixel.y-1]) }
		if (Math.random() < 0.1) { move1Spots.push([pixel.x-1,pixel.y-1]) }
		if (Math.random() < 0.1) { move1Spots.push([pixel.x+1,pixel.y-1]) }
		for (var i = 0; i < move1Spots.length; i++) {
			var j = Math.floor(Math.random()*move1Spots.length);
			var coords = move1Spots[j];
			if (tryMove(pixel, coords[0], coords[1])) { break; }
			else { move1Spots.splice(j, 1); }
		}
		doDefaults(pixel);
	},
	reactions: {
		"void": { elem1:"explosion" }
	},
	category: "special",
	state: "liquid",
	density: 2000,
	excludeRandom: true,
	ignore: ["fire","smoke","antimatter","strange_matter","wall","ewall","plasma","void","border","pointer"],
},
"permafrost": {
	color: ["#54443a","#4f4235","#453c30","#524639"],
	behavior: behaviors.SUPPORT,
	temp: -50,
	tempHigh: 10,
	stateHigh: "mudstone",
	category: "land",
	state: "solid",
	density: 700
},
"melted_butter": {
	color: "#ffe240",
	behavior: behaviors.LIQUID,
	reactions: {
		"dirt": { elem1: null, elem2: "mud" },
		"sand": { elem1: null, elem2: "wet_sand" },
		"toast": { color2:["#A84B1E","#C96619","#F9B042"], tempMin:160, chance:0.05 },
		"crumb": { color2:["#A84B1E","#C96619","#F9B042"], tempMin:160, chance:0.05 },
		"baked_batter": { color2:["#A84B1E","#C96619","#F9B042"], tempMin:160, chance:0.05 },
		"baked_potato": { color2:["#A84B1E","#C96619","#F9B042"], tempMin:160, chance:0.05 },
		"caustic_potash": { elem1:"soap", elem2:"soap" }
	},
	temp: 33,
	tempLow: 0,
	stateLow: "butter",
	tempHigh: 1000,
	stateHigh: ["smoke","steam","smoke","steam","smoke","steam","smoke","steam","quicklime","salt"],
	category: "states",
	viscosity: 42,
	hidden: true,
	state: "liquid",
	density: 911,
	isFood: true,
	stain: 0.05,
},
"melted_cheese": {
	color: "#fcdb53",
	behavior: behaviors.LIQUID,
	reactions: {
		"salt": { elem2:null, chance:0.005}
	},
	temp: 54,
	tempLow: 0,
	stateLow: "cheese",
	tempHigh: 1000,
	stateHigh: ["smoke","steam","alcohol_gas","smoke","steam","alcohol_gas","smoke","steam","alcohol_gas","quicklime","salt"],
	category: "states",
	viscosity: 30000,
	hidden: true,
	state: "liquid",
	density: 400,
	isFood: true
},
"mushroom_spore": {
	color: ["#d1d1d1","#d4cfa9","#b4d4ae","#b98aba","#805236"],
	behavior: [
		"XX|M2%1.5|XX",
		"XX|L2:mushroom_stalk AND C2:mushroom_gill%20|XX",
		"XX|M1|XX",
	],
	tick: behaviors.SEEDRISE,
	reactions: {
		"wood": { elem2:"dirt", chance:0.04 },
		"tree_brake": { elem2:"dirt", chance:0.04 },
		"plant": { elem2:"dirt", chance:0.07 },
		"evergreen": { elem2:"dirt", chance:0.07 },
		"root": { elem2:"dirt", chance:0.07 },
		"grass": { elem2:"dirt", chance:0.08 },
		"grass_seed": { elem2:"dirt", chance:0.08 },
		"epsom_salt": { elem1:null, chance:0.1 }
	},
	category: "life",
	tempHigh: 225,
	stateHigh: "fire",
	burn: 10,
	burnTime: 20,
	state: "solid",
	density: 123.6,
	cooldown: defaultCooldown,
	seed: true,
	darkText: true
},
"mushroom_stalk": {
	color: "#d1d1d1",
	behavior: [
		"XX|XX|XX",
		"XX|XX|XX",
		"XX|CH:dirt>hyphae%1 AND M1|XX",
	],
	reactions: {
		"wood": { elem2:"dirt", chance:0.04 },
		"tree_brake": { elem2:"dirt", chance:0.04 },
		"plant": { elem2:"dirt", chance:0.07 },
		"evergreen": { elem2:"dirt", chance:0.07 },
		"root": { elem2:"dirt", chance:0.07 },
		"grass": { elem2:"dirt", chance:0.08 },
		"grass_seed": { elem2:"dirt", chance:0.08 },
		"ash": { elem2:"dirt", chance:0.04 },
		"water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"salt_water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"sugar_water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"seltzer": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] }
	},
	category: "life",
	hidden: true,
	tempHigh: 225,
	stateHigh: "fire",
	burn: 10,
	burnTime: 65,
	state: "solid",
	density: 90.445,
	seed: "mushroom_spore",
	breakInto: [null,null,"mycelium"]
},
"mushroom_gill": {
	color: "#d4cfa9",
	tick: function(pixel) {
		if (!pixel.mColor) {
			// make it a hsl random hue, 54% saturation, 52% lightness
			pixel.mColor = "hsl(" + Math.floor(Math.random()*200+180)%360 + ",54%,52%)";
		}
		if (isEmpty(pixel.x,pixel.y-1) && Math.random() < 0.1) {
			createPixel("mushroom_cap",pixel.x,pixel.y-1);
			pixelMap[pixel.x][pixel.y-1].color = pixel.mColor;
		}
		if (isEmpty(pixel.x-1,pixel.y) && Math.random() < 0.02) {
			// create either mushroom_gill or mushroom_cap
			if (Math.random() < 0.5) {
				createPixel("mushroom_gill",pixel.x-1,pixel.y);
				pixelMap[pixel.x-1][pixel.y].mColor = pixel.mColor;
			} else {
				createPixel("mushroom_cap",pixel.x-1,pixel.y);
				pixelMap[pixel.x-1][pixel.y].color = pixel.mColor;
			}
		}
		if (isEmpty(pixel.x+1,pixel.y) && Math.random() < 0.02) {
			if (Math.random() < 0.5) {
				createPixel("mushroom_gill",pixel.x+1,pixel.y);
				pixelMap[pixel.x+1][pixel.y].mColor = pixel.mColor;
			} else {
				createPixel("mushroom_cap",pixel.x+1,pixel.y);
				pixelMap[pixel.x+1][pixel.y].color = pixel.mColor;
			}
		}
		doDefaults(pixel);
	},
	reactions: {
		"water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"salt_water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"sugar_water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"seltzer": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] }
	},
	category: "life",
	hidden: true,
	movable: false,
	tempHigh: 225,
	stateHigh: "fire",
	burn: 10,
	burnTime: 65,
	burnInto: "mushroom_spore",
	state: "solid",
	density: 90.445,
	seed: "mushroom_spore",
	breakInto: [null,"mycelium","mushroom_spore","poison"]
},
"mushroom_cap": {
	color: ["#c76243","#c74442","#c7437e","#c043c7","#7c43c7","#4543c7","#4368c7","#43c7c7"],
	singleColor: true,
	behavior: behaviors.WALL,
	reactions: {
		"water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"salt_water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"sugar_water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"seltzer": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] }
	},
	category: "life",
	hidden: true,
	tempHigh: 225,
	stateHigh: "fire",
	burn: 10,
	burnTime: 65,
	burnInto: "mushroom_spore",
	state: "solid",
	density: 90.445,
	seed: "mushroom_spore",
	breakInto: [null,null,"mycelium"]
},
"hyphae": {
	color: "#c79789",
	behavior: [
		"CH:dirt>hyphae,hyphae,mycelium%0.5|CR:mushroom_spore%0.5|CH:dirt>hyphae,hyphae,mycelium%0.5",
		"CH:dirt>mycelium%0.5|XX|CH:dirt>mycelium%0.5",
		"CH:dirt>hyphae,hyphae,mycelium%0.5|XX|CH:dirt>hyphae,hyphae,mycelium%0.5",
	],
	reactions: {
		"wood": { elem2:"dirt", chance:0.04 },
		"tree_brake": { elem2:"dirt", chance:0.04 },
		"plant": { elem2:"dirt", chance:0.07 },
		"evergreen": { elem2:"dirt", chance:0.07 },
		"root": { elem2:"dirt", chance:0.07 },
		"grass": { elem2:"dirt", chance:0.08 },
		"grass_seed": { elem2:"dirt", chance:0.08 },
		"ash": { elem2:"dirt", chance:0.04 },
		"water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"salt_water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"sugar_water": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] },
		"seltzer": { elem2:"broth", tempMin:70, color2:["#CC9978","#CD8C6F","#BE785E"] }
	},
	category: "life",
	hidden: true,
	tempHigh: 225,
	stateHigh: "fire",
	burn: 30,
	burnTime: 20,
	state: "solid",
	density: 462,
	seed: "mushroom_spore",
	conduct: 0.1,
	breakInto: ["dirt","dirt","mycelium"]
},
"mycelium": {
	color: ["#734d5e","#734d5e","#734d5e","#61404f","#6b4b5a","#755061","#866372","#987886","#ab8e9a","#bea4ad","#d0b9c1","#e3cfd5"],
	behavior: behaviors.POWDER,
	reactions: {
		"dead_plant": { elem2:[null,null,null,"mycelium","hyphae"], chance:0.0025 },
		"rotten_meat": { elem2:[null,null,null,"mycelium","hyphae"], chance:0.0025 },
		"dead_bug": { elem2:[null,null,null,"mycelium","hyphae"], chance:0.0025 },
		"wood": { elem2:[null,"mycelium","hyphae"], chance:0.0025 }
	},
	tempHigh:225,
	stateHigh: "dirt",
	tempLow: -50,
	stateLow: "permafrost",
	burn: 20,
	burnTime: 40,
	burnInto: "dirt",
	category:"land",
	state: "solid",
	density: 462,
	seed: "mushroom_spore"
},
"mulch": {
	color: ["#94432c","#7a2912","#571a09"],
	behavior: behaviors.POWDER,
	tempHigh: 400,
	stateHigh: ["dirt","dirt","ash","fire"],
	burn: 1,
	burnTime: 200,
	burnInto: ["dirt","dirt","ash","fire"],
	category:"land",
	state: "solid",
	density: 380
},
"ant_wall": {
	color: ["#91643f","#8a593b"],
	behavior: behaviors.WALL,
	reactions: {
		"water": { elem1:["mud","mud","wet_sand"], elem2:null, chance:0.005 },
		"dirty_water": { elem1:["mud","mud","wet_sand"], elem2:null, chance:0.006 },
		"salt_water": { elem1:["mud","mud","wet_sand"], elem2:null, chance:0.007 },
		"sugar_water": { elem1:["mud","mud","wet_sand"], elem2:null, chance:0.003 },
		"seltzer": { elem1:["mud","mud","wet_sand"], elem2:null, chance:0.01 },
		"pool_water": { elem1:["mud","mud","wet_sand"], elem2:null, chance:0.05 },
		"fire": { elem1:["dirt","sand"], chance:0.005 }
	},
	tempHigh:1400,
	stateHigh: ["molten_dirt","molten_glass"],
	tempLow: -50,
	stateLow: "permafrost",
	category:"land",
	state: "solid",
	breakInto: ["dirt","sand"],
	density: 1220,
	hidden: true
},
"lichen": {
	color: ["#b6d6c3","#769482"],
	tick: function(pixel) {
		if (!tryMove(pixel,pixel.x,pixel.y+1)) {
			var coords = [
				[pixel.x+1,pixel.y],
				[pixel.x-1,pixel.y],
				[pixel.x+1,pixel.y+1],
				[pixel.x-1,pixel.y+1],
			];
			for (var i = 0; i < coords.length; i++) {
				if (Math.random() < 0.005 && isEmpty(coords[i][0],coords[i][1])) {
					if (!isEmpty(coords[i][0],coords[i][1]+1) && (outOfBounds(coords[i][0],coords[i][1]+1) || pixelMap[coords[i][0]][coords[i][1]+1].element!=="lichen") ) {
						createPixel(pixel.element,coords[i][0],coords[i][1]);
					}
				}
			}
		}
		doDefaults(pixel);
	},
	reactions: {
		"carbon_dioxide": { elem2:"oxygen", chance:0.05 },
		"rock": { elem2:"dirt", chance:0.0025 },
		"rock_wall": { elem2:"dirt", chance:0.0025 },
		"gravel": { elem2:"dirt", chance:0.0025 },
		"vinegar": { elem1:null, chance:0.01 },
		"stench": { elem1:null, chance:0.01 },
		"smog": { elem1:null, chance:0.01 }
	},
	tempHigh: 400,
	stateHigh: "fire",
	burn: 50,
	burnTime: 20,
	breakInto: "dust",
	category: "life",
	state: "solid",
	density: 1.5
},
"antimatter": {
	color: "#a89ba8",
	colorOn: "#6156b8",
	behavior: [
		"M2|DB%50 AND M2|M2",
		"M1|XX|M1",
		"M1|DB%50 AND M1|M1",
	],
	onCollide: function(pixel1,pixel2) {
		if (elements.antimatter.ignore.indexOf(pixel2.element) !== -1 || elements[pixel2.element].isGas) return;
		explodeAt(pixel2.x,pixel2.y,8,["fire","positron"]);
	},
	reactions: {
		"proton": { elem1:"explosion", elem2:"explosion" },
		"neutron": { elem1:"explosion", elem2:"explosion" },
		"electric": { elem1:"explosion", elem2:"explosion" }
	},
	ignore: ["antimatter_bomb","positron","cloner","slow_cloner","clone_powder","floating_cloner","ecloner"],
	category: "special",
	state: "gas",
	density: 2.1,
	excludeRandom: true
},
"plastic": {
	color: "#c5dede",
	behavior: behaviors.WALL,
	tempHigh: 250,
	burn: 10,
	burnTime: 200,
	burnInto: ["dioxin","smoke","dioxin","smoke","stench"],
	breakInto: "bead",
	breakIntoColor: ["#d3e8e8","#afc9c9"],
	category: "solids",
	state: "solid",
	density: 1052
},
"molten_plastic": {
	color: "#a4b3b3",
	behavior: behaviors.LIQUID,
	viscosity: 20,
	tempHigh: 600,
	stateHigh: ["dioxin","smoke","dioxin","smoke","stench"],
},
"cloth": {
	color: ["#F7F7F7","#F1F1F1","#E8E8E8","#CDCDCD"],
	behavior: behaviors.WALL,
	tick: function(pixel) {
		behaviors.ABSORB(pixel,1,0.01);
	},
	onBreak: behaviors.RELEASE_MOISTURE,
	onDelete: behaviors.RELEASE_MOISTURE,
	reactions: {
		"water":{}, "salt_water":{}, "sugar_water":{}, "dirty_water":{}, "pool_water":{}, "seltzer":{}
	},
	tempHigh: 412,
	stateHigh: "fire",
	burn: 5,
	burnTime: 350,
	burnInto: ["smoke","smoke","smoke","smoke","ash"],
	category: "solids",
	state: "solid",
	breakInto: "dust",
	movable:false
},
"cellulose": {
	color: "#c7d4c9",
	behavior: behaviors.LIQUID,
	reactions: {
		"herb": {elem1:"incense", elem2:null}
	},
	tempHigh: 100,
	stateHigh: "paper",
	tempLow: 0,
	stateLow: "paper",
	burn: 1,
	burnTime: 300,
	burnInto: ["smoke","smoke","smoke","steam"],
	category: "life",
	state: "liquid",
	density: 1500,
	viscosity: 2500,
	hidden: true,
	alias: "paper paste"
},
"wax": {
	color: "#fff3d6",
	behavior: behaviors.STURDYPOWDER,
	tempHigh: 57,
	stateHigh: "melted_wax",
	category: "powders",
	state: "solid",
	density: 900
},
"melted_wax": {
	color: "#d4c196",
	behavior: behaviors.LIQUID,
	temp: 67,
	tempLow: 57,
	stateLow: "wax",
	tempHigh: 1000,
	stateHigh: ["smoke","fire","carbon_dioxide","hydrogen"],
	category: "liquids",
	hidden: true,
	state: "liquid",
	density: 900,
	viscosity: 1.355
},
"incense": {
	color: "#361f19",
	behavior: behaviors.STURDYPOWDER,
	tempHigh: 2320,
	stateHigh: ["fragrance","smoke"],
	burn: 10,
	burnTime: 500,
	burnInto: ["fragrance","smoke"],
	fireElement: ["fragrance","smoke","smoke"],
	breakInto: "sawdust",
	category: "powders",
	state: "solid",
	density: 686
},
"dioxin": {
	color: "#b8b8b8",
	behavior: behaviors.GAS,
	reactions: {
		"cell": { elem2:"cancer", chance:0.0015 },
		"blood": { elem2:"infection", chance:0.01 },
		"antibody": { elem2:"blood", chance:0.025 },
		"frog": { elem2:"meat", chance:0.05 },
		"fish": { elem2:"meat", chance:0.05 },
		"rat": { elem2:"rotten_meat", chance:0.05 },
		"bird": { elem2:"rotten_meat", chance:0.05 },
		"plant": { elem2:"dead_plant", chance:0.05 },
		"vine": { elem2:"dead_plant", chance:0.05 },
		"cactus": { elem2:"dead_plant", chance:0.05 },
		"sapling": { elem2:"dead_plant", chance:0.05 },
		"grass": { elem2:"dead_plant", chance:0.05 },
		"head": { func:behaviors.KILLPIXEL2, chance:0.005 },
		"ash": { elem1:null, chance:0.05 },
		"dirt": { elem1:null, chance:0.05 },
		"mud": { elem1:null, chance:0.05 },
		"sand": { elem1:null, chance:0.05 },
		"wet_sand": { elem1:null, chance:0.05 },
		"clay_soil": { elem1:null, chance:0.05 }
	},
	category: "gases",
	state: "gas",
	density: 1.977
},
"insulation": {
	color: "#b8aea5",
	behavior: behaviors.WALL,
	category: "solids",
	insulate: true,
	state: "solid",
	noMix: true,
	darkText: true
},
"sponge": {
	color: ["#bf9c00","#ad8e05","#876f05"],
	tick: function(pixel) {
		if (!pixel.clog) {
			behaviors.ABSORB(pixel,100);
			var coordsToCheck = [
				[pixel.x-1,pixel.y],
				[pixel.x+1,pixel.y],
				[pixel.x,pixel.y-1],
				[pixel.x,pixel.y+1],
			];
			for (var i = 0; i < coordsToCheck.length; i++) {
				var coord = coordsToCheck[i];
				if (!isEmpty(coord[0],coord[1],true)) {
					var newPixel = pixelMap[coord[0]][coord[1]];
					if (elements.sponge.reactions[newPixel.element]) {
						if (elements.sponge.reactions[newPixel.element].elem2 && Math.random() < 0.1) {
							changePixel(newPixel, elements.sponge.reactions[newPixel.element].elem2);
							pixel.moist++;
						}
						continue;
					}
					if (newPixel.element === "dust") {
						pixel.clog = true;
						deletePixel(coord[0],coord[1]);
						break;
					}
					if (elements[newPixel.element].state === "liquid" && ((elements[newPixel.element].density || 0) < 2500)) {
						deletePixel(coord[0],coord[1]);
					}
				}
			}
		}
		// elements[pixel.element].reactions[newPixel.element] && !elements[pixel.element].reactions[newPixel.element].elem2
		doBurning(pixel);
		doHeat(pixel);
	},
	onBreak: behaviors.RELEASE_MOISTURE,
	onDelete: behaviors.RELEASE_MOISTURE,
	reactions: {
		"water":{}, "salt_water":{ elem2:"salt" }, "sugar_water":{ elem2:"sugar" }, "dirty_water":{}, "pool_water":{ elem2:"chlorine" }, "seltzer":{ elem2:"carbon_dioxide" },
		"soap": { elem2:"bubble" },
		"mud": { elem2:"dirt" },
		"wet_sand": { elem2:"sand" },
		"clay": { elem2:"clay_soil" }
	},
	renderer: function(pixel,ctx) {
		drawDefault(ctx,pixel);
		if (pixel.moist > 1) {
			drawSquare(ctx,"#573f00",pixel.x,pixel.y,undefined,Math.min(0.8,pixel.moist/10));
		}
	},
	hoverStat: function(pixel) { return Math.floor(pixel.moist||0) + "%" },
	category: "solids",
	burn: 5,
	burnTime: 300,
	tempHigh: 500,
	stateHigh: "fire",
	state: "solid",
	density: 65,
	movable: false,
},
"bamboo": {
	color: ["#7cc00c","#77a012"],
	behavior: behaviors.WALL,
	tempHigh: 380,
	stateHigh: ["ember","fire","fire","fire"],
	burn: 10,
	burnTime: 200,
	burnInto: ["ember","fire","fire","fire"],
	category: "solids",
	state: "solid",
	density: 686,
	breakInto: "sawdust",
	seed: "bamboo_plant"
},
"iron": {
	color: ["#cbcdcd","#bdbdbd"],
	behavior: behaviors.WALL,
	reactions: {
		"water": { elem1:"rust", chance:0.0025 },
		"salt_water": { elem1:"rust", chance:0.005 },
		"dirty_water": { elem1:"rust", chance:0.04 },
		"pool_water": { elem1:"rust", chance:0.04 },
		"sugar_water": { elem1:"rust", chance:0.0035 },
		"seltzer": { elem1:"rust", chance:0.006 },
		"salt": { elem1:"rust", chance:0.004 },
		"blood": { elem1:"rust", chance:0.003 },
		"infection": { elem1:"rust", chance:0.003 },
		"antibody": { elem1:"rust", chance:0.003 },
		"fire": { elem1:"rust", chance:0.0025 },
		"coffee": { elem1:"rust", chance:0.0003 },
		"tea": { elem1:"rust", chance:0.0003 },
		"broth": { elem1:"rust", chance:0.0003 },
		"juice": { elem1:"rust", chance:0.0003 },
		"nut_milk": { elem1:"rust", chance:0.0003 }
	},
	tempHigh: 1538,
	category: "solids",
	density: 7860,
	conduct: 0.47,
	hardness: 0.4,
	darkText: true
},
"copper": {
	color: ["#a95232","#be4322","#c76035"],
	behavior: behaviors.WALL,
	reactions: {
		"blood": { elem1:"oxidized_copper", chance:0.003 },
		"infection": { elem1:"oxidized_copper", chance:0.003 },
		"antibody": { elem1:"oxidized_copper", chance:0.003 },
		"fire": { elem1:"oxidized_copper", chance:0.0025 }
	},
	category: "solids",
	tempHigh: 1085,
	density: 8960,
	conduct: 0.95,
	hardness: 0.3,
	fireColor: ["#07BA4F","#00BC5B","#00C2A9","#11B7E7","#C6F2EC"]
},
"gold": {
	color: ["#FFFDDE","#FDF55F","#FAD64A","#EAB115","#DC9710"],
	behavior: behaviors.WALL,
	tempHigh: 1064,
	category: "solids",
	density: 19300,
	conduct: 0.81,
	hardness: 0.25,
	breakInto: "gold_coin"
},
"steel": {
	color: "#71797e",
	colorKey: {
		"L":"#888f94",
		"B":"#71797e"
	},
	colorPattern: [
		"BBLB",
		"BBBL",
		"BLBB",
		"LBBB"
	],
	grain: 0.5,
	behavior: behaviors.WALL,
	reactions: {
		"water": { elem1:"rust", chance:0.002 },
		"salt_water": { elem1:"rust", chance:0.004 },
		"dirty_water": { elem1:"rust", chance:0.03 },
		"pool_water": { elem1:"rust", chance:0.03 },
		"sugar_water": { elem1:"rust", chance:0.003 },
		"seltzer": { elem1:"rust", chance:0.005 },
		"salt": { elem1:"rust", chance:0.003 },
		"blood": { elem1:"rust", chance:0.002 },
		"infection": { elem1:"rust", chance:0.002 },
		"antibody": { elem1:"rust", chance:0.002 },
		"coffee": { elem1:"rust", chance:0.0002 },
		"tea": { elem1:"rust", chance:0.0002 },
		"broth": { elem1:"rust", chance:0.0002 },
		"juice": { elem1:"rust", chance:0.0002 },
		"nut_milk": { elem1:"rust", chance:0.0002 }
	},
	tempHigh: 1455.5,
	category: "solids",
	density: 7850,
	conduct: 0.42,
	hardness: 0.8
},
"galvanized_steel": {
	color: "#99a7b0",
	colorKey: {
		"L":"#99a7b0",
		"B":"#859199"
	},
	colorPattern: [
		"BBLB",
		"BLBL",
		"LBBB"
	],
	grain: 0.5,
	behavior: behaviors.WALL,
	tempHigh: 1200,
	category: "solids",
	density: 7850,
	conduct: 0.475,
	hardness: 0.8,
	hidden: true
},
"zinc": {
	color: ["#666466","#817e81","#9a989a"],
	behavior: behaviors.WALL,
	tempHigh: 419.53,
	category: "solids",
	density: 7068,
	conduct: 0.53,
	hardness: 0.25,
	fireColor: ["#91B797","#CAE4CA","#F1F2F0"],
	superconductAt: -272.25
},
"silver": {
	color: "#cacaca",
	behavior: behaviors.WALL,
	tempHigh: 961.8,
	category: "solids",
	density: 10497,
	conduct: 0.99,
	hardness: 0.25
},
"tin": {
	color: ["#9e9d98","#aeada4"],
	tick: function(pixel) {
		if (pixel.temp < 13.2 && Math.random() < 0.0005) {
			changePixel(pixel,"metal_scrap");
		}
		doDefaults(pixel)
	},
	tempHigh: 231.9,
	category: "solids",
	density: 7260,
	conduct: 0.45,
	hardness: 0.15,
	movable: false,
	superconductAt: -269.45
},
"lead": {
	color: ["#6c6c6a","#838381"],
	behavior: behaviors.WALL,
	tempHigh: 327.5,
	category: "solids",
	density: 11343,
	conduct: 0.41,
	hardness: 0.15,
	fireColor: ["#DBD1E9","#D7E9F2","#9AB0D1"],
	superconductAt: -265.95
},
"nickel": {
	color: ["#695c52","#827362","#998b71"],
	behavior: behaviors.WALL,
	tempHigh: 1455,
	category: "solids",
	density: 8900,
	conduct: 0.51,
	hardness: 0.4
},
"aluminum": {
	color: ["#d1c6be","#b5c0ad","#b9b8bc"],
	reactions: {
		"radiation": { elem2:"electric", temp1:200 }
	},
	behavior: behaviors.WALL,
	renderer: null,
	tempHigh: 660.3,
	category: "solids",
	density: 2710,
	conduct: 0.73,
	hardness: 0.05,
	breakInto: "metal_scrap",
	fireColor: "#A7B3BF",
	superconductAt: -271.95,
	darkText: true
},
"tungsten": {
	color: ["#BBB3A2","#D4D4CA"],
	grain: 5,
	behavior: behaviors.WALL,
	tempHigh: 3422,
	category: "solids",
	density: 19300,
	conduct: 0.65,
	superconductAt: -270.65,
	hardness: 0.75
},
"molten_tungsten": {
	color: ['#ffff67', '#ffd367', '#ff9e00', '#d1ff5c', '#5cffb0', '#0073ff', '#ca57ff', '#ffba57', '#ff8c00', '#c46f28', '#c45928', '#c44300']
},
"brass": {
	color: ["#e4be6c","#cc965c","#ab7c49"],
	behavior: behaviors.WALL,
	reactions: {
		"ammonia": { elem1:"metal_scrap", color1:["#cb9e5d","#865e39"], chance:0.01 }
	},
	tempHigh: 927,
	category: "solids",
	density: 8550,
	conduct: 0.52,
	hardness: 0.275,
	hidden: true
},
"bronze": {
	color: ["#e4aa6d","#cc875c","#ab6c4a"],
	behavior: behaviors.WALL,
	reactions: {
		"water": { elem1:"oxidized_copper", chance:0.00125 },
		"salt_water": { elem1:"oxidized_copper", chance:0.0025 },
		"dirty_water": { elem1:"oxidized_copper", chance:0.02 },
		"pool_water": { elem1:"oxidized_copper", chance:0.02 },
		"sugar_water": { elem1:"oxidized_copper", chance:0.00175 },
		"seltzer": { elem1:"oxidized_copper", chance:0.003 },
		"blood": { elem1:"oxidized_copper", chance:0.0015 },
		"infection": { elem1:"oxidized_copper", chance:0.0015 },
		"antibody": { elem1:"oxidized_copper", chance:0.0015 }
	},
	tempHigh: 913,
	category: "solids",
	density: 8150,
	conduct: 0.44,
	hardness: 0.225,
	hidden: true
},
"invar": {
	color: ["#36322c","#302e29","#2e2d29"],
	grain: 0.5,
	behavior: behaviors.WALL,
	tempHigh: 1427,
	category: "solids",
	density: 8100,
	conduct: 0.49,
	hardness: 0.35,
	hidden: true
},
"sterling": {
	color: "#D4D4D4",
	grain: 0.3,
	behavior: behaviors.WALL,
	tempHigh: 802,
	category: "solids",
	density: 10375.25,
	conduct: 0.95,
	hardness: 0.275,
	hidden: true
},
"gallium": {
	color: ["#b3b3b3","#cccccc","#dbdbdb"],
	behavior: behaviors.WALL,
	tempHigh: 29.76,
	category: "solids",
	density: 5100,
	conduct: 0.05,
	hardness: 0.15,
	superconductAt: -272.15
},
"molten_gallium": {
	color: ["#f7f7f7","#d9d7d7"],
	behavior: behaviors.LIQUID,
	tempHigh: 2400,
	tempLow: 29.76,
	density: 6095,
	stateLow: "gallium",
	reactions: {
		"aluminum": { elem1:["molten_gallium","molten_gallium","alga"], elem2:null, chance:0.01 },
		"molten_aluminum": { elem1:"alga", elem2:"molten_alga", chance:0.05 },
		"sodium": { elem1:"hydrogen", elem2:"salt", chance:0.005 },
		"steel": { elem2:"iron", chance:0.005 },
		"gold": { elem1:null, elem2:"blue_gold", chance:0.01 },
		"gold_coin": { elem1:null, elem2:"blue_gold", chance:0.01 }
	},
	stain: 0.05,
},
"gallium_gas": {
	density: 6.31
},
"rose_gold": {
	color: ["#f58f8f","#d06c6c","#f58f8f"],
	behavior: behaviors.WALL,
	tempHigh: 897,
	category: "solids",
	density: 12900,
	conduct: 0.87,
	hardness: 0.275,
	breakInto: "gold_coin",
	breakIntoColor: ["#f58f8f","#d06c6c","#f58f8f"],
	hidden: true
},
"purple_gold": {
	color: ["#f58fda","#d06cb5","#f58fda"],
	behavior: behaviors.WALL,
	tempHigh: 1060,
	category: "solids",
	density: 11005,
	conduct: 0.87,
	hardness: 0.15,
	breakInto: "gold_coin",
	breakIntoColor: ["#f58fda","#d06cb5","#f58fda"],
	hidden: true
},
"blue_gold": {
	color: ["#94c2c7","#7ba3b2","#94c2c7"],
	behavior: behaviors.WALL,
	tempHigh: 491,
	category: "solids",
	density: 12900,
	conduct: 0.87,
	hardness: 0.275,
	breakInto: "gold_coin",
	breakIntoColor: ["#94c2c7","#7ba3b2","#94c2c7"],
	hidden: true
},
"electrum": {
	color: ["#c5c794","#b0b27b","#c5c794"],
	behavior: behaviors.WALL,
	tempHigh: 1063.9,
	category: "solids",
	density: 13750,
	conduct: 0.9,
	hardness: 0.25,
	breakInto: "gold_coin",
	breakIntoColor: ["#c5c794","#b0b27b","#c5c794"],
	hidden: true,
	alias: "green gold"
},
"pyrite": {
	color: ["#e8e0cb","#cdcaaf","#726a53","#8f835e","#bfb9a0",],
	behavior: behaviors.WALL,
	tempHigh: 1182.5,
	category: "solids",
	density: 4900,
	state: "solid",
	conduct: 0.5,
	hardness: 0.6,
	hidden: true,
	alias: ["fool's gold","iron sulfide"]
},
"solder": {
	color: ["#a1a19d","#b4b4b1"],
	behavior: behaviors.WALL,
	tempHigh: 200,
	category: "solids",
	density: 8885,
	conduct: 0.43,
	hardness: 0.15,
	hidden: true
},
"amber": {
	temp: 20,
	tempHigh: 345,
	stateHigh: "smoke",
	breakInto: [null,null,"sap"],
	category: "solids"
},
"molten_copper": {
	reactions: {
		"molten_zinc": { elem1: null, elem2: "molten_brass" },
		"molten_tin": { elem1: null, elem2: "molten_bronze" },
		"molten_silver": { elem1: null, elem2: "molten_sterling" },
		"molten_gold": { elem1: null, elem2: "molten_rose_gold" },
		"molten_sulfur": { elem1: null, elem2: "molten_copper_sulfate" },
		"sulfur_gas": { elem1: null, elem2: "molten_copper_sulfate" }
	},
	density: 8020
},
"molten_copper_sulfate": {
	tempLow: 100,
	stateLow: "copper_sulfate",
	reactions: {
		"fire": {elem1:null,elem2:"poison_gas",chance:0.1}
	}
},
"molten_gold": {
	reactions: {
		"molten_silver": { elem1: null, elem2: "molten_electrum" },
		"molten_aluminum": { elem1: null, elem2: "molten_purple_gold" },
		"molten_gallium": { elem1: null, elem2: "molten_blue_gold" },
		"molten_alga": { elem1: "molten_purple_gold", elem2: "molten_blue_gold" },
		"gallium_gas": { elem1: null, elem2: "molten_blue_gold" }
	},
	density: 17310
},
"molten_silver": {
	density: 9320
},
"molten_iron": {
	reactions: {
		"charcoal": { elem1: "molten_steel", elem2: null },
		"diamond": { elem1: "molten_steel", elem2: null },
		"carbon_dioxide": { elem1: "molten_steel", elem2: null },
		"molten_nickel": { elem1: "molten_invar", elem2: null }
	},
	density: 6980
},
"molten_nickel": {
	density: 7810
},
"molten_tin": {
	reactions: {
		"molten_lead": { elem1: null, elem2: "molten_solder" }
	},
	density: 6990
},
"molten_lead": {
	density: 10660
},
"molten_solder": {
	color: ["#94A4B0","#AFBBC9","#CCD6E5","#FFFFFF"],
	behavior: behaviors.LIQUID
},
"juice": {
	color: "#f0bf3d",
	behavior: behaviors.LIQUID,
	reactions: {
		"seltzer": { elem1: "soda", elem2: "foam", color1:"#ff9021" },
		"carbon_dioxide": { elem1: "soda", elem2: "foam", color1:"#ff9021" },
		"sugar": { elem2:null, chance:0.005}
	},
	tempHigh: 160,
	stateHigh: ["steam","sugar"],
	tempLow: -10,
	stateLowColorMultiplier: 1.1,
	category: "liquids",
	state: "liquid",
	density: 1054,
	stain: 0.05,
	isFood: true
},
"juice_ice": {
	stateHighColorMultiplier: 0.91,
	breakInto: "slush"
},
"broth": {
	color: "#dbb169",
	behavior: behaviors.LIQUID,
	reactions: {
		"petal": { color1:["#CC9978","#CD8C6F","#BE785E","#CC9978","#CD8C6F","#BE785E","#A9D475","#5AF353","#8E5FA5"], tempMin:70, chance:0.01 },
		"pistil": { color1:["#CC9978","#CD8C6F","#BE785E","#CC9978","#CD8C6F","#BE785E","#A9D475","#5AF353","#8E5FA5"], tempMin:70, chance:0.01 },
		"potato": { color1:"#DFD0CB", tempMin:70, chance:0.05 },
		"melted_cheese": { color1:"#dbc469", tempMin:70, chance:0.05 },
		"beans": { color1:"#db9769", tempMin:70, chance:0.05 },
		"wheat": { color1:"#dbbd8a", tempMin:70, chance:0.05 },
		"kelp": { color1:"#7dba57", tempMin:70, chance:0.05 },
		"tomato": { color1:"#F9A24E", tempMin:70, chance:0.05 },
		"sauce": { color1:"#F9A24E", tempMin:70, chance:0.05 },
		"ketchup": { color1:"#F9A24E", tempMin:70, chance:0.05 },
		"mushroom_stalk": { color1:["#CC9978","#CD8C6F","#BE785E"], tempMin:70, chance:0.05 },
		"mushroom_cap": { color1:["#CC9978","#CD8C6F","#BE785E"], tempMin:70, chance:0.05 },
		"mushroom_gill": { color1:["#CC9978","#CD8C6F","#BE785E"], tempMin:70, chance:0.05 },
		"hyphae": { color1:["#CC9978","#CD8C6F","#BE785E"], tempMin:70, chance:0.05 }
	},
	tempHigh: 130,
	stateHigh: ["steam","steam","steam","fragrance"],
	tempLow: 0,
	category: "food",
	state: "liquid",
	density: 1052,
	conduct: 0.03,
	stain: -0.01,
	hidden: true,
	isFood: true,
	extinguish: true,
	alias: "soup"
},
"milk": {
	color: "#fafafa",
	behavior: behaviors.LIQUID,
	onMix: function(milk1, milk2) {
		if (shiftDown && Math.random() < 0.01) {
			changePixel(milk1,"butter")
		}
	},
	reactions: {
		"melted_chocolate": { elem1:"chocolate_milk", elem2:null },
		"chocolate": { elem1:"chocolate_milk", elem2:"melted_chocolate", chance:0.05 },
		"chocolate_powder": { elem1:"chocolate_milk", elem2:"melted_chocolate", chance:0.2 },
		"juice": { elem1:"fruit_milk", elem2:null, chance:0.05 },
		"soda": { elem1:"pilk", elem2:null, chance:0.1 },
		"yolk": { elem1:"eggnog", elem2:null, chance:0.1 },
		"ash": { elem1:"soap", chance:0.1 },
		"caramel": { color1:"#C8B39A", elem2:null, chance:0.05 },
		"sugar": { elem2:null, chance:0.005}
	},
	tempLow: 0,
	stateLow: "ice_cream",
	stateLowColorMultiplier: [0.97,0.93,0.87],
	tempHigh: 100,
	stateHigh: ["steam","bubble","cream","cream","sugar"],
	viscosity: 1.5,
	category: "liquids",
	state: "liquid",
	density: 1036.86,
	isFood: true
},
"chocolate_milk": {
	color: "#664934",
	behavior: behaviors.LIQUID,
	onMix: function(milk1, milk2) {
		if (shiftDown && Math.random() < 0.01) {
			changePixel(milk1,"butter");
			milk1.color = pixelColorPick(milk1,"#ba754a");
		}
	},
	tempLow: 0,
	stateLow: "ice_cream",
	stateLowColorMultiplier: [0.97,0.93,0.87],
	tempHigh: 100,
	stateHigh: ["steam","bubble","cream","cream","sugar"],
	viscosity: 1.5,
	category: "liquids",
	state: "liquid",
	density: 1181,
	hidden: true,
	isFood: true
},
"fruit_milk": {
	color: "#c9988f",
	behavior: behaviors.LIQUID,
	onMix: function(milk1, milk2) {
		if (shiftDown && Math.random() < 0.01) {
			changePixel(milk1,"butter");
			milk1.color = pixelColorPick(milk1,"#dea459");
		}
	},
	tempLow: 0,
	stateLow: "ice_cream",
	stateLowColorMultiplier: [0.97,0.93,0.87],
	tempHigh: 100,
	stateHigh: ["steam","bubble","cream","cream","sugar"],
	viscosity: 1.5,
	category: "liquids",
	state: "liquid",
	density: 1045,
	hidden: true,
	isFood: true
},
"pilk": {
	color: "#e9cba3",
	behavior: [
		"XX|CR:foam%1|XX",
		"M2|XX|M2",
		"M2|M1|M2",
	],
	onMix: function(milk1,milk2) {
		if (Math.random() < 0.5) releaseElement(milk1, "foam");
		if (shiftDown && Math.random() < 0.01) {
			changePixel(milk1,"butter");
			milk1.color = pixelColorPick(milk1,"#deb481");
		}
	},
	tempLow: 0,
	stateLow: "ice_cream",
	stateLowColorMultiplier: [0.97,0.93,0.87],
	tempHigh: 100,
	stateHigh: ["steam","bubble","cream","cream","sugar"],
	viscosity: 1.25,
	category: "liquids",
	state: "liquid",
	density: 1033,
	hidden: true,
	isFood: true
},
"eggnog": {
	color: "#ddbf98",
	behavior: behaviors.LIQUID,
	onMix: function(milk1, milk2) {
		if (shiftDown && Math.random() < 0.01) {
			changePixel(milk1,"butter");
			milk1.color = pixelColorPick(milk1,"#ebcc46");
		}
	},
	tempLow: 0,
	stateLow: "ice_cream",
	stateLowColorMultiplier: [0.97,0.93,0.87],
	tempHigh: 100,
	stateHigh: ["steam","bubble","cream","cream","sugar"],
	viscosity: 1.5,
	category: "liquids",
	state: "liquid",
	density: 1033,
	hidden: true,
	isFood: true
},
"egg": {
	color: "#e0d3ab",
	tick: function(pixel) {
		if (pixel.start === pixelTicks) {return}
		if (pixel.drag) pixel.fall = 0;
		if (!tryMove(pixel, pixel.x, pixel.y+1)) {
			if (pixel.animal || pixel.fall < 20) {
				if (Math.random() < 0.5) {
					if (!tryMove(pixel, pixel.x+1, pixel.y+1)) {
						tryMove(pixel, pixel.x-1, pixel.y+1);
					}
				} else {
					if (!tryMove(pixel, pixel.x-1, pixel.y+1)) {
						tryMove(pixel, pixel.x+1, pixel.y+1);
					}
				}
				pixel.fall = 0;
			}
			else if (outOfBounds(pixel.x,pixel.y+1) || (!isEmpty(pixel.x,pixel.y+1,true) && elements.egg.ignore.indexOf(pixelMap[pixel.x][pixel.y+1].element) === -1 && elements[pixelMap[pixel.x][pixel.y+1].element].state === "solid")) {
				changePixel(pixel,"yolk")
			}
			else {pixel.fall = 0}
			if (pixel.animal && pixelTicks-pixel.start >= 500 && Math.random() < 0.2) {
				changePixel(pixel,pixel.animal)
			}
		}
		else {pixel.fall ++}
		if (pixel.temp < -2 || pixel.temp > 100) {
			pixel.animal = null;
		}
		doDefaults(pixel);
	},
	ignore: ["paper","sponge","straw","wheat","rat","frog","pollen","clay","snow","mud","wet_sand","tinder","feather","bread","ice_cream","dough"],
	innerColor: "#ffffff",
	properties: { "fall":0 },
	tempHigh: 1500,
	stateHigh: ["steam","calcium","carbon_dioxide","sulfur_gas"],
	breakInto: "yolk",
	category: "food",
	state: "solid",
	density: 1031,
	cooldown: defaultCooldown
},
"yolk": {
	color: ["#ffbe33","#ffcf33"],
	behavior: behaviors.LIQUID,
	reactions: {
		"dna": { elem1:"homunculus", elem2:null, chance:0.05 }
	},
	tempHigh: 100,
	stateHigh: "hard_yolk",
	tempLow: 0,
	stateLow: "hard_yolk",
	category: "food",
	state: "liquid",
	density: 1027.5,
	viscosity: 270,
	isFood: true
},
"hard_yolk": {
	color: "#dead43",
	behavior: behaviors.STURDYPOWDER,
	tempHigh: 400,
	stateHigh: "smoke",
	category: "food",
	hidden: true,
	isFood: true,
	state: "solid",
	density: 1031,
	alias: "fried egg"
},
"cream": {
	color: "#f7f7f7",
	behavior: behaviors.LIQUID,
	onMix: function(milk1, milk2) {
		if ((shiftDown && Math.random() < 0.01) || (elements[milk2.element].id === elements.milk.id && Math.random() < 0.00025)) {
			changePixel(milk1,"butter")
		}
	},
	reactions: {
		"melted_chocolate": { color1:"#664934", elem2:null },
		"chocolate": { color1:"#664934", elem2:"melted_chocolate", chance:0.05 },
		"chocolate_powder": { color1:"#664934", elem2:"melted_chocolate", chance:0.1 },
		"juice": { elem1:"fruit_milk", elem2:null, chance:0.05 },
		"soda": { elem1:"pilk", elem2:null, chance:0.1 },
		"yolk": { elem1:"eggnog", elem2:null, chance:0.1 },
		"caramel": { color1:"#C8B39A", chance:0.05 },
		"sugar": { elem2:null, chance:0.005}
	},
	viscosity: 1.5,
	tempHigh: 200,
	stateHigh: ["steam","bubble","sugar"],
	tempLow: 0,
	stateLow: "ice_cream",
	stateLowColorMultiplier: 0.97,
	category: "liquids",
	hidden: true,
	isFood: true,
	state: "liquid",
	density: 959.97,
},
"nut_milk": {
	color: "#D7D1C3",
	behavior: behaviors.LIQUID,
	viscosity: 1.5,
	tempHigh: 100,
	stateHigh: "steam",
	tempLow: 0,
	stateLow: "ice",
	category: "liquids",
	state: "liquid",
	density: 1107.41,
	conduct: 0.005,
	stain: -0.1,
	desc: "Dairy-free!",
	isFood: true,
	hidden: true
},
"dough": {
	color: "#bfac91",
	behavior: behaviors.STURDYPOWDER,
	onMix: function(dough,ingredient) {
		if (elements[ingredient.element].isFood && elements[ingredient.element].id !== elements.dough.id && elements[ingredient.element].id !== elements.flour.id && elements[ingredient.element].id !== elements.batter.id && elements[ingredient.element].id !== elements.bread.id) {
			var rgb1 = dough.color.match(/\d+/g);
			var rgb2 = ingredient.color.match(/\d+/g);
			// average the colors
			var rgb = [
				Math.round((parseInt(rgb1[0])*10+parseInt(rgb2[0]))/11),
				Math.round((parseInt(rgb1[1])*10+parseInt(rgb2[1]))/11),
				Math.round((parseInt(rgb1[2])*10+parseInt(rgb2[2]))/11)
			];
			// convert rgb to hex
			var hex = RGBToHex(rgb);
			dough.color = pixelColorPick(dough, hex);
		}
	},
	reactions: {
		"milk": { elem2:"broth", color2:"#ECC891", tempMin:70 },
		"cream": { elem2:"broth", color2:"#ECC891", tempMin:70 },
		"yeast": { elem2:"dough", tempMin:40, chance:0.01 },
		"cream": { elem2:"dough", tempMin:40, chance:0.01 },
		"baking_soda": { elem2:"dough", tempMin:40, chance:0.01 },
		"quicklime": { elem2:"dough", tempMin:40, chance:0.01 }
	},
	category: "food",
	tempHigh: 94,
	stateHigh: "bread",
	//stateHighColorMultiplier: 0.9,
	burn:40,
	burnTime:25,
	burnInto:"ash",
	state: "solid",
	density: 526.9,
	isFood: true
},
"batter": {
	color: "#d4bc85",
	behavior: behaviors.LIQUID,
	onMix: function(batter,ingredient) {
		if (elements[ingredient.element].isFood && elements[ingredient.element].id !== elements.batter.id && elements[ingredient.element].id !== elements.flour.id && elements[ingredient.element].id !== elements.yolk.id && elements[ingredient.element].id !== elements.dough.id && elements[ingredient.element].id !== elements.baked_batter.id) {
			var rgb1 = batter.color.match(/\d+/g);
			var rgb2 = ingredient.color.match(/\d+/g);
			// average the colors
			var rgb = [
				Math.round((parseInt(rgb1[0])*10+parseInt(rgb2[0]))/11),
				Math.round((parseInt(rgb1[1])*10+parseInt(rgb2[1]))/11),
				Math.round((parseInt(rgb1[2])*10+parseInt(rgb2[2]))/11)
			];
			// convert rgb to hex
			var hex = RGBToHex(rgb);
			batter.color = pixelColorPick(batter, hex);
			if ((elements[ingredient.element].density > elements.batter.density || shiftDown) && Math.random() < 0.05) {
				// 50% change to delete ingredient
				if (Math.random() < 0.5) { deletePixel(ingredient.x, ingredient.y); }
				else {
					ingredient.color = pixelColorPick(ingredient, hex);
				}
			}
		}
	},
	reactions: {
		"yeast": { elem2:"batter", tempMin:40, chance:0.01 },
		"cream": { elem2:"batter", tempMin:40, chance:0.01 },
		"baking_soda": { elem2:"batter", tempMin:40, chance:0.01 },
		"quicklime": { elem2:"batter", tempMin:40, chance:0.01 }
	},
	category: "food",
	tempHigh: 94,
	stateHigh: "baked_batter",
	stateHighColorMultiplier: 0.9,
	burn:40,
	burnTime:25,
	burnInto:"ash",
	state: "liquid",
	viscosity: 10000,
	density: 1001,
	hidden: true,
	isFood: true
},
"homunculus": {
	color: ["#c4b270","#9c916a","#9e8955","#a89a76"],
	behavior: [
		"XX|XX|XX",
		"M2%0.5|XX|M2%0.5",
		"XX|M1|XX",
	],
	reactions: {
		"milk": { elem2:null, chance:0.025 },
		"blood": { elem2:null, chance:0.05 },
		"sugar": { elem2:null, chance:0.025 },
		"meat": { elem2:null, chance:0.001 },
		"cooked_meat": { elem2:null, chance:0.0005 },
		"oxygen": { elem2:"carbon_dioxide" },
		"radiation": { elem1:["human","skin"], elem2:null }
	},
	tempHigh: 100,
	stateHigh: "meat",
	tempLow: 0,
	stateLow: "frozen_meat",
	category: "life",
	state: "solid",
	density: 1450,
	hidden: true,
	breakInto: ["blood","slime"]
},
"butter": {
	color: "#ffe46b",
	behavior: behaviors.STURDYPOWDER,
	reactions: {
		"caustic_potash": { elem1:"soap", elem2:"soap" }
	},
	tempHigh: 33,
	stateHigh: "melted_butter",
	category: "food",
	state: "solid",
	density: 860,
	isFood: true
},
"cheese": {
	color: "#fcba03",
	behavior: behaviors.STURDYPOWDER,
	reactions: {
		"dirty_water": { elem1:"rotten_cheese", chance:0.1 },
		"stench": { elem1:"rotten_cheese", chance:0.2 },
		"fly": { elem1:"rotten_cheese", chance:0.2 },
		"dioxin": { elem1:"rotten_cheese", elem2:null, chance:0.1 },
		"uranium": { elem1:"rotten_cheese", chance:0.1 },
		"cancer": { elem1:"rotten_cheese", chance:0.1 },
		"plague": { elem1:"rotten_cheese", elem2:null, chance:0.3 },
		"ant": { elem1:"rotten_cheese", chance:0.1 },
		"worm": { elem1:"rotten_cheese", chance:0.1 },
		"rat": { elem1:"rotten_cheese", chance:0.1 },
		"mushroom_spore": { elem1:"rotten_cheese", chance:0.1 },
		"mushroom_stalk": { elem1:"rotten_cheese", chance:0.1 },
		"mercury": { elem1:"rotten_cheese", elem2:null, chance:0.2 },
		"mercury_gas": { elem1:"rotten_cheese", elem2:null, chance:0.1 },
		"virus": { elem1:"rotten_cheese", chance:0.1 },
		"poison": { elem1:"rotten_cheese", elem2:null, chance:0.5 },
		"infection": { elem1:"rotten_cheese", elem2:null, chance:0.1 },
		"ink": { elem1:"rotten_cheese", elem2:null, chance:0.1 },
		"acid": { elem1:"rotten_cheese", elem2:null, chance:0.5 },
		"acid_gas": { elem1:"rotten_cheese", chance:0.4 },
		"cyanide": { elem1:"rotten_cheese"
